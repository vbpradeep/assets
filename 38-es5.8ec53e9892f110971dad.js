!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{u1LX:function(t,n,o){"use strict";o.r(n),o.d(n,"TicketFormsModule",(function(){return ke}));var a,c=o("ofXK"),r=o("ltyr"),d=o("hXFv"),l=o("np3I"),s=o("jcQU"),b=o("GJ+o"),u=o("Pk9d"),h=o("QYJQ"),g=o("SRvG"),p=o("tyNb"),f=o("mrjb"),m=o("TSZ8"),v=o("5LOs"),T=o("hCAU"),S=o("CBeA"),x=o("58Y9"),k=o("M9dC"),F=o("CU1o"),C=o("dSv1"),O=o("H552"),E=function(e){return e.NewField="1",e.ExistingField="2",e}({}),y=o("A4Lh"),I=o("oRrO"),w=o("kR0U"),D=o("qBM0"),P=o("4SUy"),L=o("y5ZJ"),M=o("fXoL"),R=o("1kef"),A=o("JCZ/"),N=o("tk/3"),B=((a=function(){function t(i){e(this,t),this.http=i,this.httpOptions={headers:new N.e({"Content-Type":"application/json"})}}return i(t,[{key:"getTicketFieldCollection",value:function(e){return this.http.get(e).toPromise()}},{key:"getTicketFormList",value:function(e){return this.http.get(e).toPromise()}},{key:"deleteTicketField",value:function(e,t){return this.http.put(w.a.TicketFields+"/"+e+"/ticket_forms/remove_fields",t).toPromise()}},{key:"addExistingTicketField",value:function(e,t){return this.http.put(w.a.TicketFields+"/"+e+"/ticket_forms/add_existing_fields",t).toPromise()}},{key:"ticketFieldDragDrop",value:function(e,t){return this.http.put(w.a.TicketFields+"/"+e+"/ticket_forms/position_change",t).toPromise()}}]),t}()).\u0275fac=function(e){return new(e||a)(M.bc(N.b))},a.\u0275prov=M.Jb({token:a,factory:a.\u0275fac}),a),j=o("X8pc"),_=o("IaKf"),G=o("5OZa"),J=o("AjNn"),K=o("EiDu"),U=["ticketFormsListGrid"],V=["brandDrop"],W=["addFieldButton"],$=["addOrRemoveTicketFormDialog"],Q=["contextmenu"],H=["addexistingFieldGrid"],X=["addExistingFieldButton"],q=["ticketFormsEle"];function z(e,t){if(1&e){var i=M.Ub();M.Tb(0,"div",29),M.Tb(1,"button",30,31),M.ec("select",(function(e){return M.Bc(i),M.gc().addFieldSelect(e)})),M.hc(3,"translate"),M.Sb(),M.Sb()}if(2&e){var n=M.gc();M.xb(1),M.oc("content",M.ic(3,2,"ADDFIELD")),M.nc("items",n.addFieldItems)}}function Y(e,t){if(1&e&&(M.Tb(0,"span"),M.Tb(1,"div"),M.Ob(2,"i",32),M.Sb(),M.Sb()),2&e){var i=t.$implicit;M.xb(1),M.yb("data-non-elliptical",!0)("data-title",i.fieldType),M.xb(1),M.oc("ngClass",null!=i.fieldTypeIconCssClass?i.fieldTypeIconCssClass:"bd-custom-default-icon")}}function Z(e,t){if(1&e){var i=M.Ub();M.Tb(0,"span",40),M.ec("click",(function(){M.Bc(i);var e=M.gc().$implicit,t=M.gc();return e.canEditConfiguration||"Tags"==e.labelForAgentPortal||"Status"==e.labelForAgentPortal?t.fieldClick("/admin/"+e.labelForAgentPortal.toLowerCase().replace(" ","")):""})),M.Tb(1,"span",2),M.Lc(2),M.Sb(),M.Sb()}if(2&e){var n=M.gc().$implicit;M.xb(1),M.nc("ngClass",n.canEditConfiguration||"Tags"==n.labelForAgentPortal||"Status"==n.labelForAgentPortal?"primary-link-color-blue cursor-pointer":""),M.yb("data-title",n.labelForAgentPortal),M.xb(1),M.Mc(n.labelForAgentPortal)}}function ee(e,t){if(1&e){var i=M.Ub();M.Tb(0,"span",41),M.Tb(1,"span",42),M.ec("click",(function(e){M.Bc(i);var t=M.gc().$implicit,n=M.gc();return t.canEditConfiguration?n.fieldNameClick(e,t.fieldId):""})),M.Lc(2),M.Sb(),M.Sb()}if(2&e){var n=M.gc().$implicit;M.xb(1),M.nc("ngClass",n.canEditConfiguration?"primary-link-color-blue cursor-pointer":""),M.yb("data-title",n.labelForAgentPortal),M.xb(1),M.Mc(n.labelForAgentPortal)}}function te(e,t){1&e&&(M.Tb(0,"span",43),M.Tb(1,"span"),M.Lc(2),M.hc(3,"translate"),M.Sb(),M.Sb()),2&e&&(M.xb(2),M.Nc(" ",M.ic(3,1,"SYSTEM"),""))}function ie(e,t){1&e&&(M.Tb(0,"span",44),M.Tb(1,"span"),M.Lc(2),M.hc(3,"translate"),M.Sb(),M.Sb()),2&e&&(M.xb(2),M.Nc(" ",M.ic(3,1,"INACTIVE"),""))}function ne(e,t){if(1&e&&(M.Tb(0,"div",33),M.Tb(1,"div",34),M.Tb(2,"span",35),M.Jc(3,Z,3,3,"span",36),M.Jc(4,ee,3,3,"span",37),M.Jc(5,te,4,3,"span",38),M.Jc(6,ie,4,3,"span",39),M.Sb(),M.Sb(),M.Sb()),2&e){var i=t.$implicit;M.xb(3),M.nc("ngIf","Status"==i.labelForAgentPortal||"Priority"==i.labelForAgentPortal||"Tags"==i.labelForAgentPortal),M.xb(1),M.nc("ngIf","Status"!=i.labelForAgentPortal&&"Priority"!=i.labelForAgentPortal&&"Tags"!=i.labelForAgentPortal),M.xb(1),M.nc("ngIf",i.isDefaultSystemField),M.xb(1),M.nc("ngIf",!i.isActive)}}function oe(e,t){if(1&e&&(M.Tb(0,"div"),M.Tb(1,"div",45),M.Lc(2),M.hc(3,"translate"),M.hc(4,"translate"),M.Sb(),M.Sb()),2&e){var i=t.$implicit;M.xb(2),M.Nc(" ",i.isVisibleInCustomerPortal?M.ic(3,1,"YES"):M.ic(4,3,"NO"),"")}}function ae(e,t){if(1&e){var i=M.Ub();M.Tb(0,"span",48),M.ec("click",(function(){M.Bc(i);var e=M.gc().$implicit,t=M.gc();return t.moreOptionsSelect(t.editItem,e)})),M.hc(1,"translate"),M.Sb()}2&e&&M.yb("data-title",M.ic(1,1,"EDIT"))}function ce(e,t){if(1&e){var i=M.Ub();M.Tb(0,"span",49),M.ec("click",(function(){M.Bc(i);var e=M.gc().$implicit,t=M.gc();return t.moreOptionsSelect(t.deleteItem,e)})),M.hc(1,"translate"),M.Sb()}2&e&&M.yb("data-title",M.ic(1,1,"REMOVE"))}function re(e,t){if(1&e&&(M.Jc(0,ae,2,3,"span",46),M.Jc(1,ce,2,3,"span",47)),2&e){var i=t.$implicit;M.nc("ngIf",i.canEditConfiguration),M.xb(1),M.nc("ngIf",i.canEditConfiguration&&"categoryId"!==i.apiName)}}function de(e,t){if(1&e&&(M.Tb(0,"div",50),M.Lc(1),M.hc(2,"translate"),M.Sb(),M.Tb(3,"div",50),M.Lc(4),M.hc(5,"translate"),M.Sb(),M.Tb(6,"div",51),M.Lc(7),M.hc(8,"translate"),M.Sb()),2&e){var i=M.gc();M.nc("hidden",!i.removeTicketField),M.xb(1),M.Mc(M.ic(2,6,"REMOVETICKETFIELD")),M.xb(2),M.nc("hidden",!i.addExistingTicketField),M.xb(1),M.Mc(M.ic(5,8,"ADDEXISTINGFIELDS")),M.xb(2),M.nc("hidden",!i.addExistingTicketField),M.xb(1),M.Mc(M.ic(8,10,"CUSTOMFIELDPLACEHOLDER"))}}function le(e,t){if(1&e){var i=M.Ub();M.Tb(0,"div",50),M.Tb(1,"button",52),M.ec("click",(function(){return M.Bc(i),M.gc().closeDialog()})),M.Lc(2),M.hc(3,"translate"),M.Sb(),M.Tb(4,"button",53),M.ec("click",(function(){return M.Bc(i),M.gc().updateRemoveTicketField()})),M.Lc(5),M.hc(6,"translate"),M.hc(7,"translate"),M.Sb(),M.Sb(),M.Tb(8,"div",50),M.Tb(9,"button",54),M.ec("mousedown",(function(){return M.Bc(i),M.gc().closeDialog()})),M.Lc(10),M.hc(11,"translate"),M.Sb(),M.Tb(12,"button",55,56),M.ec("click",(function(){return M.Bc(i),M.gc().addExistingTicketFields()})),M.Lc(14),M.hc(15,"translate"),M.Sb(),M.Sb()}if(2&e){var n=M.gc();M.nc("hidden",!n.removeTicketField),M.xb(2),M.Mc(M.ic(3,8,"CANCEL")),M.xb(3),M.Oc("",M.ic(6,10,"YES"),", ",M.ic(7,12,"REMOVE"),""),M.xb(3),M.nc("hidden",!n.addExistingTicketField),M.xb(2),M.Mc(M.ic(11,14,"CANCEL")),M.xb(2),M.nc("disabled",!0),M.xb(2),M.Mc(M.ic(15,16,"ADD"))}}function se(e,t){if(1&e&&(M.Tb(0,"div",69),M.Ob(1,"span",70),M.hc(2,"safe"),M.Sb()),2&e){var i=M.gc(2);M.xb(1),M.nc("innerHTML",M.jc(2,1,i.errorMessage,"html"),M.Cc)}}function be(e,t){if(1&e&&(M.Tb(0,"span"),M.Tb(1,"div"),M.Ob(2,"i",32),M.Sb(),M.Sb()),2&e){var i=t.$implicit;M.xb(1),M.yb("data-non-elliptical",!0)("data-title",i.fieldType),M.xb(1),M.oc("ngClass",null!=i.fieldTypeIconCssClass?i.fieldTypeIconCssClass:"bd-custom-default-icon")}}function ue(e,t){if(1&e&&(M.Tb(0,"span"),M.Lc(1),M.Sb()),2&e){var i=t.$implicit;M.xb(1),M.Mc(i.labelForAgentPortal)}}function he(e,t){if(1&e&&(M.Tb(0,"span"),M.Lc(1),M.Sb()),2&e){var i=t.$implicit;M.xb(1),M.Mc(i.labelForCustomerPortal)}}function ge(e,t){if(1&e&&(M.Tb(0,"span"),M.Lc(1),M.Sb()),2&e){var i=t.$implicit;M.xb(1),M.Mc(i.apiName)}}function pe(e,t){if(1&e){var i=M.Ub();M.Tb(0,"div",null,57),M.Tb(2,"div",50),M.Tb(3,"div",58),M.Tb(4,"ul",59),M.Tb(5,"li"),M.Lc(6),M.hc(7,"translate"),M.Sb(),M.Tb(8,"li"),M.Lc(9),M.hc(10,"translate"),M.Sb(),M.Tb(11,"li"),M.Lc(12),M.hc(13,"translate"),M.Sb(),M.Tb(14,"li"),M.Lc(15),M.hc(16,"translate"),M.Sb(),M.Sb(),M.Tb(17,"div"),M.Lc(18),M.hc(19,"translate"),M.Sb(),M.Sb(),M.Sb(),M.Tb(20,"div",50),M.Tb(21,"div"),M.Jc(22,se,3,4,"div",60),M.Tb(23,"div",61),M.Tb(24,"div",62),M.Tb(25,"ejs-grid",63,64),M.ec("rowDeselected",(function(){return M.Bc(i),M.gc().gridRowSelected()}))("dataBound",(function(){return M.Bc(i),M.gc().fieldListDataBound()}))("rowSelected",(function(){return M.Bc(i),M.gc().gridRowSelected()})),M.Tb(27,"e-columns"),M.Ob(28,"e-column",65),M.Ob(29,"e-column",66),M.Tb(30,"e-column",15),M.Jc(31,be,3,3,"ng-template",null,16,M.Kc),M.Sb(),M.Tb(33,"e-column",67),M.hc(34,"translate"),M.Jc(35,ue,2,1,"ng-template",null,16,M.Kc),M.Sb(),M.Tb(37,"e-column",18),M.hc(38,"translate"),M.Jc(39,he,2,1,"ng-template",null,16,M.Kc),M.Sb(),M.Tb(41,"e-column",68),M.hc(42,"translate"),M.Jc(43,ge,2,1,"ng-template",null,16,M.Kc),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Sb()}if(2&e){var n=M.gc();M.xb(2),M.nc("hidden",!n.removeTicketField),M.xb(4),M.Mc(M.ic(7,17,"TICKETFORMREMOVEACTIONONE")),M.xb(3),M.Mc(M.ic(10,19,"TICKETFORMREMOVEACTIONTWO")),M.xb(3),M.Mc(M.ic(13,21,"TICKETFORMREMOVEACTIONTHREE")),M.xb(3),M.Mc(M.ic(16,23,"TICKETFORMREMOVEACTIONFOUR")),M.xb(3),M.Mc(M.ic(19,25,"TICKETFORMREMOVEALERT")),M.xb(2),M.nc("hidden",!n.addExistingTicketField),M.xb(2),M.nc("ngIf",n.errorMessage),M.xb(3),M.nc("dataSource",n.fieldList)("allowResizing",!0)("toolbar",n.toolbar)("allowSelection",!0)("selectionSettings",n.selectOptions),M.xb(4),M.nc("visible",!1),M.xb(4),M.oc("headerText",M.ic(34,27,"LABELFORAGENTPORATL")),M.xb(4),M.oc("headerText",M.ic(38,29,"LABELFORCUTOMERPORTAL")),M.xb(4),M.oc("headerText",M.ic(42,31,"APIFIELDNAME"))}}var fe,me,ve,Te=[{path:"",component:(fe=function(){function t(i,n,o,a,c,r,d,l){var s=this;e(this,t),this.appRootService=i,this.seoService=n,this.router=o,this.ticketFormService=a,this.spinService=c,this.toastService=r,this.activatedRoute=d,this.cd=l,this.perPage=y.E.toString(),this.currentpage="1",this.fieldTypeEnum=I.a,this.showSaveChangesButton=!1,this.brandFields={text:"text",value:"key"},this.autoCompleteAttribute={autocomplete:"anyrandomstring"},this.addFieldItems=[{text:Object(C.a)("NEW"),id:E.NewField},{text:Object(C.a)("EXISTING"),id:E.ExistingField}],this.preventFields=[{apiName:v.d.Requester},{apiName:v.d.Brand},{apiName:v.d.Visibility},{apiName:v.d.Agent},{apiName:v.d.Subject},{apiName:v.d.Description},{apiName:v.d.Tag},{apiName:v.d.Group},{apiName:v.d.CCS}],this.animation={effect:"none"},this.loadCount=1,this.editItem={item:{id:D.a.Edit}},this.deleteItem={item:{id:D.a.Delete}};var b=Object(C.a)("ADMIN")+" / "+Object(C.a)("TICKETFORMS"),u=Object(C.a)("TICKETFORMS")+" | "+Object(C.a)("ADMIN");this.appRootService.setAppTitleText(b),this.seoService.setHeaderElements({title:u}),this.appRootService.isSideBarNeeded(!0),this.appRootService.setBrandDropDownVisibility(!1),this.activatedRoute.data.subscribe((function(){s.brandId=Object(P.X)(history.state.data)?(""+y.e.brandId).toString():history.state.data.brandId.toString()}))}return i(t,[{key:"ngOnInit",value:function(){this.brandDropData=new O.a({url:F.a.UserBrands,adaptor:new k.b}),this.toolbar=["Search"],this.selectOptions={persistSelection:!0},this.href=this.router.url;var e=Object(x.v)("brandid",window.location.href);e>0&&(this.brandId=e.toString(),window.history.replaceState({},"","admin/ticket-forms"),this.href=location.pathname)}},{key:"ngAfterViewInit",value:function(){var e=this;this.ticketFormsEle.nativeElement.addEventListener("scroll",(function(){e.contextmenu&&e.contextmenu.close()}))}},{key:"tickerFormOpenDialog",value:function(){var e=this.addOrRemoveTicketFormDialog.element.querySelector(".remove-dialog-cancel-button");e&&e.focus()}},{key:"ticketFormsListDataBound",value:function(){var e=this;this.grid.widthService.setWidthToColumns(),Object(x.a)(this.grid);var t=this.grid.getCurrentViewRecords(),i=[];t.forEach((function(t,n){e.preventFields.forEach((function(o){o.apiName==t.apiName&&i.push(e.grid.getRowByIndex(n))}))}));for(var n=0;n<i.length;n++){var o=document.createElement("td");o.classList.add("intentcell"),i[n].querySelector(".e-rowdragdrop").remove(),i[n].prepend(o),n>0&&(i[n].querySelector(".intentcell").style.borderTop="1px solid #e0e0e0")}}},{key:"fieldListDataBound",value:function(){this.addexistingFieldGrid.widthService.setWidthToColumns(),Object(x.a)(this.addexistingFieldGrid)}},{key:"fieldClick",value:function(e){this.router.navigateByUrl(e)}},{key:"fieldNameClick",value:function(e,t){e.stopPropagation(),this.router.navigate(["/admin/ticket-fields/"+t],{state:{data:{brandId:parseInt(this.brandId,10),isTicketFormPage:!0}}})}},{key:"addFieldSelect",value:function(e){e.item.id===E.NewField?this.router.navigate(["/admin/ticket-fields/add"],{state:{data:{brandId:parseInt(this.brandId,10),isTicketFormPage:!0}}}):(this.removeTicketField=!1,this.addExistingTicketField=!0,this.addOrRemoveTicketFormDialog.height="460px",this.addOrRemoveTicketFormDialog.width="750px",this.addexistingFieldGrid.clearSelection(),this.spinService.showSpinner(),this.getFieldCollection())}},{key:"closeDialog",value:function(){this.addOrRemoveTicketFormDialog.hide(),this.addexistingFieldGrid.clearSelection(),this.addExistingFieldButton.disabled=!0,this.addExistingFieldButton.isPrimary=!1}},{key:"cancelDialog",value:function(){this.deleteDialog.hide()}},{key:"brandDataBound",value:function(){this.brandId=this.brandDrop.value,this.cd.detectChanges(),1==this.loadCount&&(this.loadGrid(),++this.loadCount)}},{key:"brandChange",value:function(e){this.brandId=e.value,this.cd.detectChanges(),this.loadGrid()}},{key:"loadGrid",value:function(){var e=this,t=w.a.TicketFields+"/"+this.brandId+"/ticket_forms";t=Object(x.i)(t,"Page",this.currentpage),t=Object(x.i)(t,"PerPage",this.perPage),this.ticketFormService.getTicketFormList(t).then((function(t){e.ticketFormsList=t.result,e.cd.detectChanges()}))}},{key:"getFieldCollection",value:function(){var e=this,t=w.a.TicketFields+"/collections";t=Object(x.i)(t,"Page",this.currentpage),t=Object(x.i)(t,"PerPage",this.perPage),t=Object(x.i)(t,"brandId",this.brandId.toString()),this.ticketFormService.getTicketFieldCollection(t).then((function(t){e.fieldList=t.result,e.spinService.hideSpinner(),e.addOrRemoveTicketFormDialog.show(),e.cd.detectChanges()}))}},{key:"moreOptionsSelect",value:function(e,t){this.selectedItemData=t,e.item.id===D.a.Edit?this.router.navigateByUrl(this.selectedItemData.apiName==v.e.Status?"/admin/status":this.selectedItemData.apiName==v.e.Priority?"/admin/priority":this.href+"/"+this.selectedItemData.fieldId):(this.removeTicketField=!0,this.addExistingTicketField=!1,this.addOrRemoveTicketFormDialog.height="280px",this.addOrRemoveTicketFormDialog.width="550px",this.addOrRemoveTicketFormDialog.show())}},{key:"gridRowSelected",value:function(){this.addexistingFieldGrid.getSelectedRecords().length>0?(this.addExistingFieldButton.isPrimary=!0,this.addExistingFieldButton.disabled=!1):(this.addExistingFieldButton.isPrimary=!1,this.addExistingFieldButton.disabled=!0)}},{key:"updateRemoveTicketField",value:function(){var e=this,t=[];t.push(this.selectedItemData.fieldId),this.spinService.showSpinner(),this.ticketFormService.deleteTicketField(this.brandId,t).then((function(t){t&&(e.spinService.hideSpinner(),e.addOrRemoveTicketFormDialog.hide(),e.loadGrid(),e.toastService.successToast(t.message),Object(L.c)())})).catch((function(t){e.spinService.hideSpinner();var i=Object(x.q)(t.error);400===t.status&&(e.spinService.hideSpinner(),e.toastService.failureToast(i))}))}},{key:"addExistingTicketFields",value:function(){var e=this,t=this.addexistingFieldGrid.getSelectedRecords(),i=[];t.length>0&&Object.keys(t).map((function(e){i.push(t[e].fieldId)})),this.spinService.showSpinner(),i.length>0&&this.ticketFormService.addExistingTicketField(this.brandId,i).then((function(t){t&&(e.spinService.hideSpinner(),e.addOrRemoveTicketFormDialog.hide(),e.loadGrid(),e.addexistingFieldGrid.clearSelection(),e.toastService.successToast(t.message),e.addExistingFieldButton.disabled=!0,e.addExistingFieldButton.isPrimary=!1,Object(L.c)())})).catch((function(t){e.spinService.hideSpinner(),400===t.status&&(e.errorMessage=Object(x.q)(t.error),e.spinService.hideSpinner())}))}},{key:"ticketFieldDrag",value:function(e){var t=this.grid.getRowInfo(e.target).rowData;t&&this.preventFields.forEach((function(i){i.apiName==t.apiName&&(e.cancel=!0)}))}},{key:"ticketFieldDrop",value:function(e){var t=this.grid.getRowInfo(this.grid.getRowByIndex(e.dropIndex)).rowData;t&&this.preventFields.forEach((function(i){i.apiName==t.apiName&&(e.cancel=!0)})),e.fromIndex===e.dropIndex||Object(P.X)(e.dropIndex)||isNaN(e.dropIndex)||(this.showSaveChangesButton=!0,this.brandDrop.enabled=!1,this.grid.hideColumns([Object(C.a)("ACTION")]))}},{key:"cancelDragDrop",value:function(){this.brandDrop.enabled=!0,this.showSaveChangesButton=!1,this.grid.showColumns([Object(C.a)("ACTION")]),this.loadGrid()}},{key:"saveDragDrop",value:function(){var e=this,t=[];this.ticketFormsList.length>0&&Object.keys(this.ticketFormsList).map((function(i){t.push(e.ticketFormsList[i].fieldId)})),this.spinService.showSpinner(),t.length>0&&this.ticketFormService.ticketFieldDragDrop(this.brandId,t).then((function(t){t&&(e.spinService.hideSpinner(),e.brandDrop.enabled=!0,e.showSaveChangesButton=!1,e.grid.showColumns([Object(C.a)("ACTION")]),e.loadGrid(),e.toastService.successToast(t.message),Object(L.c)())})).catch((function(t){e.spinService.hideSpinner();var i=Object(x.q)(t.error);400===t.status&&(e.spinService.hideSpinner(),e.toastService.failureToast(i))}))}}]),t}(),fe.\u0275fac=function(e){return new(e||fe)(M.Nb(R.a),M.Nb(A.a),M.Nb(p.g),M.Nb(B),M.Nb(j.a),M.Nb(_.a),M.Nb(p.a),M.Nb(M.h))},fe.\u0275cmp=M.Hb({type:fe,selectors:[["ng-component"]],viewQuery:function(e,t){var i;1&e&&(M.Gc(U,!0),M.Qc(V,!0),M.Qc(W,!0),M.Qc($,!0),M.Qc(Q,!0),M.Qc(H,!0),M.Qc(X,!0),M.Qc(q,!0)),2&e&&(M.xc(i=M.fc())&&(t.grid=i.first),M.xc(i=M.fc())&&(t.brandDrop=i.first),M.xc(i=M.fc())&&(t.addFieldButton=i.first),M.xc(i=M.fc())&&(t.addOrRemoveTicketFormDialog=i.first),M.xc(i=M.fc())&&(t.contextmenu=i.first),M.xc(i=M.fc())&&(t.addexistingFieldGrid=i.first),M.xc(i=M.fc())&&(t.addExistingFieldButton=i.first),M.xc(i=M.fc())&&(t.ticketFormsEle=i.first))},decls:54,vars:38,consts:[[1,"hd-grid-full-height","ticket-forms-grid"],["ticketFormsEle",""],[3,"ngClass"],[1,"secondary","padding-10","information-content"],[1,"bd-icon","bd-icon-info","information-icon"],[1,"flex-horizontal","mt-2","mr-3","mb-3","pr-1"],[1,"pl-4","mt-1","font-500"],[1,"pl-3"],["width","150","popUpHeight","200px","index","0","allowFiltering","true",3,"htmlAttributes","dataSource","fields","filterBarPlaceholder","placeholder","value","dataBound","change"],["brandDrop",""],["class","align-right",4,"ngIf"],[1,"no-margin","pl-20","pr-20","ticket-forms-grid","height-100"],[1,"ticket-forms-list"],["allowResizing","true","cssClass","grid-scroll-content","height","100%",3,"dataSource","allowRowDragAndDrop","dataBound","rowDrop","rowDrag"],["ticketFormsListGrid",""],["minWidth","40","width","40"],["template",""],["field","labelForAgentPortal","minWidth","150","width","200","textAlign","Left",3,"headerText"],["field","labelForCustomerPortal","minWidth","120","width","120","textAlign","Left","clipMode","EllipsisWithTooltip",3,"headerText"],["field","isVisibleInCustomerPortal","minWidth","80","width","110","textAlign","Center","clipMode","EllipsisWithTooltip",3,"headerText"],["minWidth","100","width","100","textAlign","Center"],[1,"ticket-forms-action-buttons",3,"hidden"],["ejs-button","",1,"mr-2",3,"isPrimary","click"],["type","button","cssClass","e-outline","ejs-button","",1,"e-btn",3,"click"],["width","550px","isModal","true","showCloseIcon","true","closeOnEscape","true",3,"visible","overlayClick","open","close"],["addOrRemoveTicketFormDialog",""],["header",""],["footerTemplate",""],["content",""],[1,"align-right"],["ejs-dropdownbutton","",1,"e-btn","add-button","e-primary","e-outline",3,"items","content","select"],["addFieldButton",""],[1,"bd-icon",2,"font-size","16px","position","relative","top","4px",3,"ngClass"],[1,"flex-horizontal","secondary","p-1"],[1,"flex-vertical","no-wrap","ellipsis"],[1,"flex-horizontal"],["class","e-text no-wrap ellipsis",3,"click",4,"ngIf"],["class","e-text no-wrap ellipsis",4,"ngIf"],["class","grid-label status left-spacing",4,"ngIf"],["class","grid-label inactive-label status left-spacing",4,"ngIf"],[1,"e-text","no-wrap","ellipsis",3,"click"],[1,"e-text","no-wrap","ellipsis"],[3,"ngClass","click"],[1,"grid-label","status","left-spacing"],[1,"grid-label","inactive-label","status","left-spacing"],[1,"grid-text-font-color"],["class","bd-icon bd-icon-edit more-option-button",3,"click",4,"ngIf"],["class","more-option-button bd-icon bd-icon-close",3,"click",4,"ngIf"],[1,"bd-icon","bd-icon-edit","more-option-button",3,"click"],[1,"more-option-button","bd-icon","bd-icon-close",3,"click"],[3,"hidden"],[1,"add-existing-dialog-header-content","secondary",3,"hidden"],["data-ripple","true",1,"e-control","e-btn","e-secondary","e-flat","remove-dialog-cancel-button",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-primary","e-flat","ticket-form-remove-button",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-secondary","e-flat","e-outline",3,"mousedown"],["ejs-button","",3,"disabled","click"],["addExistingFieldButton",""],["addRemoveTicketForm",""],[1,"font-13"],[1,"ticket-form-delete-content"],["class","error-msg",4,"ngIf"],[1,"form-group","pt-1"],[1,"no-margin","no-padding"],["id","taglistgrid",3,"dataSource","allowResizing","toolbar","allowSelection","selectionSettings","rowDeselected","dataBound","rowSelected"],["addexistingFieldGrid",""],["type","checkbox","minWidth","40","width","40"],["field","fieldId","isPrimaryKey","true",3,"visible"],["field","labelForAgentPortal","minWidth","120","width","120","textAlign","Left","clipMode","EllipsisWithTooltip",3,"headerText"],["field","apiName","minWidth","120","width","120","textAlign","Left","clipMode","EllipsisWithTooltip",3,"headerText"],[1,"error-msg"],[1,"error",3,"innerHTML"]],template:function(e,t){1&e&&(M.Tb(0,"div",0,1),M.Tb(2,"div",2),M.Tb(3,"div",3),M.Ob(4,"div",4),M.Lc(5),M.hc(6,"translate"),M.Sb(),M.Tb(7,"div",5),M.Tb(8,"label",6),M.Lc(9),M.hc(10,"translate"),M.Sb(),M.Tb(11,"div",7),M.Tb(12,"ejs-dropdownlist",8,9),M.ec("dataBound",(function(){return t.brandDataBound()}))("change",(function(e){return t.brandChange(e)})),M.hc(14,"translate"),M.hc(15,"translate"),M.Sb(),M.Sb(),M.Jc(16,z,4,4,"div",10),M.Sb(),M.Tb(17,"div",11),M.Tb(18,"div",12),M.Tb(19,"ejs-grid",13,14),M.ec("dataBound",(function(){return t.ticketFormsListDataBound()}))("rowDrop",(function(e){return t.ticketFieldDrop(e)}))("rowDrag",(function(e){return t.ticketFieldDrag(e)})),M.Tb(21,"e-columns"),M.Tb(22,"e-column",15),M.Jc(23,Y,3,3,"ng-template",null,16,M.Kc),M.Sb(),M.Tb(25,"e-column",17),M.hc(26,"translate"),M.Jc(27,ne,7,4,"ng-template",null,16,M.Kc),M.Sb(),M.Ob(29,"e-column",18),M.hc(30,"translate"),M.Tb(31,"e-column",19),M.hc(32,"translate"),M.Jc(33,oe,5,5,"ng-template",null,16,M.Kc),M.Sb(),M.Tb(35,"e-column",20),M.Jc(36,re,2,2,"ng-template",null,16,M.Kc),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Sb(),M.Tb(38,"div",21),M.Tb(39,"button",22),M.ec("click",(function(){return t.saveDragDrop()})),M.Lc(40),M.hc(41,"translate"),M.Sb(),M.Tb(42,"button",23),M.ec("click",(function(){return t.cancelDragDrop()})),M.Lc(43),M.hc(44,"translate"),M.Sb(),M.Sb(),M.Sb(),M.Tb(45,"div"),M.Tb(46,"ejs-dialog",24,25),M.ec("overlayClick",(function(){return t.closeDialog()}))("open",(function(){return t.tickerFormOpenDialog()}))("close",(function(){return t.closeDialog()})),M.Jc(48,de,9,12,"ng-template",null,26,M.Kc),M.Jc(50,le,16,18,"ng-template",null,27,M.Kc),M.Jc(52,pe,45,33,"ng-template",null,28,M.Kc),M.Sb(),M.Sb()),2&e&&(M.xb(2),M.nc("ngClass",!0===t.showSaveChangesButton?"form-container":"height-100"),M.xb(3),M.Nc(" ",M.ic(6,20,"TICKETFORMSMODULEINFO"),""),M.xb(4),M.Nc(" ",M.ic(10,22,"BRAND")," "),M.xb(3),M.oc("filterBarPlaceholder",M.ic(14,24,"SEARCH")),M.oc("placeholder",M.ic(15,26,"SELECT")),M.nc("htmlAttributes",t.autoCompleteAttribute)("dataSource",t.brandDropData)("fields",t.brandFields)("value",t.brandId),M.xb(4),M.nc("ngIf",!t.showSaveChangesButton),M.xb(3),M.nc("dataSource",t.ticketFormsList)("allowRowDragAndDrop",!0),M.xb(6),M.oc("headerText",M.ic(26,28,"LABELFORAGENTPORATL")),M.xb(4),M.oc("headerText",M.ic(30,30,"LABELFORCUTOMERPORTAL")),M.xb(2),M.oc("headerText",M.ic(32,32,"VISIBLEINCUSTOMERPORTAL")),M.xb(7),M.nc("hidden",!t.showSaveChangesButton),M.xb(1),M.nc("isPrimary",!0),M.xb(1),M.Mc(M.ic(41,34,"SAVECHANGES")),M.xb(3),M.Mc(M.ic(44,36,"DISCARD")),M.xb(3),M.nc("visible",!1))},directives:[c.l,s.e,c.n,b.k,b.e,b.b,b.d,b.a,g.c,u.b,G.b],pipes:[J.a,K.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.ticket-forms-grid[_ngcontent-%COMP%]{height:100%!important;overflow:hidden}.ticket-forms-grid[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{height:calc(100% - 50px)}.ticket-forms-grid[_ngcontent-%COMP%]   .ticket-forms-list[_ngcontent-%COMP%]{height:calc(100% - 95px)}.ticket-forms-grid[_ngcontent-%COMP%]   .e-gridcontent[_ngcontent-%COMP%]{height:calc(100% - 40px)!important}.ticket-forms-grid[_ngcontent-%COMP%]   .e-gridcontent[_ngcontent-%COMP%]   .e-content[_ngcontent-%COMP%]{height:inherit!important;overflow-y:auto!important}.ticket-forms-action-buttons[_ngcontent-%COMP%]{background:#f7fafc;border-top:1px solid #e8eaed;bottom:0;height:50px;margin-left:0;padding:10px;position:fixed;width:100%}.ticket-form-delete-content[_ngcontent-%COMP%]{line-height:25px;padding-left:20px;padding-right:10px}.ticket-form-remove-button[_ngcontent-%COMP%]{background-color:red!important;border-color:red!important;max-width:160px!important}.add-existing-dialog-header-content[_ngcontent-%COMP%]{font-size:14px!important;font-weight:400;margin-top:12px!important}"],changeDetection:0}),fe)},{path:"add",component:T.a,data:{customFieldsType:v.c.TicketForms,addCustomField:!0,module:v.b.Ticket},canDeactivate:[m.a]},{path:":id",component:T.a,resolve:{data:S.a},data:{customFieldsType:v.c.TicketForms,addCustomField:!1,module:v.b.Ticket},canDeactivate:[m.a]},{path:"**",component:f.a}],Se=((me=function t(){e(this,t)}).\u0275mod=M.Lb({type:me}),me.\u0275inj=M.Kb({factory:function(e){return new(e||me)},imports:[[p.k.forChild(Te)],p.k]}),me),xe=o("Pl5m"),ke=((ve=function t(){e(this,t)}).\u0275mod=M.Lb({type:ve}),ve.\u0275inj=M.Kb({factory:function(e){return new(e||ve)},providers:[B,S.a],imports:[[c.b,Se,r.a,xe.a,b.j,d.j,l.AdminModule,s.d,u.a,h.h,g.b,g.j,G.d,s.g,G.a,d.e]]}),ve)}}])}();