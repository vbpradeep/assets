!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"83/i":function(e){e.exports=JSON.parse('{"rules":[{"field":"firstResponseEscalation","label":"First response escalation","operator":"0","operatorValue":"0","reminderTime":"30","timeOptionId":2,"sortOrder":1},{"field":"responseEscalation","label":"Response escalation","operator":"0","operatorValue":"0","reminderTime":"30","timeOptionId":2,"sortOrder":2},{"field":"resolutionEscalation","label":"Resolution escalation","operator":"0","operatorValue":"0","reminderTime":"30","timeOptionId":2,"sortOrder":3}]}')},EiDu:function(t,n,a){"use strict";a.d(n,"a",(function(){return s}));var r=a("fXoL"),o=a("jhN1"),s=function(){var t=function(){function t(i){e(this,t),this.sanitizer=i}return i(t,[{key:"transform",value:function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c))},t.\u0275pipe=r.Mb({name:"safe",type:t,pure:!0}),t}()},asGy:function(e){e.exports=JSON.parse('[{"businessHourId":null,"field":"priority","firstResponseTime":1,"firstResponseTimeOptionId":"2","isEscalationEnabled":true,"isReminderEnabled":true,"resolutionTime":1,"resolutionTimeOptionId":"3","responseTime":1,"responseTimeOptionId":"2","value":"1"},{"businessHourId":null,"field":"priority","firstResponseTime":1,"firstResponseTimeOptionId":"2","isEscalationEnabled":true,"isReminderEnabled":true,"resolutionTime":1,"resolutionTimeOptionId":"3","responseTime":1,"responseTimeOptionId":"2","value":"2"},{"businessHourId":null,"field":"priority","firstResponseTime":1,"firstResponseTimeOptionId":"2","isEscalationEnabled":true,"isReminderEnabled":true,"resolutionTime":1,"resolutionTimeOptionId":"3","responseTime":1,"responseTimeOptionId":"2","value":"3"},{"businessHourId":null,"field":"priority","firstResponseTime":1,"firstResponseTimeOptionId":"2","isEscalationEnabled":true,"isReminderEnabled":true,"resolutionTime":1,"resolutionTimeOptionId":"3","responseTime":1,"responseTimeOptionId":"2","value":"4"}]')},dQZi:function(e){e.exports=JSON.parse('{"rules":[{"field":"firstResponseReminder","label":"First response reminder","operator":"0","operatorValue":"0","reminderTime":"30","timeOptionId":2,"sortOrder":1},{"field":"responseReminder","label":"Response reminder","operator":"0","operatorValue":"0","reminderTime":"30","timeOptionId":2,"sortOrder":2},{"field":"resolutionReminder","label":"Resolution reminder","operator":"0","operatorValue":"0","reminderTime":"30","timeOptionId":2,"sortOrder":3}]}')},nVeP:function(t,n,a){"use strict";a.r(n),a.d(n,"SLAPolicyModule",(function(){return Ct}));var r,o=a("ofXK"),s=a("ltyr"),l=a("GJ+o"),c=a("np3I"),u=a("QYJQ"),d=a("jcQU"),p=a("SRvG"),h=a("5OZa"),b=a("tyNb"),m=a("mrjb"),g=a("H552"),f=a("58Y9"),v=a("M9dC"),y=a("dSv1"),O=a("A4Lh"),T=a("Pk9d"),S=a("1gpv"),C={SLAPolicyList:S.f+"sla",SLAPolicyDetail:S.f+"sla",AddSLA:S.f+"sla",EditSLA:S.f+"sla",DeleteSLA:S.f+"sla",TicketConditionFields:S.f+"sla",ActivateSLA:S.f+"sla",DeactivateSLA:S.f+"sla",ChangePosition:S.f+"sla"},x=a("5Lwd"),E=a("4SUy"),A=a("fXoL"),I=a("1kef"),k=a("JCZ/"),D=a("X8pc"),P=a("IaKf"),L=a("tk/3"),j=((r=function(){function t(i,n,a){e(this,t),this.http=i,this.spinService=n,this.toastService=a,this.httpOptions={headers:new L.e({"Content-Type":"application/json"})}}return i(t,[{key:"deleteSLAPolicy",value:function(e){return this.http.delete(C.DeleteSLA+"/"+e).toPromise()}},{key:"toggleSLA",value:function(e,t){return this.http.patch(e?C.ActivateSLA+"/"+t+"/activate":C.DeactivateSLA+"/"+t+"/deactivate",this.httpOptions).toPromise()}},{key:"addBSLA",value:function(e){var t=this;return this.http.post(C.AddSLA,e).toPromise().catch((function(e){400===e.status&&(t.spinService.hideSpinner(),Object(E.X)(e.error.errors)?t.toastService.failureToast(e.error.message):t.toastService.failureToast(e.error.errors[0].errorMessage))}))}},{key:"editBSLA",value:function(e,t){var i=this;return this.http.put(C.EditSLA+"/"+t,e).toPromise().catch((function(e){400===e.status&&(i.spinService.hideSpinner(),Object(E.X)(e.error.errors)?i.toastService.failureToast(e.error.message):i.toastService.failureToast(e.error.errors[0].errorMessage))}))}},{key:"changePosition",value:function(e,t){return this.http.patch(C.ChangePosition+"/"+e+"/positionchange",t).toPromise()}}]),t}()).\u0275fac=function(e){return new(e||r)(A.bc(L.b),A.bc(D.a),A.bc(P.a))},r.\u0275prov=A.Jb({token:r,factory:r.\u0275fac}),r),R=a("hXFv"),M=a("N/Vq"),w=a("KDci"),_=a("64zv"),N=a("AjNn"),F=["slaPolicyListGrid"],B=["enableDisableSLA"],Q=["slaActivityTab"],q=["slaListEle"],H=["contextmenu"],J=["slaListPage"],G=["searchSla"];function V(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",31),A.Tb(1,"span",32),A.ec("click",(function(e){A.Bc(i);var n=t.$implicit;return A.gc().rowClick(e,n.id)})),A.Lc(2),A.Sb(),A.Sb()}if(2&e){var n=t.$implicit;A.xb(2),A.Nc(" ",n.name,"")}}function X(e,t){if(1&e&&(A.Tb(0,"span",33),A.Ob(1,"app-date-time",34),A.Sb()),2&e){var i=t.$implicit,n=A.gc();A.xb(1),A.nc("date",i.lastUpdatedOn)("format",n.format)("timezone",n.timeZone)}}function U(e,t){if(1&e){var i=A.Ub();A.Tb(0,"span",35),A.ec("click",(function(){A.Bc(i);var e=t.$implicit,n=A.gc();return n.moreOptionsSelect(n.editItem,e)})),A.hc(1,"translate"),A.Sb(),A.Tb(2,"span",36),A.ec("click",(function(e){A.Bc(i);var n=t.$implicit;return A.gc().bindBtnTemplate(e,n)})),A.Sb()}2&e&&A.yb("data-title",A.ic(1,1,"EDIT"))}var z,K=((z=function(){function t(i,n,a,r,o,s){e(this,t),this.appRootService=i,this.router=n,this.seoService=a,this.spinService=r,this.toastService=o,this.slaService=s,this.moreActionItems=[{id:"1",text:"Activate"},{id:"2",text:"Deactivate"},{id:"3",text:"Delete"}],this.moreActionItemswithDelete=["Delete"],this.moreActionWithActivate=["Activate","Delete"],this.moreActionWithDeactivate=["Deactivate","Delete"],this.editItem={item:{id:x.z.Edit}},this.pagerSize=O.E,this.dragAndDrop=!0,this.animation={effect:"none"},this.tabAnimationSettings={next:{effect:"None"},previous:{effect:"None"}},this.stillFetching=!0,this.isActive=!0,this.slaListUrl=C.SLAPolicyList,this.perPage=O.E.toString(),this.currentpage="1",this.preventFields=[{isDefault:!0}],this.tabHeader=[{text:Object(y.a)("ACTIVE")},{text:Object(y.a)("INACTIVE")}],this.timeZone=O.P.timeZoneOffset,this.format="".concat(O.e.dateFormat," ").concat(O.e.timeFormat),this.appRootService.setAppTitleText("SLA"),this.stillFetching=!0,this.setSEOHeader();var l=Object(y.a)("ADMIN")+" / "+Object(y.a)("SLA"),c=Object(y.a)("SLA")+" | "+Object(y.a)("ADMIN");this.appRootService.setAppTitleText(l),this.seoService.setHeaderElements({title:c})}return i(t,[{key:"ngOnInit",value:function(){var e=C.SLAPolicyList;e=Object(f.i)(e,"Page",this.currentpage),e=Object(f.i)(e,"PerPage",this.perPage),this.slaPolicyList=new g.a({url:e,adaptor:new v.b}),this.href=this.router.url,this.tabSelected=x.t.Active.toLowerCase()}},{key:"ngAfterViewInit",value:function(){var e=this;this.slaPolicyListGrid.query=(new g.g).addParams("isenabled","true"),this.slaListEle.nativeElement.addEventListener("keydown",(function(t){Object(f.l)(t,e.slaListEle.nativeElement)})),this.slaListPageEle.nativeElement.addEventListener("scroll",(function(){e.contextmenu.close()})),Object(O.V)(!1)}},{key:"setSEOHeader",value:function(){this.seoService.setHeaderElements({title:"SLA"})}},{key:"slaPolicyListDataBound",value:function(){var e=this,t=this.slaPolicyListGrid.element.querySelector(".e-gridcontent .e-content .e-emptyrow td");t&&t.setAttribute("colspan","2"),this.stillFetching=!1,setTimeout((function(){e.slaPolicyListGrid.widthService.setWidthToColumns(),Object(f.a)(e.slaPolicyListGrid);var t=e.slaPolicyListGrid.getCurrentViewRecords(),i=[];t.forEach((function(t,n){e.preventFields.forEach((function(a){a.isDefault==t.isDefault&&i.push(e.slaPolicyListGrid.getRowByIndex(n))}))}));for(var n=0;n<i.length;n++){var a=document.createElement("td");a.classList.add("intentcell"),i[n].querySelector(".e-rowdragdrop").remove(),i[n].prepend(a),n>0&&(i[n].querySelector(".intentcell").style.borderTop="1px solid #e0e0e0")}}))}},{key:"slaPolicyListActionBegin",value:function(e){"refresh"===e.requestType&&this.slaPolicyListGrid.searchModule.refreshSearch&&(this.slaPolicyListGrid.searchModule.refreshSearch=!1)}},{key:"addSlaClick",value:function(){this.router.navigateByUrl(this.href+"/add")}},{key:"rowClick",value:function(e,t){e.stopPropagation(),this.router.navigateByUrl(this.href+"/"+t)}},{key:"cancelDialog",value:function(){this.deleteDialog.hide()}},{key:"loadGrid",value:function(e){this.slaListUrl=C.SLAPolicyList,this.slaListUrl=Object(f.i)(this.slaListUrl,"Page",this.currentpage),this.slaListUrl=Object(f.i)(this.slaListUrl,"PerPage",this.perPage);var t=Object(f.x)(this.slaListUrl,"isEnabled",e);this.slaPolicyList=new g.a({url:t,adaptor:new v.b})}},{key:"updateDeleteSLAPolicy",value:function(){var e=this;this.spinService.showSpinner(),this.slaService.deleteSLAPolicy(this.id).then((function(t){t&&(e.spinService.hideSpinner(),e.deleteDialog.hide(),e.loadGrid(e.isActive?"true":"false"),e.toastService.successToast(t.message))})).catch((function(t){e.spinService.hideSpinner(),t.error&&t.error.errors.length>0&&400===t.error.statusCode&&e.toastService.failureToast(t.error.errors[0].errorMessage)}))}},{key:"getCurrentSwitchObj",value:function(e,t){return this[e]._results.filter((function(e){return e.element.dataset.id===t+""}))[0]}},{key:"slaTabSelecting",value:function(){this.stillFetching=!0,"1"===this.slaActivityTab.selectingID?(this.tabSelected=x.t.Inactive.toLowerCase(),this.slaPolicyListGrid.setProperties({query:(new g.g).addParams("isenabled","false")},!0),this.dragAndDrop=!1,this.stillFetching=!0):(this.tabSelected=x.t.Active.toLowerCase(),this.slaPolicyListGrid.setProperties({query:(new g.g).addParams("isenabled","true")},!0),this.dragAndDrop=!0,this.stillFetching=!0)}},{key:"slaRowDrag",value:function(e){var t=this.slaPolicyListGrid.getRowInfo(e.target).rowData;t&&this.preventFields.forEach((function(i){i.isDefault==t.isDefault&&(e.cancel=!0)}))}},{key:"slaRowDrop",value:function(e){var t=this,i=this.slaPolicyListGrid.getRowInfo(this.slaPolicyListGrid.getRowByIndex(e.dropIndex)).rowData;i&&this.preventFields.forEach((function(t){t.isDefault==i.isDefault&&(e.cancel=!0)}));var n=e.data[0].id;if(e.cancel=!0,e.fromIndex!==e.dropIndex&&!Object(E.X)(e.dropIndex)&&!isNaN(e.dropIndex)){var a={toPosition:++e.dropIndex,changePositionMode:x.q.ToPosition};this.spinService.showSpinner(),this.slaService.changePosition(n,a).then((function(e){e&&(t.spinService.hideSpinner(),t.loadGrid(t.isEnabled?"false":"true"),t.toastService.successToast(Object(y.a)("SLAPOSITIONCHANGED")))})).catch((function(e){var i=Object(f.q)(e.error);400===e.status&&(t.spinService.hideSpinner(),t.toastService.failureToast(i))}))}}},{key:"activateAndDeactivateAction",value:function(e){var t=this;this.isEnabled=e,this.spinService.showSpinner(),this.slaService.toggleSLA(e,this.selectedItemData.id).then((function(e){if(e){t.spinService.hideSpinner(),t.loadGrid(t.isEnabled?"false":"true");var i=t.isEnabled?Object(y.a)("SLAACTIVATE"):Object(y.a)("SLADEACTIVATE");t.toastService.successToast(i)}})).catch((function(e){var i=Object(f.q)(e.error);400===e.status&&(t.spinService.hideSpinner(),t.toastService.failureToast(i))}))}},{key:"moreOptionsSelect",value:function(e,t){e.item.id===x.z.Edit?(this.id=+t.id,this.router.navigateByUrl(this.href+"/"+this.id)):e.item.id===x.z.Delete?(this.id=+this.selectedItemData.id,Object(f.b)(this.updateDeleteSLAPolicy,this.cancelDialog,this,Object(y.a)("DELETE")+" SLA",Object(y.a)("DELETEPOLICYALERT"))):e.item.id===x.z.Activate?this.activateAndDeactivateAction(!0):e.item.id===x.z.Deactivate&&this.activateAndDeactivateAction(!1)}},{key:"bindBtnTemplate",value:function(e,t){this.selectedItemData=t;var i=Object(T.f)(e.target);this.contextmenu.open(i.top+16,i.left-5,e.target)}},{key:"itemBeforeEvent",value:function(){this.selectedItemData.isEnable?(this.contextmenu.hideItems(this.moreActionWithActivate),this.contextmenu.showItems(this.moreActionWithDeactivate)):(this.contextmenu.hideItems(this.moreActionWithDeactivate),this.contextmenu.showItems(this.moreActionWithActivate)),this.selectedItemData.isDefault&&this.contextmenu.hideItems(this.moreActionItemswithDelete)}},{key:"searchNodes",value:function(){var e=this.searchSla.value.trim();this.slaPolicyListGrid.search(e)}}]),t}()).\u0275fac=function(e){return new(e||z)(A.Nb(I.a),A.Nb(b.g),A.Nb(k.a),A.Nb(D.a),A.Nb(P.a),A.Nb(j))},z.\u0275cmp=A.Hb({type:z,selectors:[["app-sla-policy-list"]],viewQuery:function(e,t){var i;1&e&&(A.Qc(F,!0),A.Qc(B,!0),A.Qc(Q,!0),A.Qc(q,!0),A.Qc(H,!0),A.Qc(J,!0),A.Qc(G,!0),A.Qc(p.k,!0)),2&e&&(A.xc(i=A.fc())&&(t.slaPolicyListGrid=i.first),A.xc(i=A.fc())&&(t.enableDisableSLA=i.first),A.xc(i=A.fc())&&(t.slaActivityTab=i.first),A.xc(i=A.fc())&&(t.slaListEle=i.first),A.xc(i=A.fc())&&(t.contextmenu=i.first),A.xc(i=A.fc())&&(t.slaListPageEle=i.first),A.xc(i=A.fc())&&(t.searchSla=i.first),A.xc(i=A.fc())&&(t.switch=i))},decls:47,vars:29,consts:[[1,"sla-policy-container","hd-grid-full-height"],["slaListPage",""],[1,"height-100"],[1,"sla-policy-list"],["slaListEle",""],[1,"secondary","padding-10","information-content"],[1,"bd-icon","bd-icon-info","information-icon","information-icon-position"],[1,"pl-3"],[1,"row","no-margin","float-right",2,"border-bottom","1px solid #e2e8f0","padding-bottom","7px"],[1,"grid-menu",3,"hidden"],[1,"search-box",2,"padding","0 12px"],["id","search","showClearButton","true","autocomplete","off","maxlength","150",3,"placeholder","change"],["searchSla",""],[1,"float-right"],["type","button","ejs-button","",1,"e-btn","add-button","e-outline","e-primary",3,"click"],["overflowMode","Popup","width","71%",3,"animation","selecting"],["slaActivityTab",""],[3,"header"],[1,"sla-policy-list-container","pt-3"],["allowResizing","true","allowSorting","true","height","100%",3,"dataSource","hidden","allowRowDragAndDrop","dataBound","rowDrop","rowDrag","actionBegin"],["slaPolicyListGrid",""],["field","name","minWidth","200","width","250","clipMode","EllipsisWithTooltip",3,"headerText"],["template",""],["field","lastModifiedBy","minWidth","100","width","150","clipMode","EllipsisWithTooltip",3,"headerText"],["field","lastUpdatedOn","minWidth","100","width","120",3,"headerText"],["minWidth","100","width","100","textAlign","Center"],[1,"align-center","height-100",3,"hidden"],[1,"ticket-fetch-loader"],[3,"stepCount"],[3,"items","animationSettings","beforeOpen","select"],["contextmenu",""],[1,"no-wrap","ellipsis"],[1,"primary-link-color","cursor-pointer",3,"click"],[1,"cursor-pointer","grid-text-font-color"],[3,"date","format","timezone"],[1,"more-option-button","bd-icon","bd-icon-edit",3,"click"],[1,"hd-icon","hd-vertical-menu","more-option-button",3,"click"]],template:function(e,t){1&e&&(A.Tb(0,"div",0,1),A.Tb(2,"div",2),A.Tb(3,"div",3,4),A.Tb(5,"div",5),A.Ob(6,"div",6),A.Lc(7),A.hc(8,"translate"),A.Sb(),A.Tb(9,"div",7),A.Tb(10,"div",8),A.Tb(11,"div",9),A.Tb(12,"div",10),A.Tb(13,"ejs-textbox",11,12),A.ec("change",(function(){return t.searchNodes()})),A.hc(15,"translate"),A.Sb(),A.Sb(),A.Tb(16,"div",13),A.Tb(17,"button",14),A.ec("click",(function(){return t.addSlaClick()})),A.Lc(18),A.hc(19,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(20,"ejs-tab",15,16),A.ec("selecting",(function(){return t.slaTabSelecting()})),A.Tb(22,"e-tabitems"),A.Ob(23,"e-tabitem",17),A.Ob(24,"e-tabitem",17),A.Sb(),A.Sb(),A.Sb(),A.Tb(25,"div",18),A.Tb(26,"ejs-grid",19,20),A.ec("dataBound",(function(){return t.slaPolicyListDataBound()}))("rowDrop",(function(e){return t.slaRowDrop(e)}))("rowDrag",(function(e){return t.slaRowDrag(e)}))("actionBegin",(function(e){return t.slaPolicyListActionBegin(e)})),A.Tb(28,"e-columns"),A.Tb(29,"e-column",21),A.hc(30,"translate"),A.Jc(31,V,3,1,"ng-template",null,22,A.Kc),A.Sb(),A.Ob(33,"e-column",23),A.hc(34,"translate"),A.Tb(35,"e-column",24),A.hc(36,"translate"),A.Jc(37,X,2,3,"ng-template",null,22,A.Kc),A.Sb(),A.Tb(39,"e-column",25),A.Jc(40,U,3,3,"ng-template",null,22,A.Kc),A.Sb(),A.Sb(),A.Sb(),A.Tb(42,"div",26),A.Tb(43,"div",27),A.Ob(44,"lib-shimmer",28),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(45,"ejs-contextmenu",29,30),A.ec("beforeOpen",(function(){return t.itemBeforeEvent()}))("select",(function(e){return t.moreOptionsSelect(e)})),A.Sb()),2&e&&(A.xb(7),A.Nc(" ",A.ic(8,17,"SLAMODULECONTENT")," "),A.xb(4),A.nc("hidden",t.stillFetching),A.xb(2),A.oc("placeholder",A.ic(15,19,"SEARCH")),A.xb(5),A.Nc(" ",A.ic(19,21,"ADDSLA")," "),A.xb(2),A.nc("animation",t.tabAnimationSettings),A.xb(3),A.nc("header",t.tabHeader[0]),A.xb(1),A.nc("header",t.tabHeader[1]),A.xb(2),A.nc("dataSource",t.slaPolicyList)("hidden",t.stillFetching)("allowRowDragAndDrop",t.dragAndDrop),A.xb(3),A.oc("headerText",A.ic(30,23,"SLANAME")),A.xb(4),A.oc("headerText",A.ic(34,25,"LASTMODIFIEDBY")),A.xb(2),A.oc("headerText",A.ic(36,27,"LASTMODIFIED")),A.xb(7),A.nc("hidden",!t.stillFetching),A.xb(2),A.nc("stepCount",5),A.xb(1),A.nc("items",t.moreActionItems)("animationSettings",t.animation))},directives:[u.i,p.c,R.m,R.o,R.n,l.k,l.e,l.b,M.b,l.d,l.a,M.a,w.a,R.f,_.a],pipes:[N.a],styles:[".sla-policy-container[_ngcontent-%COMP%]{overflow:hidden}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]{height:inherit}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .title-style[_ngcontent-%COMP%]{font-weight:500}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .cursor-style[_ngcontent-%COMP%]:hover{cursor:pointer}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .e-dropdown-btn[_ngcontent-%COMP%]:active{box-shadow:none!important}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .padding-bottom-5px[_ngcontent-%COMP%]{padding-bottom:5px!important}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .switch-class[_ngcontent-%COMP%]{margin-top:10px}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .sla-policy-list-container[_ngcontent-%COMP%]{height:calc(100% - 160px);padding:0 16px}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .e-gridcontent[_ngcontent-%COMP%]{height:calc(100% - 12px)!important}.sla-policy-container[_ngcontent-%COMP%]   .sla-policy-list[_ngcontent-%COMP%]   .e-gridcontent[_ngcontent-%COMP%]   .e-content[_ngcontent-%COMP%]{height:inherit!important;overflow-y:auto!important}.sla-policy-container[_ngcontent-%COMP%]   .height-100[_ngcontent-%COMP%]{height:100%}.sla-policy-container[_ngcontent-%COMP%]   .padding-10[_ngcontent-%COMP%]{padding:10px}"]}),z),W=a("zZ4g"),$=a.t(W,2),Z=a("asGy"),Y=a.t(Z,2),ee=a("dQZi"),te=a.t(ee,2),ie=a("83/i"),ne=a.t(ie,2),ae=a("ScLb"),re=a("Vtjc"),oe=a("1UK9"),se=function(e){return e.FirstResponseTime="firstResponseTime",e.ResponseTime="responseTime",e.ResolutionTime="resolutionTime",e.ReminderEnabled="reminderEnabled",e.EscalationEnabled="escalationEnabled",e}({}),le=function(e){return e.FirstResponseReminder="firstResponseReminder",e.ResponseReminder="responseReminder",e.ResolutionReminder="resolutionReminder",e.FirstResponseEscalation="firstResponseEscalation",e.ResponseEscalation="responseEscalation",e.ResolutionEscalation="resolutionEscalation",e}({}),ce=function(e){return e.ResolutionEscalation="resolutionEscalation",e.LabelForResolutionEscalation="Resolution escalation",e.OperatorLastItem="11",e[e.MaxEscalationLevel=3]="MaxEscalationLevel",e.OperatorFirstItem="0",e}({}),ue=function(e){return e.Minutes="2",e.Hours="3",e.Days="4",e}({}),de=function(e){return e[e.FirstResponseReminder=1]="FirstResponseReminder",e[e.ResponseReminder=2]="ResponseReminder",e[e.ResolutionReminder=3]="ResolutionReminder",e}({}),pe=function(e){return e[e.FirstResponseEscalation=1]="FirstResponseEscalation",e[e.ResponseEscalation=2]="ResponseEscalation",e[e.ResolutionEscalation=3]="ResolutionEscalation",e}({}),he=function(e){return e.TimeToFirstReply="first-response-time",e.TimeToNextReply="every-response-time",e.ResolutionTime="resolution-time",e}({}),be=a("3LJS"),me=["resolutionEscalationLevels"],ge=["moreEscalationLevels"],fe=["escalationLevel"];function ve(e,t){1&e&&A.Pb(0)}function ye(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div"),A.Tb(1,"button",6),A.ec("click",(function(){return A.Bc(i),A.gc().moreEscalationLevel()})),A.Lc(2),A.hc(3,"translate"),A.hc(4,"translate"),A.Sb(),A.Sb()}if(2&e){var n=A.gc();A.xb(2),A.Pc(" ",A.ic(3,3,"ADDLEVEL")," ",n.loadMoreEscalationCount," ",A.ic(4,5,"ESCALATIONLEVEL"),"")}}function Oe(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",23),A.Tb(1,"span",24),A.ec("click",(function(){return A.Bc(i),A.gc(2).deleteNode()})),A.Sb(),A.Sb()}}function Te(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",7),A.Tb(1,"div",8),A.Tb(2,"span",9),A.Lc(3),A.hc(4,"translate"),A.Sb(),A.Sb(),A.Tb(5,"div",10),A.Tb(6,"div",11),A.Tb(7,"ejs-dropdownlist",12,13),A.ec("change",(function(e){return A.Bc(i),A.gc().escalationOperatorChange(e)}))("created",(function(){return A.Bc(i),A.gc().escalationOperatorDropCreated()})),A.hc(9,"translate"),A.Sb(),A.Sb(),A.Tb(10,"div",14),A.Tb(11,"div",15),A.Tb(12,"ejs-multiselect",16),A.ec("dataBound",(function(e){A.Bc(i);var n=t.$implicit;return A.gc().groupDataBound("escaltion_group_"+n.index,e)}))("change",(function(e){return A.Bc(i),A.gc().groupChange(e)})),A.hc(13,"translate"),A.hc(14,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Tb(15,"div",14),A.Tb(16,"div",17),A.Tb(17,"ejs-multiselect",18,19),A.ec("dataBound",(function(e){A.Bc(i);var n=t.$implicit;return A.gc().assigneeDataBound("escaltion_assignee_"+n.index,e)}))("change",(function(e){return A.Bc(i),A.gc().assigneeChange(e)})),A.hc(19,"translate"),A.hc(20,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Tb(21,"div",20),A.hc(22,"translate"),A.Jc(23,Oe,2,0,"div",21),A.Sb(),A.Sb(),A.Tb(24,"div",22),A.Lc(25),A.hc(26,"translate"),A.Sb(),A.Sb()}if(2&e){var n=t.$implicit,a=A.gc();A.xb(3),A.Mc(A.ic(4,25,"SENDLEVELESCALATION")),A.xb(4),A.oc("placeholder",A.ic(9,27,"DURATION")),A.nc("dataSource",a.operatorDataConfig)("fields",a.operatorFields),A.xb(5),A.oc("placeholder",A.ic(13,29,"GROUP")),A.pc("id","escaltion_group_",n.index,""),A.oc("filterBarPlaceholder",A.ic(14,31,"SEARCH")),A.nc("dataSource",a.assigneeGroupDataConfig)("fields",a.assigneeGroupFieldConfig)("allowFiltering",!0)("showClearButton",!0),A.yb("data-index",n.index),A.xb(5),A.oc("placeholder",A.ic(19,33,"AGENT")),A.pc("id","escaltion_assignee_",n.index,""),A.oc("filterBarPlaceholder",A.ic(20,35,"SEARCH")),A.nc("dataSource",a.assigneeDataConfig)("fields",a.assigneeFields)("allowFiltering",!0)("showClearButton",!0)("itemTemplate",a.assigneeOrGroupItemTemplate),A.yb("data-index",n.index),A.xb(4),A.yb("data-non-elliptical",!0)("data-title",A.ic(22,37,"DELETE")),A.xb(2),A.nc("ngIf",a.loadMoreEscalationCount>2),A.xb(2),A.Mc(A.ic(26,39,"VALIDATIONMESSAGEFORSETASSIGNEE"))}}var Se,Ce=function(e){return{$implicit:e}},xe=((Se=function(){function t(i,n){e(this,t),this.viewContainerRef=i,this.appRootService=n,this.operatorDataConfig=[{key:"Immediately",value:"0",typeId:2,text:"0"},{key:"After 30 minutes",value:"1",typeId:2,text:"30"},{key:"After 1 hour",value:"2",typeId:3,text:"1"},{key:"After 2 hours",value:"3",typeId:3,text:"2"},{key:"After 4 hours",value:"4",typeId:3,text:"4"},{key:"After 8 hours",value:"5",typeId:3,text:"8"},{key:"After 12 hours",value:"6",typeId:3,text:"12"},{key:"After 1 day",value:"7",typeId:4,text:"1"},{key:"After 2 days",value:"8",typeId:4,text:"2"},{key:"After 3 days",value:"9",typeId:4,text:"3"},{key:"After 5 days",value:"10",typeId:4,text:"5"},{key:"After 7 days",value:"11",typeId:4,text:"7"}],this.operatorFields={text:"key",value:"value"},this.index=0,this.assigneeFields={text:"displayName",value:"userId"},this.assigneeGroupFieldConfig={text:"groupName",value:"groupID"},this.isMoreEscalation=!0,this.escalationCount=1,this.loadMoreEscalationCount=2,this.operatorDataFields=[],this.ruleDataFields=[],this.assigneeOrGroupItemTemplate=Object(f.B)(),this.resolutionEscalationErrorEleCount=0,this.escalationIndex={index:0},this.isNewSLAPolicy=!0}return i(t,[{key:"ngOnInit",value:function(){this.assigneeDataConfig=new g.a({url:ae.a.Assignee,adaptor:new v.b}),this.assigneeGroupDataConfig=new g.a({url:ae.a.Group,adaptor:new v.b})}},{key:"moreEscalationLevel",value:function(){++this.index;var e=this.compileTemplate(this.resolutionEscalationLevels,{index:this.index}),t=this.moreEscalationLevels.nativeElement;e.length>0&&(++this.escalationCount,++this.loadMoreEscalationCount,e.forEach((function(e){t.appendChild(e)}))),this.resetEscalationLevelValues(),this.escalationCount>2&&(this.isMoreEscalation=!1)}},{key:"compileTemplate",value:function(e,t){var i=this.viewContainerRef.createEmbeddedView(e,{$implicit:t});return i.markForCheck(),i.rootNodes}},{key:"deleteNode",value:function(){var e=Object(E.C)(event.target,".more-escalation-levels-container");e&&Object(E.I)(e),this.resetEscalationLevelValues(),this.setIndexAttribute(),--this.loadMoreEscalationCount,--this.escalationCount,this.isMoreEscalation=!0,this.appRootService.closeAppToolTip()}},{key:"assigneeFocusOut",value:function(){var e,t=event.target.parentElement.querySelector(".escalation-assignee-drop");Object(E.X)(t)||(e=t.ej2_instances[0]);var i=event.target.parentElement.querySelector(".validation-error-msg");Object(E.X)(e)||this.assigneeBlur(e,i)}},{key:"escalationOperatorChange",value:function(e){var t=e.value,i=this.escalationLevel.nativeElement.querySelectorAll(".more-escalation-levels-container");if(!Object(E.X)(t)){if(t===ce.OperatorLastItem)this.isMoreEscalation=!1;else if(this.escalationCount<ce.MaxEscalationLevel){var n=e.element.getAttribute("data-index");(i.length<2&&n===ce.OperatorFirstItem||i.length>1&&n!==ce.OperatorFirstItem)&&(this.isMoreEscalation=!0)}if(i.length>1&&t===ce.OperatorLastItem){var a=e.element.getAttribute("data-index");this.isMoreEscalation=!1,i.length>1&&this.detachCompiledTemplate(a)}else if(i.length>1&&t!==ce.OperatorLastItem){var r=e.element.getAttribute("data-index");this.changeoperatorDropData(),this.escalationCount<ce.MaxEscalationLevel&&r!==ce.OperatorFirstItem&&(this.isMoreEscalation=!0)}}}},{key:"changeoperatorDropData",value:function(){var e=this,t=0,i=this.escalationLevel.nativeElement.querySelectorAll(".escalation-operator-drop");i.length<2&&(i[0].ej2_instances[0].dataSource=this.operatorDataConfig),i.forEach((function(n){if(t>0){var a=i[t-1].ej2_instances[0].value,r=parseInt(a,10);if(r>=parseInt(n.ej2_instances[0].value,10)){var o=n.getAttribute("data-index");o!==ce.OperatorFirstItem&&(o=parseInt(o,10)-1),e.detachCompiledTemplate(o)}e.operatorDropData=e.operatorDataConfig.filter((function(e){return e.value>r})),n.ej2_instances[0].dataSource=e.operatorDropData,a!==ce.OperatorLastItem&&e.escalationCount<ce.MaxEscalationLevel&&(e.isMoreEscalation=!0)}++t}))}},{key:"detachCompiledTemplate",value:function(e){var t=this,i=[],n=0,a=this.escalationLevel.nativeElement.querySelectorAll(".more-escalation-levels-container");n=parseInt(e,0)+1,a.forEach((function(e){e.getAttribute("data-index")===n.toString()&&(i.push(e),++n)})),Object(E.X)(i)||[].slice.call(i).forEach((function(e){Object(E.I)(e),--t.loadMoreEscalationCount,--t.escalationCount}))}},{key:"setIndexAttribute",value:function(){var e=this;setTimeout((function(){var t=0,i=0,n=e.escalationLevel.nativeElement.querySelectorAll(".escalation-operator-drop"),a=e.escalationLevel.nativeElement.querySelectorAll(".more-escalation-levels-container");n.length<3&&(n[0].ej2_instances[0].dataSource=e.operatorDataConfig,n[0].ej2_instances[0].value===ce.OperatorLastItem&&(e.isMoreEscalation=!1)),n.forEach((function(i){i.ej2_instances[0].element.setAttribute("data-index",t.toString());var a=i.parentElement.parentElement.querySelectorAll(".rule .escalation-assign");if(a&&a.forEach((function(e){e.setAttribute("data-index",t.toString())})),t>0){n[t].ej2_instances[0].value===ce.OperatorLastItem&&(e.isMoreEscalation=!1);var r=parseInt(n[t-1].ej2_instances[0].value,10),o=n[t].ej2_instances[0].value;e.operatorDropData=e.operatorDataConfig.filter((function(e){return e.value>r})),i.ej2_instances[0].dataSource=e.operatorDropData,o===ce.OperatorFirstItem&&setTimeout((function(){i.ej2_instances[0].index=0}))}++t})),a.forEach((function(e){e.setAttribute("data-index",i.toString()),++i}))}))}},{key:"escalationOperatorDropCreated",value:function(){this.setIndexAttribute()}},{key:"resetEscalationLevelValues",value:function(){var e=this.escalationLevel.nativeElement.querySelectorAll(".send-level-escalation"),t=1;e.forEach((function(e){e.innerText=Object(y.a)("SENDLEVEL")+" "+t+" "+Object(y.a)("ESCALATIONLEVEL"),++t}))}},{key:"getEj2Objects",value:function(e){return this[e]._results}},{key:"getOperatorElement",value:function(){return this.escalationLevel.nativeElement.querySelectorAll(".escalation-operator-drop")}},{key:"getAssigneeElement",value:function(){return this.escalationLevel.nativeElement.querySelectorAll(".escalation-assignee-drop")}},{key:"getGroupElement",value:function(){return this.escalationLevel.nativeElement.querySelectorAll(".escalation-group-drop")}},{key:"getLevelsEscalation",value:function(){this.operatorDataFields=[],this.ruleDataFields=[];var e=this.getOperatorElement(),t=this.getAssigneeElement(),i=this.getGroupElement();if(e.length>0&&t.length>0&&i.length>0){var n=this.getResolutionOperator(e,t,i);if(n.length>0){var a=this.getResolutionAssignee(t,i),r=this.getResolutionGroup(i,t),o=this.mergedArray(n,a);return this.mergedArray(o,r)}return null}return null}},{key:"getResolutionOperator",value:function(e,t,i){var n=this;this.operatorDataFields=[];var a=1,r=0;return e.forEach((function(e){var o=e.ej2_instances[0].itemData,s=t[r].ej2_instances[0].value,l=i[r].ej2_instances[0].value;if(!Object(E.X)(s)||!Object(E.X)(l)){var c={name:"Level"+a,escalationTime:o.text.toString(),timeOptionId:o.typeId,placeholder:"",action:"",field:ce.ResolutionEscalation,label:ce.LabelForResolutionEscalation,escalationValue:o.value.toString(),sortOrder:pe.ResolutionEscalation};n.operatorDataFields.push(c),++a}++r})),this.operatorDataFields}},{key:"getResolutionAssignee",value:function(e,t){var i=this;this.ruleDataFields=[];var n=0;return e.forEach((function(e){var a=e.ej2_instances[0].value,r=t[n].ej2_instances[0].value,o=Object(E.X)(a)?null:a.map(String);if(!Object(E.X)(a))for(var s=0;s<o.length;s++)o[s]===x.w.AssignedAgent.toString()&&(o[s]=x.v.AssignedAgent);if(!Object(E.X)(a)||!Object(E.X)(r)){var l={agentId:Object(E.X)(a)?null:o.toString(),agentValue:Object(E.X)(a)?null:a};i.ruleDataFields.push(l)}++n})),this.ruleDataFields}},{key:"getResolutionGroup",value:function(e,t){var i=this;this.ruleDataFields=[];var n=0;return e.forEach((function(e){var a=e.ej2_instances[0].value,r=t[n].ej2_instances[0].value,o=Object(E.X)(a)?null:a.map(String);if(!Object(E.X)(a))for(var s=0;s<o.length;s++)o[s]===x.w.AssignedGroup.toString()&&(o[s]=x.v.AssignedGroup);if(!Object(E.X)(a)||!Object(E.X)(r)){var l={groupId:Object(E.X)(a)?null:o.toString(),groupValue:Object(E.X)(a)?null:a};i.ruleDataFields.push(l)}++n})),this.ruleDataFields}},{key:"mergedArray",value:function(e,t){var i=[];return e.forEach((function(e,n){i.push(Object.assign({},e,t[n]))})),i}},{key:"getResolutionEscalationData",value:function(e,t){var i=this;this.isNewSLAPolicy=t,Object(E.X)(e)||(this.resolutionEscalation=e,this.resolutionEscalation.length>2?(this.moreEscalationLevel(),this.moreEscalationLevel()):this.resolutionEscalation.length>1&&this.moreEscalationLevel(),setTimeout((function(){i.setResolutionValues(e)})))}},{key:"setResolutionValues",value:function(e){var t=this.getOperatorElement(),i=this.getAssigneeElement(),n=this.getGroupElement();this.setAssigneeValues(e,i),this.setGroupValues(e,n),this.setOperatorValues(e,t)}},{key:"addAssignedGroup",value:function(e){var t,i=this;this.isNewSLAPolicy||e.forEach((function(e){if(!i.isNewSLAPolicy&&e.ej2_instances[0].getItems().length>0){for(var n=e.ej2_instances[0],a=0;a<n.listData.length;a++){if(n.listData[a].groupID===x.w.AssignedGroup){t=!0;break}t=!1}t||(n.addItem({groupID:x.w.AssignedGroup,groupName:x.x.AssignedGroup},0),n.dataBind())}}))}},{key:"addAssignedAgent",value:function(e){var t,i=this;this.isNewSLAPolicy||e.forEach((function(e){if(!i.isNewSLAPolicy&&e.ej2_instances[0].getItems().length>0){for(var n=e.ej2_instances[0],a=0;a<n.listData.length;a++){if(n.listData[a].userId===x.w.AssignedAgent){t=!0;break}t=!1}t||(n.addItem({displayName:x.x.AssignedAgent,userId:x.w.AssignedAgent,emailId:"",shortCode:"AA",colorCode:"#0450cc"},0),n.dataBind())}}))}},{key:"setAssigneeValues",value:function(e,t){var i=0;t.forEach((function(t){if(!Object(E.X)(e[i].agentValue)){var n=t.ej2_instances[0];n.setProperties({query:(new g.g).addParams("userId",e[i].agentValue.toString())},!0),n.value=e[i].agentValue,n.initValue=JSON.parse(JSON.stringify(e[i].agentValue)),n.dataBind()}++i}))}},{key:"setGroupValues",value:function(e,t){var i=0;t.forEach((function(t){if(!Object(E.X)(e[i].groupValue)){var n=t.ej2_instances[0];n.setProperties({query:(new g.g).addParams("includeAdditionalIds",e[i].groupValue.toString())},!0),n.value=e[i].groupValue,n.initValue=JSON.parse(JSON.stringify(e[i].groupValue)),n.dataBind()}++i}))}},{key:"setOperatorValues",value:function(e,t){var i=0;t.forEach((function(t){t.ej2_instances[0].value=e[i].escalationValue,++i}))}},{key:"validateResolutionEscalation",value:function(){var e=this.getAssigneeElement(),t=this.escalationLevel.nativeElement.querySelectorAll(".validation-error-msg");if(e.length>1)for(var i=0;i<e.length;i++){var n=e[i].ej2_instances[0];Object(E.X)(n)||this.assigneeBlur(n,t[i])}else t[0].classList.remove("show-validation"),t[0].classList.add("hide-validation")}},{key:"assigneeBlur",value:function(e,t){Object(E.X)(e.value)||0===e.value.length?(t.classList.add("show-validation"),t.classList.remove("hide-validation")):(t.classList.remove("show-validation"),t.classList.add("hide-validation"))}},{key:"checkErrorElement",value:function(){var e=this;return this.resolutionEscalationErrorEleCount=0,this.escalationLevel.nativeElement.querySelectorAll(".e-rule-container .validation-error-msg").forEach((function(t){t.classList.contains("show-validation")&&++e.resolutionEscalationErrorEleCount})),this.resolutionEscalationErrorEleCount}},{key:"assigneeChange",value:function(e){0===(e.value?e.value:null).length&&(e.element.ej2_instances[0].value=null)}},{key:"groupChange",value:function(e){0===(e.value?e.value:null).length&&(e.element.ej2_instances[0].value=null)}},{key:"getCurrentGroupEle",value:function(e){var t;return this.getGroupElement().forEach((function(i){i.getAttribute("data-index")==e.toString()&&(t=i)})),t}},{key:"getCurrentAssigneeEle",value:function(e){var t;return this.getAssigneeElement().forEach((function(i){i.getAttribute("data-index")==e.toString()&&(t=i)})),t}},{key:"groupDataBound",value:function(e,t){var i=this,n=this.escalationLevel.nativeElement.querySelector(".escalation-group-drop#"+e).ej2_instances[0];n.requestCount?++n.requestCount:n.requestCount=1,Object(E.X)(n.value)||this.isNewSLAPolicy?this.groupAlreadyExist=!1:n.value.forEach((function(e){e==x.w.AssignedGroup&&(i.groupAlreadyExist=!0)}));for(var a=t.items.length,r=0;r<a;r++){if(t.items[r].groupID===x.w.AssignedGroup){this.itemAddedGroup=!0;break}this.itemAddedGroup=!1}this.itemAddedGroup||this.groupAlreadyExist||!this.isNewSLAPolicy||(n.addItem({groupID:x.w.AssignedGroup,groupName:x.x.AssignedGroup},0),n.dataBind()),!this.isNewSLAPolicy&&a>0&&(this.addAssignedGroup(this.getGroupElement()),1===n.requestCount&&(n.value=n.initValue,n.dataBind()))}},{key:"assigneeDataBound",value:function(e,t){var i=this,n=this.escalationLevel.nativeElement.querySelector(".escalation-assignee-drop#"+e).ej2_instances[0];n.requestCount?++n.requestCount:n.requestCount=1,Object(E.X)(n.value)||this.isNewSLAPolicy?this.assigneeAlreadyExist=!1:n.value.forEach((function(e){e==x.w.AssignedAgent&&(i.assigneeAlreadyExist=!0)}));for(var a=t.items.length,r=0;r<a;r++){if(t.items[r].userId===x.w.AssignedAgent){this.itemAddedAssignee=!0;break}this.itemAddedAssignee=!1}!this.assigneeAlreadyExist&&this.isNewSLAPolicy&&(n.addItem({displayName:x.x.AssignedAgent,userId:x.w.AssignedAgent,emailId:"",shortCode:"AA",colorCode:"#0450cc"},0),n.dataBind()),!this.isNewSLAPolicy&&a>0&&(this.addAssignedAgent(this.getAssigneeElement()),1===n.requestCount&&(n.value=n.initValue,n.dataBind()))}}]),t}()).\u0275fac=function(e){return new(e||Se)(A.Nb(A.O),A.Nb(I.a))},Se.\u0275cmp=A.Hb({type:Se,selectors:[["app-escalation-level"]],viewQuery:function(e,t){var i;1&e&&(A.Qc(me,!0),A.Qc(ge,!0),A.Qc(fe,!0),A.Qc(d.e,!0),A.Qc(d.h,!0)),2&e&&(A.xc(i=A.fc())&&(t.resolutionEscalationLevels=i.first),A.xc(i=A.fc())&&(t.moreEscalationLevels=i.first),A.xc(i=A.fc())&&(t.escalationLevel=i.first),A.xc(i=A.fc())&&(t.dropdown=i),A.xc(i=A.fc())&&(t.multiselect=i))},inputs:{resolutionEscalation:"resolutionEscalation"},decls:9,vars:5,consts:[[1,"escalation-level-container"],["escalationLevel",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["moreEscalationLevels",""],[4,"ngIf"],["resolutionEscalationLevels",""],["cssClass","e-outline","ejs-button","",1,"mr-10","e-btn",3,"click"],[1,"more-escalation-levels-container"],[1,"pb-2"],[1,"pr-2","font-12","send-level-escalation","secondary"],[1,"flex-horizontal"],[1,"operator","pb-3"],["index","0","floatLabelType","Never","popupHeight","150px","popupWidth","170px",1,"escalation-operator-drop",3,"dataSource","fields","placeholder","change","created"],["escalationOperator",""],[1,"rule","pb-3"],[1,"col-12"],["popupHeight","200px","mode","CheckBox",1,"escalation-group-drop","escalation-assign",3,"placeholder","id","dataSource","fields","allowFiltering","showClearButton","filterBarPlaceholder","dataBound","change"],[1,"col-12","padding-left-0"],["popupHeight","200px","popupWidth","250px","mode","CheckBox",1,"escalation-assignee-drop","escalation-assign",3,"placeholder","id","dataSource","fields","allowFiltering","showClearButton","filterBarPlaceholder","itemTemplate","dataBound","change"],["escalationRule",""],[1,"escalation-remove-icon"],["class","align-right cursor-pointer",4,"ngIf"],[1,"e-error","hide-validation","validation-error-msg","pb-2","margin-left-215px"],[1,"align-right","cursor-pointer"],[1,"hd-icon","hd-trash",3,"click"]],template:function(e,t){if(1&e&&(A.Tb(0,"div",0,1),A.Tb(2,"div"),A.Jc(3,ve,1,0,"ng-container",2),A.Sb(),A.Ob(4,"div",null,3),A.Jc(6,ye,5,7,"div",4),A.Sb(),A.Jc(7,Te,27,41,"ng-template",null,5,A.Kc)),2&e){var i=A.yc(8);A.xb(3),A.nc("ngTemplateOutlet",i)("ngTemplateOutletContext",A.tc(3,Ce,t.escalationIndex)),A.xb(3),A.nc("ngIf",t.isMoreEscalation)}},directives:[o.r,o.n,p.c,d.e,d.h],pipes:[N.a],styles:[".action-assignee-style[_ngcontent-%COMP%]   .e-rule-value[_ngcontent-%COMP%]{width:auto!important}.action-assignee-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]{display:flex}.action-assignee-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]:first-child{margin-right:60px!important}.action-assignee-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]:nth-child(2){margin-top:0!important}.escalation-remove-icon[_ngcontent-%COMP%]{margin-bottom:20px}.margin-left-215px[_ngcontent-%COMP%]{margin-left:215px}"]}),Se),Ee=a("EiDu"),Ae=["policyName"],Ie=["policyDescription"],ke=["ticketQuerybuilder"],De=["tab"],Pe=["slaForm"],Le=["reminderQuerybuilder"],je=["slaContainer"],Re=["creationTime"],Me=["assigneeTemplate"],we=["assigneeGroupDrop"],_e=["assigneeDrop"],Ne=["escalationQuerybuilder"],Fe=["escalationLevel"],Be=["escalationLevelContainer"],Qe=["ticketConditionSection"],qe=["escalationTemplate"],He=["operationalHourDrop"];function Je(e,t){1&e&&(A.Tb(0,"div",38),A.Tb(1,"span",20),A.Lc(2),A.hc(3,"translate"),A.Sb(),A.Sb()),2&e&&(A.xb(2),A.Nc(" ",A.ic(3,1,"FIELDREQUIRED"),""))}function Ge(e,t){1&e&&A.Pb(0)}function Ve(e,t){if(1&e&&(A.Tb(0,"div",38),A.Jc(1,Ge,1,0,"ng-container",39),A.Sb()),2&e){A.gc(2);var i=A.yc(23);A.xb(1),A.nc("ngTemplateOutlet",i)}}function Xe(e,t){1&e&&A.Pb(0)}function Ue(e,t){if(1&e&&(A.Tb(0,"div",38),A.Jc(1,Xe,1,0,"ng-container",39),A.Sb()),2&e){A.gc(2);var i=A.yc(23);A.xb(1),A.nc("ngTemplateOutlet",i)}}function ze(e,t){1&e&&(A.Tb(0,"div",38),A.Tb(1,"span",20),A.Lc(2),A.hc(3,"translate"),A.Sb(),A.Sb()),2&e&&(A.xb(2),A.Nc(" ",A.ic(3,1,"FIELDREQUIRED"),""))}function Ke(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",40),A.Tb(1,"div",41),A.Tb(2,"div",42),A.Tb(3,"div",43),A.Tb(4,"span"),A.Lc(5),A.hc(6,"translate"),A.Sb(),A.Tb(7,"span",44),A.Lc(8),A.hc(9,"translate"),A.Sb(),A.Tb(10,"span"),A.Lc(11),A.hc(12,"translate"),A.Sb(),A.Sb(),A.Tb(13,"ejs-querybuilder",45,46),A.ec("created",(function(){return A.Bc(i),A.gc(2).ticketQueryBuilderCreated()}))("change",(function(e){return A.Bc(i),A.gc(2).ticketQueryBuilderChange(e)}))("ruleChange",(function(){return A.Bc(i),A.gc(2).ticketQueryBuilderRuleChange()})),A.Sb(),A.Sb(),A.Tb(15,"div",47),A.Tb(16,"button",48),A.ec("click",(function(e){A.Bc(i);var t=A.yc(14);return A.gc(2).newCondition(e,t)})),A.Lc(17),A.hc(18,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Sb()}if(2&e){var n=A.gc(2);A.xb(2),A.nc("ngClass",n.validCondition?"":"border-color-condition"),A.xb(3),A.Mc(A.ic(6,7,"MATCHSLACONDITION")),A.xb(3),A.Nc(" ",A.ic(9,9,"ALL"),""),A.xb(3),A.Nc(" ",A.ic(12,11,"OFTHECONDITION"),""),A.xb(2),A.nc("columns",n.ticketFilter)("rule",n.ticketTarget),A.xb(4),A.Mc(A.ic(18,13,"ADDNEWCONDITION"))}}function We(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",15,16),A.Tb(2,"div",17),A.Tb(3,"div",18),A.Tb(4,"label",19),A.Lc(5),A.hc(6,"translate"),A.Tb(7,"span",20),A.Lc(8,"*"),A.Sb(),A.Sb(),A.Tb(9,"ejs-textbox",21,22),A.ec("created",(function(){return A.Bc(i),A.gc().policyNameCreated()}))("blur",(function(){return A.Bc(i),A.gc().policyNameFocusOut()}))("change",(function(){return A.Bc(i),A.gc().policyNameChange()}))("input",(function(e){return A.Bc(i),A.gc().policyNameInput(e)})),A.hc(11,"translate"),A.Sb(),A.Jc(12,Je,4,3,"div",23),A.Jc(13,Ve,2,1,"div",23),A.Sb(),A.Sb(),A.Tb(14,"div",17),A.Tb(15,"div",18),A.Tb(16,"label",19),A.Lc(17),A.hc(18,"translate"),A.Sb(),A.Tb(19,"ejs-textbox",24,25),A.ec("change",(function(){return A.Bc(i),A.gc().policyDescriptionChange()})),A.hc(21,"translate"),A.Sb(),A.Jc(22,Ue,2,1,"div",23),A.Sb(),A.Sb(),A.Tb(23,"div",17),A.Tb(24,"div",18),A.Tb(25,"label",19),A.Lc(26),A.hc(27,"translate"),A.Tb(28,"span",20),A.Lc(29,"*"),A.Sb(),A.Sb(),A.Tb(30,"ejs-dropdownlist",26,27),A.ec("dataBound",(function(e){return A.Bc(i),A.gc().operationalHourDataBound(e)}))("created",(function(){return A.Bc(i),A.gc().operationalHourCreated()}))("change",(function(){return A.Bc(i),A.gc().operationalHourChange()}))("blur",(function(){return A.Bc(i),A.gc().operationalHourFocusOut()})),A.hc(32,"translate"),A.Sb(),A.Jc(33,ze,4,3,"div",23),A.Sb(),A.Sb(),A.Tb(34,"div",28),A.Tb(35,"div",29),A.Tb(36,"div",30),A.Lc(37),A.hc(38,"translate"),A.Sb(),A.Sb(),A.Tb(39,"div",31),A.Tb(40,"div",32),A.Ob(41,"ejs-radiobutton",33,34),A.hc(43,"translate"),A.Sb(),A.Tb(44,"div",32),A.Ob(45,"ejs-radiobutton",33),A.hc(46,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Jc(47,Ke,19,15,"div",35),A.Tb(48,"div",36),A.Tb(49,"button",37),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(50),A.hc(51,"translate"),A.Sb(),A.Sb(),A.Sb()}if(2&e){var n=A.gc();A.xb(5),A.Nc(" ",A.ic(6,30,"NAME")," "),A.xb(4),A.oc("placeholder",A.ic(11,32,"TEXTBOXPLACEHOLDER")),A.nc("value",n.name)("htmlAttributes",n.inputAttribute)("enabled",!n.isDefaultSLA),A.xb(3),A.nc("ngIf",n.nameRequired),A.xb(1),A.nc("ngIf",n.nameIsError),A.xb(4),A.Nc(" ",A.ic(18,34,"DESCRIPTION")," "),A.xb(2),A.oc("placeholder",A.ic(21,36,"TEXTBOXPLACEHOLDER")),A.nc("value",n.description)("htmlAttributes",n.textAreaAttribute),A.xb(3),A.nc("ngIf",n.descriptionIsError),A.xb(4),A.Nc(" ",A.ic(27,38,"OPERATIONALHOUR")," "),A.xb(4),A.oc("placeholder",A.ic(32,40,"DROPDOWNPLACEHOLDER")),A.nc("dataSource",n.operationalHoursDataConfig)("value",n.businessId)("fields",n.operationalHoursFields)("query",n.businessHourDropQuery)("allowFiltering",!0)("filterBarPlaceholder",n.placeholderString)("htmlAttributes",n.autoCompleteAttribute),A.xb(3),A.nc("ngIf",n.operationalHourRequired),A.xb(4),A.Nc(" ",A.ic(38,42,"CALCULATERESOLUTIONTIME")," "),A.xb(4),A.oc("label",A.ic(43,44,"TICKETCREATIONTIME")),A.nc("checked",n.resolutionFromCreationTime),A.xb(4),A.oc("label",A.ic(46,46,"TICKETMODIFICATIONTIME")),A.nc("checked",n.resolutionFromModificationTime),A.xb(2),A.nc("ngIf",!n.isDefaultSLA),A.xb(2),A.nc("isPrimary",!0),A.xb(1),A.Mc(A.ic(51,48,"NEXT"))}}function $e(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div"),A.Tb(1,"div",56),A.Tb(2,"div",57),A.Tb(3,"div",58),A.Tb(4,"div",59),A.Ob(5,"span",60),A.Sb(),A.Tb(6,"div",61),A.Lc(7),A.Sb(),A.Sb(),A.Tb(8,"div",62),A.Tb(9,"div",63),A.Tb(10,"span",64),A.Lc(11),A.hc(12,"translate"),A.Sb(),A.Tb(13,"span",65),A.Ob(14,"ejs-switch",66),A.Sb(),A.Sb(),A.Tb(15,"div",67),A.Tb(16,"span",64),A.Lc(17),A.hc(18,"translate"),A.Sb(),A.Tb(19,"span",65),A.Ob(20,"ejs-switch",68),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(21,"div",69,70),A.Tb(23,"div",71),A.Tb(24,"div",72),A.Tb(25,"div",73),A.Lc(26),A.hc(27,"translate"),A.Tb(28,"span",20),A.Lc(29,"*"),A.Sb(),A.Sb(),A.Tb(30,"div",74),A.Tb(31,"div",75),A.Tb(32,"ejs-numerictextbox",76),A.ec("blur",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).firstResponseFocusOut(e,"first-response-time")})),A.Sb(),A.Sb(),A.Tb(33,"div",77),A.Tb(34,"ejs-dropdownlist",78),A.ec("change",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).firstResponseChange(e,"first-response-time")}))("blur",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).firstResponseFocusOut(e,"first-response-time")})),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(35,"div",79),A.Tb(36,"div",73),A.Lc(37),A.hc(38,"translate"),A.Sb(),A.Tb(39,"div",74),A.Tb(40,"div",75),A.Tb(41,"ejs-numerictextbox",80),A.ec("blur",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).everyResponseFocusOut(e,"every-response-time")})),A.Sb(),A.Sb(),A.Tb(42,"div",77),A.Tb(43,"ejs-dropdownlist",81),A.ec("change",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).everyResponseChange(e,"every-response-time")}))("blur",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).everyResponseFocusOut(e,"every-response-time")})),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(44,"div",79),A.Tb(45,"div",73),A.Lc(46),A.hc(47,"translate"),A.Tb(48,"span",20),A.Lc(49,"*"),A.Sb(),A.Sb(),A.Tb(50,"div",74),A.Tb(51,"div",75),A.Tb(52,"ejs-numerictextbox",82),A.ec("blur",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).resolutionFocusOut(e,"resolution-time")})),A.Sb(),A.Sb(),A.Tb(53,"div",77),A.Tb(54,"ejs-dropdownlist",83),A.ec("change",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).resolutionChange(e,"resolution-time")}))("blur",(function(){A.Bc(i);var e=A.gc(2).index;return A.gc(2).resolutionFocusOut(e,"resolution-time")})),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(55,"div",79),A.Tb(56,"div",73),A.Lc(57),A.hc(58,"translate"),A.Tb(59,"span",20),A.Lc(60,"*"),A.Sb(),A.Sb(),A.Tb(61,"div",84),A.Tb(62,"ejs-dropdownlist",85),A.ec("dataBound",(function(){A.Bc(i);var e=A.gc().$implicit,t=A.gc().index;return A.gc(2).businessHourDataBound(t,e.businessHourId,e.businessHourText)})),A.hc(63,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(64,"div",86),A.Tb(65,"div",71),A.Tb(66,"div",87),A.Tb(67,"span",88),A.Ob(68,"span",89),A.Sb(),A.Sb(),A.Tb(69,"div",90),A.Tb(70,"span",88),A.Ob(71,"span",91),A.Sb(),A.Sb(),A.Tb(72,"div",90),A.Tb(73,"span",88),A.Ob(74,"span",92),A.Sb(),A.Sb(),A.Tb(75,"div",90),A.Tb(76,"span",88),A.Ob(77,"span",93),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb()}if(2&e){var n=A.gc().$implicit,a=A.gc(),r=a.$implicit,o=a.index,s=A.gc(2);A.xb(5),A.Ic("background-color",r.backgroundColor),A.xb(2),A.Nc(" ",r.name," "),A.xb(4),A.Mc(A.ic(12,56,"REMINDER")),A.xb(3),A.nc("checked",n.isReminderEnabled),A.xb(3),A.Mc(A.ic(18,58,"ESCALATION")),A.xb(3),A.nc("checked",n.isEscalationEnabled),A.xb(6),A.Nc(" ",A.ic(27,60,"TIMETOFIRSTREPLY")," "),A.xb(6),A.oc("value",n.firstResponseTime),A.nc("htmlAttributes",s.inputAttribute),A.yb("data-index",o)("data-mandatory",!0)("data-column",3),A.xb(2),A.oc("value",s.setTimeFieldDropValue(n.firstResponseTimeOptionId,"first-response-time")),A.nc("dataSource",s.timeFieldsDataConfig)("htmlAttributes",s.autoCompleteAttribute)("fields",s.slaTimeFields),A.yb("data-index",o)("data-mandatory",!0)("data-column",3),A.xb(3),A.Nc(" ",A.ic(38,62,"TIMETONEXTREPLY")," "),A.xb(4),A.oc("value",n.responseTime),A.nc("htmlAttributes",s.inputAttribute),A.yb("data-index",o)("data-column",3),A.xb(2),A.oc("value",s.setTimeFieldDropValue(n.responseTimeOptionId,"every-response-time")),A.nc("dataSource",s.timeFieldsDataConfig)("htmlAttributes",s.autoCompleteAttribute)("fields",s.slaTimeFields),A.yb("data-index",o)("data-column",3),A.xb(3),A.Nc(" ",A.ic(47,64,"TIMETORESOLUTION")," "),A.xb(6),A.oc("value",n.resolutionTime),A.nc("htmlAttributes",s.inputAttribute),A.yb("data-index",o)("data-mandatory",!0)("data-column",3),A.xb(2),A.oc("value",s.setTimeFieldDropValue(n.resolutionTimeOptionId,"resolutionTime")),A.nc("dataSource",s.timeFieldsDataConfig)("htmlAttributes",s.autoCompleteAttribute)("fields",s.slaTimeFields),A.yb("data-index",o)("data-mandatory",!0)("data-column",3),A.xb(3),A.Nc(" ",A.ic(58,66,"OPERATIONALHOUR")," "),A.xb(5),A.oc("placeholder",A.ic(63,68,"BUSINESSHOURS")),A.nc("dataSource",s.businessHourDataConfig)("htmlAttributes",s.autoCompleteAttribute),A.yb("data-index",o)("data-column",4),A.xb(6),A.yb("data-index",o)("data-mandatory",!0),A.xb(3),A.yb("data-index",o),A.xb(3),A.yb("data-index",o)("data-mandatory",!0),A.xb(3),A.yb("data-index",o)}}function Ze(e,t){if(1&e&&(A.Tb(0,"div"),A.Jc(1,$e,78,70,"div",13),A.Sb()),2&e){var i=t.index,n=A.gc().index;A.xb(1),A.nc("ngIf",n==i)}}function Ye(e,t){if(1&e&&(A.Tb(0,"div",54),A.Jc(1,Ze,2,1,"div",55),A.Sb()),2&e){var i=t.index,n=A.gc(2);A.yb("data-index",i),A.xb(1),A.nc("ngForOf",n.slaTargetData)}}function et(e,t){1&e&&(A.Tb(0,"div",38),A.Tb(1,"span",20),A.Lc(2),A.hc(3,"translate"),A.Sb(),A.Sb()),2&e&&(A.xb(2),A.Nc(" ",A.ic(3,1,"SELECTALLREQUIREDFIELDS"),""))}function tt(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",49),A.Tb(1,"div",50),A.Jc(2,Ye,2,2,"div",51),A.Jc(3,et,4,3,"div",23),A.Tb(4,"div",36),A.Tb(5,"button",52),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(6),A.hc(7,"translate"),A.Sb(),A.Tb(8,"button",53),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(9),A.hc(10,"translate"),A.Sb(),A.Sb(),A.Sb(),A.Sb()}if(2&e){var n=A.gc();A.xb(2),A.nc("ngForOf",n.priorityData),A.xb(1),A.nc("ngIf",n.slaTimeFieldsRequired),A.xb(3),A.Mc(A.ic(7,5,"BACK")),A.xb(2),A.nc("isPrimary",!0),A.xb(1),A.Mc(A.ic(10,7,"NEXT"))}}function it(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",94),A.Tb(1,"div",17),A.Tb(2,"div",18),A.Tb(3,"div",95),A.Tb(4,"div",42),A.Tb(5,"ejs-querybuilder",96,97),A.ec("created",(function(){return A.Bc(i),A.gc().reminderQuerybuilderCreated()}))("change",(function(e){return A.Bc(i),A.gc().reminderQuerybuilderChange(e)}))("ruleChange",(function(){return A.Bc(i),A.gc().reminderQuerybuilderRuleChange()})),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(7,"div",36),A.Tb(8,"button",98),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(9),A.hc(10,"translate"),A.Sb(),A.Tb(11,"button",99),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(12),A.hc(13,"translate"),A.Sb(),A.Sb(),A.Sb()}if(2&e){var n=A.gc();A.xb(4),A.nc("ngClass",n.validCondition?"":"border-color-condition"),A.xb(1),A.nc("columns",n.reminderFilter)("rule",n.reminderData),A.xb(4),A.Mc(A.ic(10,6,"BACK")),A.xb(2),A.nc("isPrimary",!0),A.xb(1),A.Mc(A.ic(13,8,"NEXT"))}}function nt(e,t){if(1&e){var i=A.Ub();A.Tb(0,"div",100),A.Tb(1,"div",17),A.Tb(2,"div",18),A.Tb(3,"div",95),A.Tb(4,"div",42),A.Tb(5,"ejs-querybuilder",101,102),A.ec("created",(function(){return A.Bc(i),A.gc().escalationQuerybuilderCreated()}))("change",(function(e){return A.Bc(i),A.gc().escalationQuerybuilderChange(e)}))("ruleChange",(function(){return A.Bc(i),A.gc().escalationQuerybuilderRuleChange()}))("ruleChange",(function(){return A.Bc(i),A.gc().escalationQuerybuilderRuleChange()})),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Tb(7,"div",103),A.Tb(8,"button",104),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(9),A.hc(10,"translate"),A.Sb(),A.Tb(11,"button",105),A.ec("click",(function(e){return A.Bc(i),A.gc().btnClicked(e)})),A.Lc(12),A.hc(13,"translate"),A.Sb(),A.Sb()}if(2&e){var n=A.gc();A.xb(4),A.nc("ngClass",n.validCondition?"":"border-color-condition"),A.xb(1),A.nc("columns",n.escalationFilter)("rule",n.escalationData),A.xb(4),A.Mc(A.ic(10,6,"BACK")),A.xb(2),A.nc("isPrimary",!0),A.xb(1),A.Mc(A.ic(13,8,n.submitButtonText))}}function at(e,t){if(1&e&&(A.Ob(0,"span",106),A.hc(1,"safe")),2&e){var i=A.gc();A.nc("innerHTML",A.jc(1,1,i.commonInputValidationErrorMessage,"html"),A.Cc)}}function rt(e,t){1&e&&(A.Tb(0,"div",null,108),A.Ob(2,"app-escalation-level",null,109),A.Sb())}function ot(e,t){1&e&&A.Jc(0,rt,4,0,"ng-template",null,107,A.Kc)}function st(e,t){1&e&&A.Lc(0),2&e&&A.Nc(" ",t.$implicit.groupName," ")}function lt(e,t){if(1&e&&(A.Tb(0,"div",110),A.Tb(1,"div",111),A.Tb(2,"ejs-multiselect",112,113),A.hc(4,"translate"),A.hc(5,"translate"),A.Jc(6,st,1,1,"ng-template",null,114,A.Kc),A.Sb(),A.Sb(),A.Tb(8,"div",115),A.Ob(9,"ejs-multiselect",116,117),A.hc(11,"translate"),A.hc(12,"translate"),A.Sb(),A.Sb(),A.Tb(13,"div",118),A.Lc(14),A.hc(15,"translate"),A.Sb()),2&e){var i=A.gc();A.xb(2),A.oc("placeholder",A.ic(4,14,"GROUP")),A.oc("filterBarPlaceholder",A.ic(5,16,"SEARCH")),A.nc("dataSource",i.assigneeGroupDataConfig)("fields",i.assigneeGroupFieldConfig)("allowFiltering",!0)("showClearButton",!0),A.xb(7),A.oc("placeholder",A.ic(11,18,"AGENT")),A.oc("filterBarPlaceholder",A.ic(12,20,"SEARCH")),A.nc("dataSource",i.assigneeDataConfig)("fields",i.assigneeFieldConfig)("allowFiltering",!0)("showClearButton",!0)("itemTemplate",i.assigneeOrGroupItemTemplate),A.xb(5),A.Mc(A.ic(15,22,"VALIDATIONMESSAGEFORSETASSIGNEE"))}}var ct,ut,dt,pt,ht,bt,mt={priority:$,slaTarget:Y,slaReminder:te,slaEscalation:ne},gt=((pt=function(){function t(i,n,a,r,o,s,l,c){var u=this;e(this,t),this.router=i,this.activatedRoute=n,this.spinService=a,this.toastService=r,this.automationListService=o,this.slaService=s,this.cd=l,this.viewContainerRef=c,this.nameIsError=!1,this.descriptionIsError=!1,this.inputAttribute={maxlength:O.s},this.textAreaAttribute={maxlength:O.M},this.headerText=[],this.durationExceedErrorMessage=Object(y.a)("MAXIMUMDURATION"),this.invalidTimeErrorMessage=Object(y.a)("MINIMUMDURATION"),this.conditionRuleDel=!0,this.reminderOperators=[{key:"30 minutes",value:"0",typeId:2,text:"30"},{key:"1 hour",value:"1",typeId:3,text:"1"},{key:"2 hours",value:"2",typeId:3,text:"2"},{key:"4 hours",value:"3",typeId:3,text:"4"},{key:"8 hours",value:"4",typeId:3,text:"8"}],this.resolutionReminderOperators=[{key:"30 minutes",value:"0",typeId:2,text:"30"},{key:"1 hour",value:"1",typeId:3,text:"1"},{key:"2 hours",value:"2",typeId:3,text:"2"},{key:"4 hours",value:"3",typeId:3,text:"4"},{key:"8 hours",value:"4",typeId:3,text:"8"},{key:"1 day",value:"5",typeId:4,text:"1"},{key:"2 days",value:"6",typeId:4,text:"2"},{key:"3 days",value:"7",typeId:4,text:"3"},{key:"5 days",value:"8",typeId:4,text:"5"},{key:"7 days",value:"9",typeId:4,text:"7"}],this.escalationOperators=[{key:"Immediately",value:"0",typeId:2,text:"0"},{key:"After 30 minutes",value:"1",typeId:2,text:"30"},{key:"After 1 hour",value:"2",typeId:3,text:"1"},{key:"After 2 hours",value:"3",typeId:3,text:"2"},{key:"After 4 hours",value:"4",typeId:3,text:"4"},{key:"After 8 hours",value:"5",typeId:3,text:"8"},{key:"After 12 hours",value:"6",typeId:3,text:"12"},{key:"After 1 day",value:"7",typeId:4,text:"1"},{key:"After 2 days",value:"8",typeId:4,text:"2"},{key:"After 3 days",value:"9",typeId:4,text:"3"},{key:"After 5 days",value:"10",typeId:4,text:"5"},{key:"After 7 days",value:"11",typeId:4,text:"7"}],this.reminderQueryBuilderLabel=[{key:Object(y.a)("FIRSTRESPONSEREMINDER")},{key:Object(y.a)("RESPONSEREMINDER")},{key:Object(y.a)("RESOLUTIONREMINDER")}],this.escalationQueryBuilderLabel=[{key:Object(y.a)("FIRSTRESPONSEESCALATION")},{key:Object(y.a)("RESPONSEESCALATION")},{key:Object(y.a)("RESOLUTIONESCALATION")}],this.validCondition=!0,this.isReminderSection=!0,this.tabAnimationSettings={next:{effect:"None"},previous:{effect:"None"}},this.firstResponseTime=[],this.responseTime=[],this.resolutionTime=[],this.businessHour=[],this.targetTimeOptionId=2,this.reminderEnabledJson=[],this.escalationEnabledJson=[],this.businessHourIdJson=[],this.slaTargetBusinessHourColumn="4",this.slaTimeFieldsColumn="3",this.isAssignedAgent=!1,this.isAssignedGroup=!1,this.invalidResponseTime=!1,this.assigneeOrGroupTemplate={create:function(e){return e.field===ce.ResolutionEscalation?(u.enableResolutionEscalation=!0,u.cd.detectChanges(),u.compileTemplate(u.escalationLevel,{name:"assignee"})):u.compileTemplate(u.assigneeTemplate,{name:"assignee"})},destroy:function(e){if(e.field===ce.ResolutionEscalation)e.elements[0].parentElement.classList.remove("action-assignee-style"),e.elements[0].parentElement.parentElement.classList.remove("hd-rule-value"),u.enableResolutionEscalation=!1,u.escalationLevelContainer.nativeElement.querySelector(" .escalation-assignee-drop").ej2_instances[0].destroy(),u.cd.detectChanges();else{u.setAssigneeVaidationFail=!1,e.elements[0].parentElement.classList.remove("action-assignee-style");var t=u.slaTargetContainer.nativeElement.querySelector("#"+e.elementId+" .groupDropDown").ej2_instances[0],i=u.slaTargetContainer.nativeElement.querySelector("#"+e.elementId+" .assigneeDropDown").ej2_instances[0];t.destroy(),i.destroy()}},write:function(e){if(e.field===ce.ResolutionEscalation)setTimeout((function(){u.escalationTemplate.getResolutionEscalationData(u.resolutionEscalation,u.isNewSLAPolicy)})),e.elements.parentElement.classList.add("action-assignee-style"),e.elements.parentElement.parentElement.classList.add("hd-rule-value");else{var t,i,n,a,r=Object(E.C)(e.elements,".e-rule-container"),o=[].slice.call(r.parentElement.children).indexOf(r),s=u.isReminderSection?u.reminderQuerybuilder:u.escalationQuerybuilder;if(s.rule.rules[o].custom){if(s.rule.rules[o].custom.filter((function(e){return"groupValue"===e.key}))[0]){var l=s.rule.rules[o].custom.filter((function(e){return"groupValue"===e.key}))[0];n=JSON.parse(JSON.stringify(l));var c=l?l.value===x.v.AssignedGroup?x.w.AssignedGroup:l.value:null;Object(E.X)(c)||setTimeout((function(){var i=u.slaTargetContainer.nativeElement.querySelector("#"+e.elements.id+" .groupDropDown");t=i.ej2_instances[0],c&&t.setProperties({query:(new g.g).addParams("includeAdditionalIds",c.toString())},!0),t.value=c||"",t.dataBind()}))}if(s.rule.rules[o].custom.filter((function(e){return"assigneeValue"===e.key}))[0]){var d=s.rule.rules[o].custom.filter((function(e){return"assigneeValue"===e.key}))[0];a=JSON.parse(JSON.stringify(d));var p=d?d.value===x.v.AssignedAgent?x.w.AssignedAgent:d.value:null;Object(E.X)(p)||setTimeout((function(){var t=u.slaTargetContainer.nativeElement.querySelector("#"+e.elements.id+" .assigneeDropDown");i=t.ej2_instances[0],p&&i.setProperties({query:(new g.g).addParams("userId",p.toString())},!0),i.value=p||"",i.dataBind()}))}}var h=[];e.elements.parentElement.classList.add("action-assignee-style"),setTimeout((function(){var r=s.element.querySelector("#"+e.elements.id).parentElement.parentElement,o=r.querySelector(".e-control.e-dropdownlist").ej2_instances[0].itemData,l=s.rule.rules.findIndex((function(e){return e.field===o.field})),c=u.slaTargetContainer.nativeElement.querySelector("#"+e.elements.id+" .groupDropDown"),d=r.querySelector(" .e-rule-operator .e-control.e-dropdownlist");if(d){var p=d.ej2_instances[0].itemData;s.rule.rules[l].timeOptionId=p.typeId,s.rule.rules[l].reminderTime=p.text,s.rule.rules[l].operatorValue=p.value}(t=c.ej2_instances[0]).change.subscribe((function(){var e=t.value?t.value:null;0===t.value.length&&(e=null);var i=t.value.map(String);if(!Object(E.X)(e))for(var n=0;n<i.length;n++)i[n]===x.w.AssignedGroup.toString()&&(i[n]=x.v.AssignedGroup);s.rule.rules[l].groupId=Object(E.X)(i)?null:i.length>0?i:null;var a=t.value;h.filter((function(e){return"groupValue"===e.key}))[0]?h.filter((function(e){return"groupValue"===e.key}))[0].value=a:h.push({key:"groupValue",value:a}),s.rule.rules[l].custom=h,u.queryBuildervalueUpdate(s,t.element," ")})),t.dataBound.subscribe((function(e){t.requestCount?++t.requestCount:t.requestCount=1;var i=!1;t=c.ej2_instances[0],!Object(E.X)(t.value)&&u.isNewSLAPolicy&&t.value.forEach((function(e){e==x.w.AssignedGroup&&(i=!0)}));for(var a=e.items.length,r=0;r<a;r++){if(e.items[r].userId===x.w.AssignedGroup){u.itemAddedGroup=!0;break}u.itemAddedGroup=!1}u.itemAddedGroup||i||(t.addItem({groupID:x.w.AssignedGroup,groupName:x.x.AssignedGroup},0),1===t.requestCount&&n&&n.value.length>0&&(t.value=n.value),u.itemAddedGroup=!0),t.value&&t.change.emit()}));var b=u.slaTargetContainer.nativeElement.querySelector("#"+e.elements.id+" .assigneeDropDown");(i=b.ej2_instances[0]).change.subscribe((function(){var e=i.value?i.value:null;0===i.value.length&&(e=null);var t=i.value.map(String);if(!Object(E.X)(e))for(var n=0;n<t.length;n++)t[n]===x.w.AssignedAgent.toString()&&(t[n]=x.v.AssignedAgent);s.rule.rules[l].agentId=Object(E.X)(t)?null:t.length>0?t:null;var a=i.value;h.filter((function(e){return"assigneeValue"===e.key}))[0]?h.filter((function(e){return"assigneeValue"===e.key}))[0].value=a:h.push({key:"assigneeValue",value:a}),s.rule.rules[l].custom=h,u.queryBuildervalueUpdate(s,i.element," ")})),i.dataBound.subscribe((function(e){i.requestCount?++i.requestCount:i.requestCount=1;var t=!1;i=b.ej2_instances[0],!Object(E.X)(i.value)&&u.isNewSLAPolicy&&i.value.forEach((function(e){e==x.w.AssignedAgent&&(t=!0)}));for(var n=e.items.length,r=0;r<n;r++){if(e.items[r].userId===x.w.AssignedAgent){u.itemAddedAssignee=!0;break}u.itemAddedAssignee=!1}u.itemAddedAssignee||t||(i.addItem({displayName:x.x.AssignedAgent,userId:x.w.AssignedAgent,emailId:"",shortCode:"AA",colorCode:"#0450cc"},0),1===i.requestCount&&a&&a.value.length>0&&(i.value=a.value),u.itemAddedAssignee=!0),i.value&&i.change.emit()}))}))}}},this.newItemAdded=!0,this.assigneeGroupFieldConfig={text:"groupName",value:"groupID"},this.assigneeFieldConfig={text:"displayName",value:"userId"},this.itemAddedAssignee=!1,this.itemAddedGroup=!1,this.operationalHoursFields={text:"name",value:"id"},this.slaTimeFields={text:"text",value:"value"},this.slaTimeFieldsRequired=!1,this.conditionErrorAndRule=!1,this.assigneeOrGroupItemTemplate=Object(f.B)(),this.setAssigneeVaidationFail=!1,this.reminderTempJson=[],this.reminderFieldsJson=[],this.escalationTempJson=[],this.escalationFieldsJson=[],this.reminderJsonData=[],this.escalationJsonData=[],this.isValidFields=!0,this.reminderErrorEleCount=0,this.showAddReminderButton=!0,this.showAddEscalationButton=!0,this.resolutionEscalationCount=1,this.enableResolutionEscalation=!1,this.autoCompleteAttribute={autocomplete:"anyrandomstring"},this.placeholderString=Object(y.a)("SEARCH"),this.businessHourDataConfig=[{text:Object(y.a)("ALLDAYS24*7"),value:0}],this.timeFieldsDataConfig=[{text:"Minutes",value:"2"},{text:"Hours",value:"3"},{text:"Days",value:"4"}],this.resolutionFromModificationTime=!1,this.reminderObj=[],this.escalationObj=[],this.isOperatorationalDropChanged=!1,this.reminderFilter=[{field:"firstResponseReminder",label:"First response reminder",operators:this.reminderOperators,template:this.assigneeOrGroupTemplate},{field:"responseReminder",label:"Response reminder",operators:this.reminderOperators,template:this.assigneeOrGroupTemplate},{field:"resolutionReminder",label:"Resolution reminder",operators:this.resolutionReminderOperators,template:this.assigneeOrGroupTemplate}],this.escalationFilter=[{field:"firstResponseEscalation",label:"First response escalation",operators:this.escalationOperators,template:this.assigneeOrGroupTemplate},{field:"responseEscalation",label:"Response escalation",operators:this.escalationOperators,template:this.assigneeOrGroupTemplate},{field:"resolutionEscalation",label:"Resolution escalation",operators:this.escalationOperators,template:this.assigneeOrGroupTemplate}],this.commonInputValidationErrorMessage=f.e,this.appSettings=O.e,this.format=O.e.dateFormat,this.formatWithTime=O.e.dateFormat+" "+O.e.timeFormat,this.timeZone=O.P.timeZoneOffset,this.priorityData=this.getPriority(),this.assigneeGroupDataConfig=new g.a({url:ae.a.Group,adaptor:new v.b}),this.assigneeDataConfig=new g.a({url:ae.a.Assignee,adaptor:new v.b})}return i(t,[{key:"getPriority",value:function(){var e=this.fetchPriority();return Object.keys(e).map((function(t){return e[t]})).reverse()}},{key:"getReminderQueryBuilderJson",value:function(e){var t=this;this.reminderTempJson=[],this.reminderFieldsJson=[],Object(E.X)(e)||(Object.keys(e).map((function(i){e[i].map((function(e){t.reminderTempJson.push(e),t.reminderFieldsJson.push(e.field)}))})),this.formatReminderJson(this.reminderTempJson))}},{key:"getEscalationQueryBuilderJson",value:function(e){var t=this;this.escalationTempJson=[],this.escalationFieldsJson=[],Object(E.X)(e)||(Object.keys(e).map((function(i){var n=i;e[i].map((function(e){t.escalationFieldsJson.push(e.field),n!==ce.ResolutionEscalation?t.escalationTempJson.push(e):1===t.resolutionEscalationCount&&(++t.resolutionEscalationCount,t.escalationTempJson.push(e))}))})),this.formatEscalationJson(this.escalationTempJson))}},{key:"formatReminderJson",value:function(e){var t=this;return this.reminderJsonData=[],this.reminderObj=[],this.fetchSLAReminder().rules.map((function(e){t.reminderFieldsJson.includes(e.field)||t.reminderObj.push(e)})),e.map((function(e){var i={field:e.field,label:e.label,operator:e.reminderValue.toString(),custom:Object(E.X)(e.custom)?null:e.custom,sortOrder:e.sortOrder};t.reminderJsonData.push(i)})),this.reminderObj.length>0?(this.reminderObj.map((function(e){t.reminderJsonData.push(e)})),this.reminderJsonData.sort((function(e,t){return e.sortOrder-t.sortOrder})),this.reminderJsonData):(this.reminderJsonData.sort((function(e,t){return e.sortOrder-t.sortOrder})),this.reminderJsonData)}},{key:"formatEscalationJson",value:function(e){var t=this;return this.escalationJsonData=[],this.escalationObj=[],this.fetchSLAEscalation().rules.map((function(e){t.escalationFieldsJson.includes(e.field)||t.escalationObj.push(e)})),e.map((function(e){var i={field:e.field,label:e.label,operator:e.escalationValue.toString(),custom:Object(E.X)(e.custom)?null:e.custom,sortOrder:e.sortOrder};t.escalationJsonData.push(i)})),this.escalationObj.length>0?(this.escalationObj.map((function(e){t.escalationJsonData.push(e)})),this.escalationJsonData.sort((function(e,t){return e.sortOrder-t.sortOrder})),this.escalationJsonData):(this.escalationJsonData.sort((function(e,t){return e.sortOrder-t.sortOrder})),this.escalationJsonData)}},{key:"fetchPriority",value:function(){return mt.priority.default}},{key:"fetchSLATarget",value:function(){return mt.slaTarget.default}},{key:"fetchSLAReminder",value:function(){return mt.slaReminder.default}},{key:"fetchSLAEscalation",value:function(){return mt.slaEscalation.default}},{key:"compileTemplate",value:function(e,t){var i=this.viewContainerRef.createEmbeddedView(e,{$implicit:t});i.markForCheck();var n=Object(E.F)("div"),a=i.rootNodes;return a.length>0&&a.forEach((function(e){n.appendChild(e)})),n}},{key:"ngOnInit",value:function(){var e=this;if(this.convertFields(),this.activatedRoute.data.subscribe((function(t){e.isNewSLAPolicy=t.newSLAPolicy})),this.isNewSLAPolicy?(this.slaTargetData=this.fetchSLATarget(),this.resolutionFromCreationTime=!0,this.submitButtonText=Object(y.a)("ADD")):(this.slaTargetData=this.slaMetricTarget,this.resolutionFromCreationTime||(this.resolutionFromModificationTime=!0),this.submitButtonText=Object(y.a)("UPDATE")),this.operationalHoursDataConfig=new g.a({url:re.a.BusinessHourList,adaptor:new v.b}),Object(E.X)(this.businessId)||(this.businessHourDropQuery=(new g.g).addParams("includeAdditionalIds",this.businessId.toString())),this.headerText=[{text:Object(y.a)("CHOOSECONDITION")},{text:Object(y.a)("SLATARGETS")},{text:Object(y.a)("ADDREMINDER")},{text:Object(y.a)("ADDESCALATION")}],this.isNewSLAPolicy)this.reminderData=this.fetchSLAReminder(),this.escalationData=this.fetchSLAEscalation();else{if(this.getReminderQueryBuilderJson(this.reminder),this.getEscalationQueryBuilderJson(this.escalation),this.reminderJsonData.length>0){var t=JSON.stringify({condition:"and",rules:this.reminderJsonData});this.reminderData=JSON.parse(t)}else this.reminderData=this.fetchSLAReminder();if(this.escalationJsonData.length>0){var i=JSON.stringify({condition:"and",rules:this.escalationJsonData});this.escalationData=JSON.parse(i)}else this.escalationData=this.fetchSLAEscalation()}}},{key:"ngAfterViewInit",value:function(){Object(O.V)(!0)}},{key:"convertFields",value:function(){var e=this,t=C.TicketConditionFields+"/fields";this.spinService.showSpinner(),this.automationListService.fields(t).then((function(t){e.items=t.result,e.itemClone=e.items.map((function(e){return Object.assign({},e)})),Object(E.X)(e.ticketQuerybuilder)||e.selectQryBldr(e.ticketQuerybuilder),e.columnTemplate=[e.itemsList],e.ticketFilter=e.columnTemplate[0],setTimeout((function(){Object(E.X)(e.ticketQuerybuilder)||(e.ticketQuerybuilder.refresh(),e.styleChange(e.ticketQuerybuilder))}))})).finally((function(){e.spinService.hideSpinner()}))}},{key:"policyCancel",value:function(){this.router.navigateByUrl(this.isNewSLAPolicy?location.pathname.replace("/new",""):"/admin/sla")}},{key:"policyNameCreated",value:function(){var e=this;setTimeout((function(){e.policyName&&e.policyName.element&&Object(f.h)(e.policyName.element.parentElement)}))}},{key:"policyNameFocusOut",value:function(){if(Object(E.X)(this.policyName.value))this.nameRequired=!0;else{var e=this.policyName.value.trim();Object(E.X)(e)||0!==e.length||(this.nameRequired=!0)}}},{key:"policyNameChange",value:function(){if(Object(E.X)(this.policyName.value))this.nameRequired=!1,this.nameIsError=!1;else{this.nameRequired=!1;var e=Object(f.d)(this.policyName.value);this.nameIsError=!!e}}},{key:"policyNameInput",value:function(e){var t=e.value;this.nameRequired=!(!Object(E.X)(t)&&""!==t.trim());var i=Object(f.d)(t);this.nameIsError=!!i}},{key:"policyDescriptionChange",value:function(){if(!Object(E.X)(this.policyDescription.value)&&this.policyDescription.value.length>0){var e=Object(f.d)(this.policyDescription.value);this.descriptionIsError=!!e}else this.descriptionIsError=!1}},{key:"btnClicked",value:function(e){var t=this;switch(e.target.id){case"set-sla-target":this.policyNameFocusOut(),this.operationalHourFocusOut(),this.isDefaultSLA?this.nameRequired||this.nameIsError||this.descriptionIsError||(this.operationalHourId=this.operationalHourDrop.value,this.operationalHourName=this.operationalHourDrop.text,this.isOperatorationalDropChanged&&this.setOperationalDropData(),this.tab.enableTab(1,!0),this.tab.enableTab(0,!1)):(this.isConditionTabValid(),this.validateCondition(this.ticketQuerybuilder),setTimeout((function(){if(t.validateConditionValueField(),!t.validCondition||t.nameRequired||t.nameIsError||t.descriptionIsError||t.operationalHourRequired||t.conditionErrorAndRule||t.conditionErrorAndRule){if(t.nameRequired||t.nameIsError)t.policyName.focusIn();else if(t.descriptionIsError)t.policyDescription.focusIn();else if(t.operationalHourRequired)t.operationalHourDrop.focusIn();else if(t.ticketQuerybuilder.rule.rules.length>0&&""!==t.ticketQuerybuilder.rule.rules[0].field){var e=t.ticketQuerybuilder.element.querySelectorAll(".e-error");if(0===e.length)return;var i=e[0].querySelector(".e-dropdownlist, .e-textbox, .e-multiselect .e-control, .e-datepicker");i&&i.ej2_instances[0].focusIn()}else if(t.ticketQuerybuilder.rule.rules.length>0&&""===t.ticketQuerybuilder.rule.rules[0].field){var n=t.ticketQuerybuilder.element.querySelectorAll(".e-error")[0].querySelector(".e-dropdownlist, .e-textbox, .e-multiselect .e-control, .e-datepicker");n&&n.ej2_instances[0].focusIn()}}else t.operationalHourId=t.operationalHourDrop.value,t.operationalHourName=t.operationalHourDrop.text,t.isOperatorationalDropChanged&&t.setOperationalDropData(),t.tab.enableTab(1,!0),t.tab.enableTab(0,!1)}),500));break;case"add-sla-reminder":this.validateSLAMetricTarget(),this.validateMandatorySLAMetricFields(),this.checkErrorElement(),0===this.invalidTimeCount&&this.maskedValue>0&&!this.slaTimeFieldsRequired&&!this.invalidResponseTime&&(this.tab.enableTab(2,!0),this.tab.enableTab(1,!1),this.isReminderSection=!0);break;case"add-sla-escalation":this.isReminderSection=!1,this.tab.enableTab(3,!0),this.tab.enableTab(2,!1);break;case"post-sla-policy":this.saveSLA();break;case"goto-set-condition":this.isOperatorationalDropChanged=!1,this.tab.enableTab(0,!0),this.tab.select(0),this.tab.enableTab(1,!1);break;case"goback-set-target":this.tab.enableTab(1,!0),this.tab.select(1),this.tab.enableTab(2,!1);break;case"goback-add-reminder":this.tab.enableTab(2,!0),this.tab.select(2),this.tab.enableTab(3,!1),this.isReminderSection=!0}}},{key:"setQueryBuilderPlaceholder",value:function(e,t,i){var n=e.element.querySelectorAll(".e-rule-operator label");Object(E.X)(n)||n.forEach((function(e){e.innerText=i}));var a=e.element.querySelectorAll(".e-rule-filter label");Object(E.X)(a)||a.forEach((function(e){e.innerText=t}))}},{key:"setReminderQueryBuilderLabel",value:function(e){var t=this;setTimeout((function(){var i=e.element.querySelectorAll(".e-rule-field"),n=0;i.forEach((function(e){var i=Object(E.F)("div");i.innerHTML='<label class="font-13 query-label"> '.concat(t.reminderQueryBuilderLabel[n].key," </label>"),e.parentElement.insertBefore(i,e),++n}))}))}},{key:"setReminderQueryBuilderHeader",value:function(e){setTimeout((function(){var t=e.element.querySelectorAll(".e-group-body"),i=Object(E.F)("div",{className:"flex-horizontal"});i.innerHTML='<label class="font-13 query-header no-margin"> '.concat(Object(y.a)("DURATION"),' </label>\n            <label class="font-13 query-header no-margin" style="min-width: 187px"> ').concat(Object(y.a)("GROUP"),' </label>\n            <label class="font-13 query-header no-margin"> ').concat(Object(y.a)("AGENT")," </label>"),t[0].parentElement.insertBefore(i,t[0])}))}},{key:"setEscalationQueryBuilderLabel",value:function(e){var t=this,i=e.element.querySelectorAll(".e-rule-field"),n=0;i.forEach((function(e){var i=Object(E.F)("div");i.innerHTML='<label class="font-13 query-label"> '.concat(t.escalationQueryBuilderLabel[n].key," </label>"),e.parentElement.insertBefore(i,e),++n}))}},{key:"setEscalationQueryBuilderHeader",value:function(e){setTimeout((function(){var t=e.element.querySelectorAll(".e-group-body"),i=Object(E.F)("div",{className:"flex-horizontal"});i.innerHTML='<label class="font-13 query-header no-margin"> '.concat(Object(y.a)("DURATION"),' </label>\n            <label class="font-13 query-header no-margin" style="min-width: 187px"> ').concat(Object(y.a)("GROUP"),' </label>\n            <label class="font-13 query-header no-margin"> ').concat(Object(y.a)("AGENT")," </label>"),t[0].parentElement.insertBefore(i,t[0])}))}},{key:"tabSelecting",value:function(e){e.isSwiped&&(e.cancel=!0)}},{key:"selectQryBldr",value:function(e){this.itemsList=this.items;for(var t=0;t<this.itemsList.length;t++){for(var i=0;i<this.itemsList[t].operators.length;i++){var n=this.itemsList[t].operators[i];Object(oe.n)(n)&&(this.itemsList[t].operators[i]=Object(oe.n)(n))}this.itemsList[t].template=Object(oe.b)(e,this.ticketConditionSection,this.queryBuildervalueUpdate,this.itemsList[t])}return this.itemsList}},{key:"ticketQueryBuilderCreated",value:function(){var e=this;setTimeout((function(){var t=e.ticketQuerybuilder.element.querySelector(".e-addrulegroup");if(t){var i=Object(E.M)(t,"dropdown-btn");i&&(i.cssClass="e-round e-caret-hide hd-query-action-rule e-addrulegroup")}e.styleChange(e.ticketQuerybuilder)}))}},{key:"ticketQueryBuilderChange",value:function(e){e&&("deleteRule"!==e.type&&"insertRule"!==e.type||(this.conditionRuleDel=1===this.ticketQuerybuilder.rule.rules.length)),this.ticketQuerybuilder.rule.rules.length>0&&(this.ticketQuerybuilder.rule.rules.length>1||""!==this.ticketQuerybuilder.rule.rules[0].field)&&(this.validCondition=this.ticketQuerybuilder.validateFields()),this.styleChange(this.ticketQuerybuilder),e&&"deleteRule"===e.type&&0===this.ticketQuerybuilder.rule.rules.length&&this.ticketQuerybuilder.addRuleElement(this.ticketQuerybuilder.element.querySelector(".e-group-container"),{})}},{key:"ticketQueryBuilderRuleChange",value:function(){this.validCondition=this.ticketQuerybuilder.validateFields()}},{key:"reminderQuerybuilderCreated",value:function(){var e=this;setTimeout((function(){var t=e.reminderQuerybuilder.element.querySelector(".e-addrulegroup");if(t){var i=Object(E.M)(t,"dropdown-btn");i&&(i.cssClass="e-round e-caret-hide hd-query-action-rule e-addrulegroup")}})),this.styleChange(this.reminderQuerybuilder),setTimeout((function(){e.setReminderQueryBuilderHeader(e.reminderQuerybuilder),e.setReminderQueryBuilderLabel(e.reminderQuerybuilder),e.setQueryBuilderPlaceholder(e.reminderQuerybuilder,Object(y.a)("REMINDER"),Object(y.a)("DURATION"))}))}},{key:"styleChange",value:function(e){for(var t=e.element.getElementsByClassName(".e-control .e-textbox"),i=e.element.getElementsByClassName("e-control e-dropdownlist"),n=0;n<t.length;n++)Object(E.M)(t[n],"textbox").dataBind();for(var a=0;a<i.length;a++){var r=Object(E.M)(i[a],"dropdownlist");r.allowFiltering=!0,e.element.classList.contains("hd-query-condition")&&r.element.parentElement.parentElement.classList.contains("e-rule-filter")&&(r.filterType="Contains",r.fields.groupBy="fieldGroupName"),r.filterBarPlaceholder=Object(y.a)("SEARCH"),r.popupHeight="200px"}}},{key:"reminderQuerybuilderChange",value:function(e){var t=this;this.reminderQuerybuilder.rule.rules.length>0&&(this.reminderQuerybuilder.rule.rules.length>1||""!==this.reminderQuerybuilder.rule.rules[0].field)&&(this.validCondition=this.reminderQuerybuilder.validateFields()),e&&("deleteRule"!==e.type&&"insertRule"!==e.type&&"field"!==e.type||this.framUniqFieldsInActionQB(this.reminderQuerybuilder)),this.ruleReminderRequired=!1,this.styleChange(this.reminderQuerybuilder),setTimeout((function(){t.setQueryBuilderPlaceholder(t.reminderQuerybuilder,Object(y.a)("REMINDER"),Object(y.a)("DURATION"))}))}},{key:"queryBuildervalueUpdate",value:function(e,t,i){e.notifyChange(i,t)}},{key:"reminderQuerybuilderRuleChange",value:function(){this.validCondition=this.reminderQuerybuilder.validateFields()}},{key:"escalationQuerybuilderCreated",value:function(){var e=this;setTimeout((function(){var t=e.escalationQuerybuilder.element.querySelector(".e-addrulegroup");if(t){var i=Object(E.M)(t,"dropdown-btn");i&&(i.cssClass="e-round e-caret-hide hd-query-action-rule e-addrulegroup")}})),this.styleChange(this.escalationQuerybuilder),setTimeout((function(){e.setEscalationQueryBuilderHeader(e.escalationQuerybuilder),e.setEscalationQueryBuilderLabel(e.escalationQuerybuilder),e.setQueryBuilderPlaceholder(e.escalationQuerybuilder,Object(y.a)("ESCALATION"),Object(y.a)("DURATION"))}))}},{key:"escalationQuerybuilderChange",value:function(e){var t=this;this.escalationQuerybuilder.rule.rules.length>0&&(this.escalationQuerybuilder.rule.rules.length>1||""!==this.escalationQuerybuilder.rule.rules[0].field)&&(this.validCondition=this.escalationQuerybuilder.validateFields()),e&&("deleteRule"!==e.type&&"insertRule"!==e.type&&"field"!==e.type||this.framUniqFieldsInActionQB(this.escalationQuerybuilder)),this.ruleEscalationRequired=!1,this.styleChange(this.escalationQuerybuilder),setTimeout((function(){t.setQueryBuilderPlaceholder(t.escalationQuerybuilder,Object(y.a)("ESCALATION"),Object(y.a)("DURATION"))}))}},{key:"escalationQuerybuilderRuleChange",value:function(){this.validCondition=this.escalationQuerybuilder.validateFields()}},{key:"getCurrentDropDownObject",value:function(e,t,i){return this[e]._results.filter((function(e){return e.element.getAttribute("data-column")===t&&e.element.getAttribute("data-index")===i.toString()}))}},{key:"getAllOperatorDropObject",value:function(e,t){return this[e]._results.filter((function(e){return e.element.getAttribute("data-column")===t}))}},{key:"setOperationalDropData",value:function(){var e=this;setTimeout((function(){e.getAllOperatorDropObject("dropdown",e.slaTargetBusinessHourColumn).map((function(t){if(t&&t.element){var i=e.businessHourDataConfig.filter((function(e){return 0===e.value}));e.businessHourDataConfig=i,Object(E.X)(e.operationalHourId)||0===e.operationalHourId?t.index=0:(t.addItem({text:e.operationalHourName,value:e.operationalHourId},1),t.index=1)}}))}))}},{key:"businessHourDataBound",value:function(e,t,i){var n=this;setTimeout((function(){n.getCurrentDropDownObject("dropdown",n.slaTargetBusinessHourColumn,e).map((function(e){e&&e.element&&(n.isNewSLAPolicy?Object(E.X)(n.operationalHourId)||0===n.operationalHourId||(e.addItem({text:n.operationalHourName,value:n.operationalHourId},1),e.index=1):Object(E.X)(t)||Object(E.X)(n.operationalHourId)||0===n.operationalHourId?Object(E.X)(n.operationalHourId)||0===n.operationalHourId||(e.addItem({text:n.operationalHourName,value:n.operationalHourId},1),e.index=n.isOperatorationalDropChanged?1:0):t===n.operationalHourId?(e.addItem({text:i,value:t},1),e.index=1):(e.addItem({text:n.operationalHourName,value:n.operationalHourId},1),e.index=1)),e.popupWidth="220px"}))}))}},{key:"getAllEj2Objects",value:function(e){return this[e]._results.filter((function(e){return"true"===e.element.getAttribute("data-mandatory")}))}},{key:"getAllObjects",value:function(e,t){return this[e]._results.filter((function(e){return e.element.getAttribute("data-column")===t}))}},{key:"getCurrentEj2Objects",value:function(e,t,i){return this[t]._results.filter("dropdown"===t?function(t){return t.element.getAttribute("data-index")===e.toString()&&t.placeholder===i}:function(t){return t.element.getAttribute("data-index")===e.toString()&&t.element.className.includes(i)})}},{key:"firstResponseFocusOut",value:function(e,t){this.textBoxFocusOut(e,t)}},{key:"everyResponseFocusOut",value:function(e,t){this.textBoxFocusOut(e,t)}},{key:"resolutionFocusOut",value:function(e,t){this.textBoxFocusOut(e,t)}},{key:"firstResponseChange",value:function(e,t){this.textBoxFocusOut(e,t)}},{key:"everyResponseChange",value:function(e,t){this.textBoxFocusOut(e,t)}},{key:"resolutionChange",value:function(e,t){this.textBoxFocusOut(e,t)}},{key:"textBoxFocusOut",value:function(e,t){this.slaTimeFieldsRequired=!1;var i=this.getCurrentEj2Objects(e,"numerictextbox",t),n=this.getCurrentEj2Objects(e,"dropdown",t);if(Object(E.X)(i[0].value))return this.invalidTimeCount=0,void this.customErrorAppend(e,t,"");this.invalidTimeCount=0;var a=i[0].value,r=n[0].value;return a<30&&r===ue.Minutes?(++this.invalidTimeCount,void this.customErrorAppend(e,t,this.invalidTimeErrorMessage)):a>8760&&r===ue.Hours||a>365&&r===ue.Days||a>525600&&r===ue.Minutes?(++this.invalidTimeCount,void this.customErrorAppend(e,t,this.durationExceedErrorMessage)):0===a&&r===ue.Hours||0===a&&r===ue.Days?(++this.invalidTimeCount,void this.customErrorAppend(e,t,this.invalidTimeErrorMessage)):(this.invalidTimeCount=0,this.customErrorAppend(e,t,""),void this.validateSLAResolutionTime(e))}},{key:"validateSLAResolutionTime",value:function(e){var t=this.getCurrentEj2Objects(e,"numerictextbox",he.TimeToFirstReply),i=this.getCurrentEj2Objects(e,"dropdown",he.TimeToFirstReply),n=this.getCurrentEj2Objects(e,"numerictextbox",he.TimeToNextReply),a=this.getCurrentEj2Objects(e,"dropdown",he.TimeToNextReply),r=this.getCurrentEj2Objects(e,"numerictextbox",he.ResolutionTime),o=this.getCurrentEj2Objects(e,"dropdown",he.ResolutionTime);if(!Object(E.X)(t[0].value)&&!Object(E.X)(r[0].value)){var s=t[0].value,l=n[0].value,c=r[0].value,u=i[0].value,d=a[0].value,p=o[0].value,h=u==ue.Hours?60*s:u==ue.Days?24*s*60:s,b=d==ue.Hours?60*l:d==ue.Days?24*l*60:l,m=p==ue.Hours?60*c:p==ue.Days?24*c*60:c;h>=m?(this.invalidResponseTime=!0,++this.invalidTimeCount,this.customErrorAppend(e,he.TimeToFirstReply,Object(y.a)("INVALIDFIRSTRESPONSETIME"))):(this.invalidResponseTime=!1,this.invalidTimeCount>0&&--this.invalidTimeCount,this.customErrorAppend(e,he.TimeToFirstReply,""),(h<30||h<30)&&this.textBoxFocusOut(e,he.TimeToFirstReply)),b>=m?(this.invalidResponseTime=!0,++this.invalidTimeCount,this.customErrorAppend(e,he.TimeToNextReply,Object(y.a)("INVALIDFIRSTRESPONSETIME"))):(this.invalidResponseTime=!1,this.invalidTimeCount>0&&--this.invalidTimeCount,this.customErrorAppend(e,he.TimeToNextReply,""),(b<30||b<30)&&this.textBoxFocusOut(e,he.TimeToNextReply))}}},{key:"getDropObject",value:function(e,t){return this[e]._results.filter((function(e){return e.placeholder===t}))}},{key:"customErrorAppend",value:function(e,t,i){var n=this.slaForm;if(n){var a=n.nativeElement.querySelectorAll(".custom-error span.error"),r=this.getCurrentElement(a,e,t);r&&this.invalidTimeCount>0?(r.classList.add("custom-error-appended"),r.innerText=i):(r.classList.remove("custom-error-appended"),r.innerText="")}}},{key:"checkErrorElement",value:function(){var e=this.slaForm.nativeElement.querySelectorAll(".custom-error-appended");this.invalidResponseTime=e.length>0}},{key:"getCurrentElement",value:function(e,t,i){for(var n=0;n<e.length;n++)if(e[n].getAttribute("data-index")===t.toString()&&e[n].getAttribute("name")===i.toString())return e[n]}},{key:"formErrorEleFocus",value:function(){if(this.slaForm&&this.slaForm.nativeElement){var e,t=this.slaForm.nativeElement;if((e=t.querySelector(".error-msg"))||(e=t.querySelector(".custom-error-appended")),e||(e=t.querySelector(".e-file-invalid")),e||(e=t.querySelector(".e-error")),!e)return;var i=Object(E.C)(e,".form-group");if(i){var n=i.querySelector("input");n||(n=i.querySelector("textarea")),n&&n.focus()}else t.querySelector("input").focus()}}},{key:"newCondition",value:function(e,t){t.validateFields()&&t.addRuleElement(t.element.querySelector(".e-group-container"),{})}},{key:"checkReminderValidation",value:function(){this.isValidFields=!!this.reminderQuerybuilder.validateFields()}},{key:"checkEscalationValidation",value:function(){this.isValidFields=!!this.escalationQuerybuilder.validateFields()}},{key:"getEj2ObjectsByName",value:function(e,t){return this[e]._results.filter("dropdown"===e?function(e){return e.element.getAttribute("data-column")===t}:"switch"===e?function(e){return e.element.getAttribute("name")===t}:function(e){return e.element.className.includes(t)})}},{key:"targetJSONConverter",value:function(){this.firstResponseTime=[],this.resolutionTime=[],this.resolutionTime=[],this.reminderEnabledJson=[],this.escalationEnabledJson=[],this.businessHourIdJson=[];var e=this.getEj2ObjectsByName("numerictextbox","first-response-time"),t=this.getEj2ObjectsByName("numerictextbox","every-response-time"),i=this.getEj2ObjectsByName("numerictextbox","resolution-time"),n=this.getDropObject("dropdown","first-response-time"),a=this.getDropObject("dropdown","every-response-time"),r=this.getDropObject("dropdown","resolution-time"),o=this.getEj2ObjectsByName("switch","reminder-enabled"),s=this.getEj2ObjectsByName("switch","escalation-enabled"),l=this.getEj2ObjectsByName("dropdown",this.slaTargetBusinessHourColumn),c=this.getTargetTimeJson(e,n,se.FirstResponseTime,this.firstResponseTime),u=this.getTargetTimeJson(t,a,se.ResponseTime,this.responseTime),d=this.getTargetTimeJson(i,r,se.ResolutionTime,this.resolutionTime),p=this.getTargetReminderEscalationJson(o,se.ReminderEnabled,this.reminderEnabledJson),h=this.getTargetReminderEscalationJson(s,se.EscalationEnabled,this.escalationEnabledJson),b=this.getTargetBusinessHourJson(l),m=this.mergedArray(c,u),g=this.mergedArray(m,d),f=this.mergedArray(g,p),v=this.mergedArray(f,h);return this.mergedArray(v,b)}},{key:"getTargetTimeJson",value:function(e,t,i,n){var a=4,r=0;return e.map((function(e){if(i===se.FirstResponseTime){var o={field:"priority",value:a,firstResponseTime:Object(E.X)(e.value)?null:e.value,firstResponseTimeOptionId:Object(E.X)(e.value)?parseInt(ue.Hours,0):parseInt(t[r].value,0)};n.push(o),--a}else if(i===se.ResponseTime){var s={responseTime:Object(E.X)(e.value)?null:e.value,responseTimeOptionId:Object(E.X)(e.value)?parseInt(ue.Hours,0):parseInt(t[r].value,0)};n.push(s)}else{var l={resolutionTime:Object(E.X)(e.value)?null:e.value,resolutionTimeOptionId:Object(E.X)(e.value)?parseInt(ue.Days,0):parseInt(t[r].value,0)};n.push(l)}++r})),n}},{key:"getTargetReminderEscalationJson",value:function(e,t,i){return e.map((function(e){i.push(t===se.ReminderEnabled?{isReminderEnabled:e.checked}:{isEscalationEnabled:e.checked})})),i}},{key:"getTargetBusinessHourJson",value:function(e){var t=this;return e.map((function(e){t.businessHourIdJson.push({businessHourId:0!==e.itemData.value?e.itemData.value:null,businessHourText:e.itemData.text})})),this.businessHourIdJson}},{key:"mergedArray",value:function(e,t){var i=[];return e.forEach((function(e,n){i.push(Object.assign({},e,t[n]))})),i}},{key:"getReminderJson",value:function(){var e=this.reminderQuerybuilder.rule.rules,t={};return Object(f.D)(e[0].field)?null:(e.map((function(e){if(!Object(f.D)(e.agentId)||!Object(f.D)(e.groupId)){var i,n=e.field;i=n===le.FirstResponseReminder?de.FirstResponseReminder:n===le.ResponseReminder?de.ResponseReminder:de.ResolutionReminder;var a=[{reminderTime:e.reminderTime.toString(),timeOptionId:e.timeOptionId,agentId:Object(f.D)(e.agentId)?null:e.agentId.toString(),groupId:Object(f.D)(e.groupId)?null:e.groupId.toString(),placeholder:"",action:"",field:e.field,label:e.label,custom:Object(f.D)(e.custom)?null:e.custom,reminderValue:e.operatorValue.toString(),sortOrder:i}];t[n]=a}})),0===Object.keys(t).length?null:t)}},{key:"checkResolutionEscalationExists",value:function(){var e=0;return this.escalationQuerybuilder.rule.rules.filter((function(t){t.field===ce.ResolutionEscalation&&++e})),e}},{key:"getEscalationJson",value:function(){var e,t=this.checkResolutionEscalationExists();!Object(E.X)(this.escalationTemplate)&&t>0&&(e=this.escalationTemplate.getLevelsEscalation());var i=this.escalationQuerybuilder.rule.rules,n={};return Object(f.D)(i[0].field)?null:(i.map((function(e){var t;if(!(e.field===ce.ResolutionEscalation||Object(f.D)(e.agentId)&&Object(f.D)(e.groupId))){var i=e.field;t=i===le.FirstResponseEscalation?pe.FirstResponseEscalation:pe.ResponseEscalation;var a=[{escalationTime:e.reminderTime.toString(),timeOptionId:e.timeOptionId,agentId:Object(f.D)(e.agentId)?null:e.agentId.toString(),groupId:Object(f.D)(e.groupId)?null:e.groupId.toString(),placeholder:"",action:"",field:e.field,label:e.label,custom:Object(f.D)(e.custom)?null:e.custom,escalationValue:e.operatorValue.toString(),sortOrder:t}];n[i]=a}})),null!=e&&(n[ce.ResolutionEscalation]=e),0===Object.keys(n).length?null:n)}},{key:"saveSLA",value:function(){this.policyNameFocusOut();var e={};this.nameRequired||this.nameIsError||this.descriptionIsError||this.conditionErrorAndRule||0!==this.invalidTimeCount||!this.isValidFields||0!==this.reminderErrorEleCount||(this.spinService.showSpinner(),e={name:this.policyName.value.trim(),description:Object(E.X)(this.policyDescription)||Object(E.X)(this.policyDescription.value)?null:this.policyDescription.value.trim(),businessHourId:0===this.operationalHourDrop.value?null:this.operationalHourDrop.value,isCalculateResolutionFromCreationTime:!Object(E.X)(this.creationTime)&&this.creationTime.checked,ticketTarget:this.isDefaultSLA?this.ticketTarget:JSON.stringify({condition:"and",rules:this.ticketQuerybuilder.rule.rules}),slaMetricTarget:JSON.stringify(this.targetJSONConverter()),reminder:Object(E.X)(this.getReminderJson())?null:JSON.stringify(this.getReminderJson()),escalation:Object(E.X)(this.getEscalationJson())?null:JSON.stringify(this.getEscalationJson())},this.postSLA(e))}},{key:"postSLA",value:function(e){var t=this;this.isNewSLAPolicy?this.slaService.addBSLA(e).then((function(e){e&&(Object(O.V)(!1),t.spinService.hideSpinner(),t.toastService.successToast(e.message),t.router.navigateByUrl("/admin/sla"))})):this.slaService.editBSLA(e,this.slaId).then((function(e){e&&(Object(O.V)(!1),t.spinService.hideSpinner(),t.toastService.successToast(e.message),t.router.navigateByUrl("/admin/sla"))}))}},{key:"framUniqFieldsInActionQB",value:function(e){var t=this,i=this.getColumnData(e);e.element.querySelectorAll(".e-rule-list .e-rule-field .e-rule-filter .e-control.e-dropdownlist").forEach((function(n){t.skipIndexDataSource(n.ej2_instances[0],e.columns,JSON.parse(JSON.stringify(i)))}))}},{key:"skipIndexDataSource",value:function(e,t,i){-1!==i.indexOf(e.value)&&i.splice(i.indexOf(e.value),1);var n=[];t.forEach((function(e){-1===i.indexOf(e.field)&&n.push(e)})),e.dataSource=n,e.dataBind()}},{key:"getColumnData",value:function(e){var t=[];return e.getRules().rules.forEach((function(e){e.field&&t.push(e.field)})),t}},{key:"validateSLAMetricTarget",value:function(){var e=this;this.invalidTimeCount=0,this.maskedValue=0;var t=0,i=this.getAllObjects("numerictextbox",this.slaTimeFieldsColumn),n=this.getAllObjects("dropdown",this.slaTimeFieldsColumn);return i.map((function(){if(!Object(E.X)(i[t].value)){++e.maskedValue;var a=i[t].value,r=n[t].value;a<30&&r===ue.Minutes||a>8760&&r===ue.Hours||a>365&&r===ue.Days||a>525600&&r===ue.Minutes||0===a&&r===ue.Hours||0===a&&r===ue.Days?++e.invalidTimeCount:++e.maskedValue}++t})),this.maskedValue}},{key:"validateMandatorySLAMetricFields",value:function(){var e=this;this.mandatoryValueCount=0;var t=0,i=this.getAllEj2Objects("numerictextbox");i.map((function(){Object(E.X)(i[t].value)?e.slaTimeFieldsRequired=!0:(e.slaTimeFieldsRequired=!1,++t)}))}},{key:"isConditionTabValid",value:function(){this.nameRequired=Object(E.X)(this.policyName.value),this.validCondition=this.ticketQuerybuilder.rule.rules.length>0&&""===this.ticketQuerybuilder.rule.rules[0].field||this.ticketQuerybuilder.rule.rules.length>0&&""!==this.ticketQuerybuilder.rule.rules[0].field?this.ticketQuerybuilder.validateFields():!(this.ticketQuerybuilder.rule.rules.length>1)||this.ticketQuerybuilder.validateFields()}},{key:"validateCondition",value:function(e){for(var t=e.element.querySelectorAll(".e-rule-value:not(.e-hide) .e-dropdownlist, .e-rule-value:not(.e-hide) .e-textbox, .e-rule-value:not(.e-hide) .e-multiselect .e-control, .e-rule-value:not(.e-hide) .e-datepicker"),i=0;i<t.length;i++)t[i].ej2_instances[0].blur()}},{key:"validateConditionValueField",value:function(){var e=this.ticketQuerybuilder.element.querySelectorAll(".e-error");this.conditionErrorAndRule=e.length>0}},{key:"assigneeOrgroupBlur",value:function(e,t,i){var n=i.querySelector(".validation-error-msg");Object(E.X)(e.value)&&Object(E.X)(t.value)?(n.classList.add("show-validation"),n.classList.remove("hide-validation")):(n.classList.remove("show-validation"),n.classList.add("hide-validation"))}},{key:"validateReminder",value:function(){for(var e=this.reminderQuerybuilder.element.children[0].querySelectorAll(".e-rule-container"),t=0;t<e.length;t++){var i=e[t].querySelector(".groupDropDown").ej2_instances[0],n=e[t].querySelector(".assigneeDropDown").ej2_instances[0];this.assigneeOrgroupBlur(i,n,e[t])}}},{key:"validateEscalation",value:function(){for(var e=this.escalationQuerybuilder.element.children[0].querySelectorAll(".e-rule-container"),t=0;t<e.length;t++){var i=e[t].querySelector(".groupDropDown"),n=Object(E.X)(i)?null:i.ej2_instances[0],a=e[t].querySelector(".assigneeDropDown"),r=Object(E.X)(a)?null:a.ej2_instances[0];Object(E.X)(n)||Object(E.X)(r)||this.assigneeOrgroupBlur(n,r,e[t])}}},{key:"operationalHourCreated",value:function(){var e=this;setTimeout((function(){e.operationalHourDrop&&e.operationalHourDrop.element&&Object(f.h)(e.operationalHourDrop.element.parentElement)}))}},{key:"operationalHourFocusOut",value:function(){this.operationalHourRequired=0!==this.operationalHourDrop.value&&!this.operationalHourDrop.value}},{key:"operationalHourChange",value:function(){this.isOperatorationalDropChanged=!0,this.operationalHourRequired=!!Object(E.X)(this.operationalHourDrop.value)}},{key:"operationalHourDataBound",value:function(e){for(var t=e.items.length,i=0;i<t&&!this.newItemAdded&&0!==e.items[i].id;i++);this.newItemAdded&&(this.operationalHourDrop&&this.operationalHourDrop.element&&(this.operationalHourDrop.addItem({id:0,name:Object(y.a)("ALLDAYS24*7")},0),Object(E.X)(this.businessId)&&(this.operationalHourDrop.index=0)),this.newItemAdded=!1)}},{key:"setTimeFieldDropValue",value:function(e,t){return this.isNewSLAPolicy?t===se.ResolutionTime?ue.Days:ue.Hours:e.toString()}}]),t}()).\u0275fac=function(e){return new(e||pt)(A.Nb(b.g),A.Nb(b.a),A.Nb(D.a),A.Nb(P.a),A.Nb(be.a),A.Nb(j),A.Nb(A.h),A.Nb(A.O))},pt.\u0275cmp=A.Hb({type:pt,selectors:[["app-addedit-sla-policy"]],viewQuery:function(e,t){var i;1&e&&(A.Qc(Ae,!0),A.Qc(Ie,!0),A.Qc(ke,!0),A.Qc(De,!0),A.Qc(Pe,!0),A.Qc(Le,!0),A.Qc(je,!0),A.Qc(Re,!0),A.Qc(Me,!0),A.Qc(we,!0),A.Qc(_e,!0),A.Qc(Ne,!0),A.Qc(Fe,!0),A.Qc(Be,!0),A.Qc(Qe,!0),A.Qc(qe,!0),A.Qc(He,!0),A.Qc(u.f,!0),A.Qc(d.e,!0),A.Qc(p.k,!0)),2&e&&(A.xc(i=A.fc())&&(t.policyName=i.first),A.xc(i=A.fc())&&(t.policyDescription=i.first),A.xc(i=A.fc())&&(t.ticketQuerybuilder=i.first),A.xc(i=A.fc())&&(t.tab=i.first),A.xc(i=A.fc())&&(t.slaForm=i.first),A.xc(i=A.fc())&&(t.reminderQuerybuilder=i.first),A.xc(i=A.fc())&&(t.slaTargetContainer=i.first),A.xc(i=A.fc())&&(t.creationTime=i.first),A.xc(i=A.fc())&&(t.assigneeTemplate=i.first),A.xc(i=A.fc())&&(t.assigneeGroupDrop=i.first),A.xc(i=A.fc())&&(t.assigneeDrop=i.first),A.xc(i=A.fc())&&(t.escalationQuerybuilder=i.first),A.xc(i=A.fc())&&(t.escalationLevel=i.first),A.xc(i=A.fc())&&(t.escalationLevelContainer=i.first),A.xc(i=A.fc())&&(t.ticketConditionSection=i.first),A.xc(i=A.fc())&&(t.escalationTemplate=i.first),A.xc(i=A.fc())&&(t.operationalHourDrop=i.first),A.xc(i=A.fc())&&(t.numerictextbox=i),A.xc(i=A.fc())&&(t.dropdown=i),A.xc(i=A.fc())&&(t.switch=i))},inputs:{name:"name",description:"description",resolutionFromCreationTime:"resolutionFromCreationTime",ticketTarget:"ticketTarget",slaMetricTarget:"slaMetricTarget",reminder:"reminder",escalation:"escalation",isDefaultSLA:"isDefaultSLA",slaId:"slaId",resolutionEscalation:"resolutionEscalation",businessId:"businessId"},decls:27,vars:6,consts:[[1,"control-section","p-3"],["slaForm",""],[1,"col-lg-12","control-section"],[1,"sla-policy-container"],[1,"control-section","pt-3"],[1,"col-lg-9","control-section","p-0"],["slaContainer",""],["showCloseButton","false",3,"animation","selecting"],["tab",""],[1,"mb-3",3,"header"],["content",""],["disabled","true",3,"header"],["errorInputValidation",""],[4,"ngIf"],["assigneeTemplate",""],["id","set-condition",1,"pt-4"],["ticketConditionSection",""],[1,"form-group","row","flex-vertical"],[1,"col"],[1,"cutom-field-label"],[1,"error"],["autocomplete","off",3,"placeholder","value","htmlAttributes","enabled","created","blur","change","input"],["policyName",""],["class","error-msg",4,"ngIf"],["autocomplete","off",3,"placeholder","value","htmlAttributes","change"],["policyDescription",""],["id","operationalHours","popupHeight","200px","index","0",3,"placeholder","dataSource","value","fields","query","allowFiltering","filterBarPlaceholder","htmlAttributes","dataBound","created","change","blur"],["operationalHourDrop",""],[1,"form-group","row","flex-horizontal","mb-4","mt-4"],[1,"padding-left-15px","pr-3"],[1,"font-14","mb-2"],[1,"col","flex-horizontal"],[1,"margin-right-20px"],["name","sla",3,"label","checked"],["creationTime",""],["class","mt-25",4,"ngIf"],[1,"btn-container","mb-3","mt-3","align-right"],["type","button","id","set-sla-target","cssClass","e-btn","ejs-button","",1,"e-lib","e-control","e-primary",3,"isPrimary","click"],[1,"error-msg"],[4,"ngTemplateOutlet"],[1,"mt-25"],[1,"query-rule-prop-container"],[1,"border-bottom",3,"ngClass"],[1,"radio-style"],[1,"fw-600"],["id","ticket-query-builder","width","100%","maxGroupCount","1","allowValidation","true","cssClass","hd-query-condition",3,"columns","rule","created","change","ruleChange"],["ticketQuerybuilder",""],[1,"p-1","pl-2","query-action-button"],["ejs-button","","iconCss","hd-icon hd-plus",1,"e-btn","e-flat","no-border",3,"click"],["id","set-target"],[1,"form-group","row","flex-vertical","no-margin"],["class","card no-border cursor-pointer",4,"ngFor","ngForOf"],["type","button","id","goto-set-condition","cssClass","e-outline","ejs-button","",1,"e-btn",3,"click"],["type","button","id","add-sla-reminder","cssClass","e-btn","ejs-button","",1,"e-btn","e-lib","e-control","e-primary",3,"isPrimary","click"],[1,"card","no-border","cursor-pointer"],[4,"ngFor","ngForOf"],[1,"sla-summary-container","card-content"],[1,"sla-contents","flex-horizontal","padding-right-0"],[1,"flex-horizontal",2,"max-width","100px"],[1,"sla-status","ellipsis","no-wrap","font-13"],[1,"priority-color"],[1,"sla-status","ellipsis","no-wrap","font-13","status-text"],[1,"align-right",2,"margin-bottom","auto"],[1,"sla-policy-property","flex-vertical","pr-3"],[1,"mb-2"],[2,"align-self","center"],["name","reminder-enabled","cssClass","switch-class",3,"checked"],[1,"sla-policy-property","flex-vertical"],["name","escalation-enabled","cssClass","switch-class",3,"checked"],[1,"sla-footer-container","flex-horizontal","border-top"],["slaTargetContainer",""],[1,"sla-footer","flex-horizontal","full-width"],[1,"flex-vertical","footer-sections",2,"max-width","200px"],[1,"no-margin","secondary","font-13","margin-bottom-10px","fw-500"],[1,"sla-time-section"],[2,"min-width","60px"],["cssClass","sla-target-textbox","format","0","autocomplete","off","decimals","0","min","0","autocomplete","off",1,"first-response-time",3,"htmlAttributes","value","blur"],[1,"sla-time-dropdown",2,"min-width","95px"],["index","1","placeholder","first-response-time","name","first-response-time",3,"dataSource","value","htmlAttributes","fields","change","blur"],[1,"flex-vertical","flex","footer-sections","full-width","editable-section",2,"max-width","200px"],["cssClass","sla-target-textbox","format","0","autocomplete","off","min","0","autocomplete","off","decimals","0",1,"every-response-time",3,"htmlAttributes","value","blur"],["index","1","placeholder","every-response-time","name","every-response-time",3,"dataSource","value","htmlAttributes","fields","change","blur"],["cssClass","sla-target-textbox","format","0","autocomplete","off","min","0","autocomplete","off","decimals","0",1,"resolution-time",3,"htmlAttributes","value","blur"],["index","2","placeholder","resolution-time","name","resolution-time",3,"dataSource","value","htmlAttributes","fields","change","blur"],[2,"min-width","150px"],["index","0","popupHeight","200px",3,"dataSource","placeholder","htmlAttributes","dataBound"],[1,"sla-footer-container","flex-horizontal"],[1,"flex-vertical","footer-sections","no-padding",2,"min-width","180px","max-width","200px"],[1,"custom-error","error-message-padding"],["name","first-response-time",1,"error","font-12"],[1,"flex-vertical","flex","footer-sections","no-padding",2,"min-width","180px","max-width","200px"],["name","every-response-time",1,"error","font-12"],["name","resolution-time",1,"error","font-12"],[1,"error","font-12"],["id","add-reminder",1,"pt-4"],[1,"query-rule-action-container"],["id","reminder-query-builder","width","100%","maxGroupCount","1","cssClass","hd-reminder-section","allowValidation","true",3,"columns","rule","created","change","ruleChange"],["reminderQuerybuilder",""],["type","button","id","goback-set-target","cssClass","e-outline","ejs-button","",1,"e-btn",3,"click"],["type","button","id","add-sla-escalation","cssClass","e-btn","ejs-button","",1,"e-btn","e-lib","e-control","e-primary",3,"isPrimary","click"],["id","add-escalation",1,"pt-4"],["id","escalation-query-builder","width","100%","maxGroupCount","1","cssClass","hd-escalation-section","allowValidation","true",3,"columns","rule","created","change","ruleChange"],["escalationQuerybuilder",""],[1,"btn-container","mb-3","mt-4","align-right"],["type","button","id","goback-add-reminder","cssClass","e-outline","ejs-button","",1,"e-btn",3,"click"],["type","button","id","post-sla-policy","ejs-button","",1,"e-btn",3,"isPrimary","click"],[1,"error",3,"innerHTML"],["escalationLevel",""],["escalationLevelContainer",""],["escalationTemplate",""],[1,"form-group","row"],[1,"col-6"],["mode","CheckBox","ngClass","groupDropDown","popupHeight","200px",1,"action-added-template","action-assignee",3,"placeholder","dataSource","fields","allowFiltering","showClearButton","filterBarPlaceholder"],["assigneeGroupDrop",""],["itemTemplate",""],[1,"col-6","padding-left-0"],["popupHeight","200px","popupWidth","250px","mode","CheckBox","ngClass","assigneeDropDown",1,"action-added-template-assignee",3,"placeholder","dataSource","fields","allowFiltering","showClearButton","filterBarPlaceholder","itemTemplate"],["assigneeDrop",""],[1,"e-error","hide-validation","validation-error-msg"]],template:function(e,t){1&e&&(A.Tb(0,"div",0,1),A.Tb(2,"div",2),A.Tb(3,"div",3),A.Tb(4,"div",4),A.Tb(5,"div",5,6),A.Tb(7,"ejs-tab",7,8),A.ec("selecting",(function(e){return t.tabSelecting(e)})),A.Tb(9,"e-tabitems"),A.Tb(10,"e-tabitem",9),A.Jc(11,We,52,50,"ng-template",null,10,A.Kc),A.Sb(),A.Tb(13,"e-tabitem",11),A.Jc(14,tt,11,9,"ng-template",null,10,A.Kc),A.Sb(),A.Tb(16,"e-tabitem",11),A.Jc(17,it,14,10,"ng-template",null,10,A.Kc),A.Sb(),A.Tb(19,"e-tabitem",11),A.Jc(20,nt,14,10,"ng-template",null,10,A.Kc),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Sb(),A.Jc(22,at,2,4,"ng-template",null,12,A.Kc),A.Jc(24,ot,2,0,void 0,13),A.Jc(25,lt,16,24,"ng-template",null,14,A.Kc)),2&e&&(A.xb(7),A.nc("animation",t.tabAnimationSettings),A.xb(3),A.nc("header",t.headerText[0]),A.xb(3),A.nc("header",t.headerText[1]),A.xb(3),A.nc("header",t.headerText[2]),A.xb(3),A.nc("header",t.headerText[3]),A.xb(5),A.nc("ngIf",t.enableResolutionEscalation))},directives:[R.m,R.o,R.n,o.n,u.i,d.e,p.i,p.c,o.r,o.l,M.d,o.m,p.k,u.f,xe,d.h],pipes:[N.a,Ee.a],styles:['body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.sla-policy-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:15px}.sla-policy-container[_ngcontent-%COMP%]   .font-12px[_ngcontent-%COMP%]{font-size:12px!important}.sla-policy-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin:15px 0;padding:15px 0 0;position:relative}.sla-policy-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .sla-policy-property[_ngcontent-%COMP%]{bottom:8px;position:relative}.sla-policy-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{box-shadow:0 1px 2px 0 rgba(0,0,0,.2)}.sla-policy-container[_ngcontent-%COMP%]   .sla-summary-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.sla-footer-container){padding-left:15px}.sla-policy-container[_ngcontent-%COMP%]   .sla-contents[_ngcontent-%COMP%]   .sla-status[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.sla-policy-container[_ngcontent-%COMP%]   .sla-contents[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:25px}.sla-policy-container[_ngcontent-%COMP%]   .sla-contents[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .footer-sections[_ngcontent-%COMP%]{padding:5px 15px}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .footer-sections[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:inherit;font-size:13px;margin-bottom:14px!important;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .footer-sections[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{height:36px;line-height:36px}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .sla-time-section[_ngcontent-%COMP%]{display:inline-flex;width:100%}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .e-numeric[_ngcontent-%COMP%]   .e-input-group-icon[_ngcontent-%COMP%]{display:none}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .e-numeric.e-input-group.e-outline.e-small[_ngcontent-%COMP%]{border-radius:4px 0 0 4px!important;border-right-width:0!important}.sla-policy-container[_ngcontent-%COMP%]   .sla-footer-container[_ngcontent-%COMP%]   .sla-time-dropdown[_ngcontent-%COMP%]   .e-dropdownlist[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]{border-radius:0 4px 4px 0!important}.sla-policy-container[_ngcontent-%COMP%]   .priority-color[_ngcontent-%COMP%]{content:"";display:inline-block;height:15px;margin-right:5px;width:15px}.sla-policy-container[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{margin-left:6px;margin-top:-5px}.query-rule-action-container[_ngcontent-%COMP%], .query-rule-prop-container[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:4px;box-shadow:0 2px 4px 0 rgba(18,52,77,.06)}.query-rule-action-container[_ngcontent-%COMP%]   .query-action-button[_ngcontent-%COMP%], .query-rule-prop-container[_ngcontent-%COMP%]   .query-action-button[_ngcontent-%COMP%]{background-color:#fff}.query-rule-action-container[_ngcontent-%COMP%]   .e-query-builder[_ngcontent-%COMP%], .query-rule-prop-container[_ngcontent-%COMP%]   .e-query-builder[_ngcontent-%COMP%]{border:0!important}.border-color-action[_ngcontent-%COMP%], .border-color-condition[_ngcontent-%COMP%]{border:1px solid red!important}.hd-reminder-section[_ngcontent-%COMP%]   .e-rule-value-delete[_ngcontent-%COMP%]{display:none}.hd-reminder-section[_ngcontent-%COMP%]   .e-rule-field[_ngcontent-%COMP%]{display:flex}.hd-reminder-section[_ngcontent-%COMP%]   .e-group-header[_ngcontent-%COMP%], .hd-reminder-section[_ngcontent-%COMP%]   .e-group-header[_ngcontent-%COMP%]   .e-btn-group[_ngcontent-%COMP%]{display:none}.hd-reminder-section[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]{padding-left:0!important}.hd-reminder-section[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]   .e-rule-container[_ngcontent-%COMP%]:after, .hd-reminder-section[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]   .e-rule-container[_ngcontent-%COMP%]:before, .hd-reminder-section[_ngcontent-%COMP%]   .e-rule-filter[_ngcontent-%COMP%]{display:none}.hd-reminder-section[_ngcontent-%COMP%]   .e-rule-value[_ngcontent-%COMP%]{align-items:center;display:inline-flex}.hd-reminder-section[_ngcontent-%COMP%]   .e-rule-value.e-show[_ngcontent-%COMP%]{width:unset!important}.e-rule-field[_ngcontent-%COMP%]   .e-rule-value-delete[_ngcontent-%COMP%]   .e-rule-delete[_ngcontent-%COMP%]{float:right!important;position:absolute!important;right:10px!important;top:10px!important}.condition-update-style[_ngcontent-%COMP%]   .e-rule-value[_ngcontent-%COMP%]{width:auto!important}.condition-update-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]{display:flex}.condition-update-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]:nth-child(2){height:36px!important;margin-left:12px!important;margin-right:12px!important;margin-top:0!important}.condition-update-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]:nth-child(4){margin-top:0!important}.action-assignee-style[_ngcontent-%COMP%]   .e-rule-value[_ngcontent-%COMP%]{width:auto!important}.action-assignee-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]{display:flex}.action-assignee-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]:first-child{margin-right:60px!important}.action-assignee-style[_ngcontent-%COMP%]   .e-template[_ngcontent-%COMP%]   .e-input-group[_ngcontent-%COMP%]:nth-child(2){margin-top:0!important}.hd-escalation-section[_ngcontent-%COMP%]   .e-rule-value-delete[_ngcontent-%COMP%]{display:none}.hd-escalation-section[_ngcontent-%COMP%]   .e-rule-field[_ngcontent-%COMP%]{display:flex}.hd-escalation-section[_ngcontent-%COMP%]   .e-group-header[_ngcontent-%COMP%], .hd-escalation-section[_ngcontent-%COMP%]   .e-group-header[_ngcontent-%COMP%]   .e-btn-group[_ngcontent-%COMP%]{display:none}.hd-escalation-section[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]{padding-left:0!important}.hd-escalation-section[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]   .e-rule-container[_ngcontent-%COMP%]:after, .hd-escalation-section[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]   .e-rule-container[_ngcontent-%COMP%]:before, .hd-escalation-section[_ngcontent-%COMP%]   .e-rule-filter[_ngcontent-%COMP%]{display:none}.hd-escalation-section[_ngcontent-%COMP%]   .e-rule-value[_ngcontent-%COMP%]{align-items:center;display:inline-flex}.hd-escalation-section[_ngcontent-%COMP%]   .e-rule-value.e-show[_ngcontent-%COMP%]{width:unset!important}.button-style[_ngcontent-%COMP%]{border:1px solid #dadfe3!important;border-radius:16px;left:85%;position:relative;top:11px;transform:translateX(-50%)}.hd-rule-value[_ngcontent-%COMP%]   .e-operator[_ngcontent-%COMP%]{display:none!important}.hd-rule-value[_ngcontent-%COMP%]   .e-rule-value.e-show[_ngcontent-%COMP%]:before{content:""!important;min-width:unset!important}.hd-query-condition.hd-del-icon[_ngcontent-%COMP%]   .e-rule-value-delete[_ngcontent-%COMP%]{display:none}.hd-query-condition[_ngcontent-%COMP%]   .e-rule-filter[_ngcontent-%COMP%], .hd-query-condition[_ngcontent-%COMP%]   .e-rule-value.e-show[_ngcontent-%COMP%]{min-width:230px}.hd-query-condition[_ngcontent-%COMP%]   .e-group-header[_ngcontent-%COMP%], .hd-query-condition[_ngcontent-%COMP%]   .e-group-header[_ngcontent-%COMP%]   .e-btn-group[_ngcontent-%COMP%]{display:none}.hd-query-condition[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]{padding-left:0!important}.hd-query-condition[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]   .e-rule-container[_ngcontent-%COMP%]:after, .hd-query-condition[_ngcontent-%COMP%]   .e-group-body[_ngcontent-%COMP%]   .e-rule-container[_ngcontent-%COMP%]:before{display:none}.radio-style[_ngcontent-%COMP%]{padding:12px 12px 0}.mt-25[_ngcontent-%COMP%]{margin-top:25px}.fw-600[_ngcontent-%COMP%]{font-weight:600}.fw-500[_ngcontent-%COMP%]{font-weight:500}.padding-left-15px[_ngcontent-%COMP%]{padding-left:15px}.margin-right-20px[_ngcontent-%COMP%]{margin-right:20px}.error-message-padding[_ngcontent-%COMP%]{padding-left:20px;padding-right:12px}.margin-bottom-10px[_ngcontent-%COMP%]{margin-bottom:10px!important}']}),pt),ft=((dt=function t(i,n,a,r,o){var s=this;e(this,t),this.appRootService=i,this.router=n,this.seoService=a,this.spinService=r,this.activatedRoute=o;var l=Object(y.a)("ADMIN")+" / "+Object(y.a)("SLA")+" / "+Object(y.a)("EDIT")+",/admin/sla",c=Object(y.a)("EDIT")+" | "+Object(y.a)("SLA")+" | "+Object(y.a)("ADMIN");this.appRootService.setAppTitleText(l),this.seoService.setHeaderElements({title:c}),this.resolveData=this.activatedRoute.data.subscribe((function(e){s.data=e.data,s.spinService.hideSpinner()})),this.data&&(this.policyName=this.data.name,this.policyDescription=this.data.description,this.resolutionFromCreationTime=this.data.isCalculateResolutionFromCreationTime,this.ticketTarget=JSON.parse(this.data.ticketTarget),this.slaMetricTarget=JSON.parse(this.data.slaMetricTarget),this.reminder=JSON.parse(this.data.reminder),this.escalation=JSON.parse(this.data.escalation),this.isDefaultSLA=this.data.isDefault,this.businessId=this.data.businessHourId,this.resolutionEscalation=Object(E.X)(this.escalation)?null:this.escalation.resolutionEscalation),this.slaId=parseInt(this.activatedRoute.snapshot.paramMap.get("id"),10),this.appRootService.getNavigateUrl(this.router.url.replace("/"+this.slaId,""))}).\u0275fac=function(e){return new(e||dt)(A.Nb(I.a),A.Nb(b.g),A.Nb(k.a),A.Nb(D.a),A.Nb(b.a))},dt.\u0275cmp=A.Hb({type:dt,selectors:[["ng-component"]],decls:2,vars:11,consts:[[3,"name","description","resolutionFromCreationTime","ticketTarget","slaId","businessId","slaMetricTarget","reminder","escalation","isDefaultSLA","resolutionEscalation"]],template:function(e,t){1&e&&(A.Tb(0,"div"),A.Ob(1,"app-addedit-sla-policy",0),A.Sb()),2&e&&(A.xb(1),A.nc("name",t.policyName)("description",t.policyDescription)("resolutionFromCreationTime",t.resolutionFromCreationTime)("ticketTarget",t.ticketTarget)("slaId",t.slaId)("businessId",t.businessId)("slaMetricTarget",t.slaMetricTarget)("reminder",t.reminder)("escalation",t.escalation)("isDefaultSLA",t.isDefaultSLA)("resolutionEscalation",t.resolutionEscalation))},directives:[gt],encapsulation:2}),dt),vt=((ut=function t(i,n,a){e(this,t),this.appRootService=i,this.router=n,this.seoService=a;var r=Object(y.a)("ADMIN")+" / "+Object(y.a)("SLA")+" / "+Object(y.a)("ADD")+",/admin/sla",o=Object(y.a)("ADD")+" | "+Object(y.a)("SLA")+" | "+Object(y.a)("ADMIN");this.appRootService.setAppTitleText(r),this.seoService.setHeaderElements({title:o}),this.appRootService.getNavigateUrl(this.router.url.replace("/add",""))}).\u0275fac=function(e){return new(e||ut)(A.Nb(I.a),A.Nb(b.g),A.Nb(k.a))},ut.\u0275cmp=A.Hb({type:ut,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,t){1&e&&(A.Tb(0,"div"),A.Ob(1,"app-addedit-sla-policy"),A.Sb())},directives:[gt],encapsulation:2}),ut),yt=((ct=function(){function t(i,n,a){e(this,t),this.http=i,this.spinService=n,this.router=a}return i(t,[{key:"resolve",value:function(e){var t=this;return this.spinService.showSpinner(),this.http.get(C.SLAPolicyDetail+"/"+e.params.id).toPromise().catch((function(e){return t.router.navigateByUrl("error",{state:e.error.errors[0].errorMessage,skipLocationChange:!0})}))}}]),t}()).\u0275fac=function(e){return new(e||ct)(A.bc(L.b),A.bc(D.a),A.bc(b.g))},ct.\u0275prov=A.Jb({token:ct,factory:ct.\u0275fac}),ct),Ot=a("TSZ8"),Tt=[{path:"add",component:vt,data:{newSLAPolicy:!0},canDeactivate:[Ot.a]},{path:"",component:K},{path:":id",component:ft,resolve:{data:yt},data:{newSLAPolicy:!1},canDeactivate:[Ot.a]},{path:"**",component:m.a}],St=((bt=function t(){e(this,t)}).\u0275mod=A.Lb({type:bt}),bt.\u0275inj=A.Kb({factory:function(e){return new(e||bt)},imports:[[b.k.forChild(Tt)],b.k]}),bt),Ct=((ht=function t(){e(this,t)}).\u0275mod=A.Lb({type:ht}),ht.\u0275inj=A.Kb({factory:function(e){return new(e||ht)},providers:[yt,j],imports:[[o.b,St,s.a,l.j,c.AdminModule,u.h,d.d,p.b,p.d,h.a,p.j,R.l,M.c,u.c,d.g,u.e,p.h,R.e]]}),ht)}}])}();