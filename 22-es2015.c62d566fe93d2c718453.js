(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"51Rb":function(t,e,o){"use strict";o.r(e),o.d(e,"ContactGroupsModule",(function(){return Oe}));var i=o("ofXK"),n=o("GJ+o"),c=o("5OZa"),a=o("SRvG"),r=o("hXFv"),s=o("Pk9d"),l=o("QYJQ"),d=o("jcQU"),u=o("tyNb"),p=o("H552"),b=o("sc+i"),h=o("M9dC"),g=o("58Y9"),m=o("4SUy"),f=o("uHvQ"),C=function(t){return t.Edit="0",t.Delete="1",t}({}),S=o("dSv1"),T=o("znO6"),v=o("A4Lh"),G=o("fXoL"),x=o("1kef"),O=o("2Vo4"),E=o("XNiG"),D=o("IaKf"),w=o("X8pc");let y=(()=>{class t{constructor(t,e,o,i,n){this.appRootService=t,this.router=e,this.route=o,this.toastService=i,this.spinService=n,this.userErrorIntercept=new O.a(null),this.showAddEditContactGroupDialog=new E.a,this.contactGroupObject=new O.a(null),this.addOrEdit=new O.a(""),this.contactGroupDialogSubmitText=new O.a(""),this.contactGroupGridAction=new O.a(""),this.profileOrAddOrEdit=new E.a,this.httpUserErrorIntercept=this.userErrorIntercept.asObservable(),this.showAddEditContactGroup=this.showAddEditContactGroupDialog.asObservable(),this.newContactGroupObject=this.contactGroupObject.asObservable(),this.addorEditAction=this.addOrEdit.asObservable(),this.setContactGroupDialogSubmitButtonText=this.contactGroupDialogSubmitText.asObservable(),this.contactGroupGridActionObserve=this.contactGroupGridAction.asObservable(),this.profileOrAddEdit=this.profileOrAddOrEdit.asObservable()}userErrorHandling(t){this.userErrorIntercept.next(t)}userModuleErrorHandling(t,e){switch(this.errorMessage=Object(g.q)(t.error),e){case"addContactGroup":case"getContactGroupById":case"editContactGroup":400===t.status&&this.toastService.failureToast(this.errorMessage),this.spinService.hideSpinner()}}showAddEditContactGroupForm(t){this.showAddEditContactGroupDialog.next(t)}setContactGroupObjectOnEditDialog(t){this.contactGroupObject.next(t)}setContactGroupDialogTitle(t){this.addOrEdit.next(t)}setContactGroupDialogSubmitText(t){this.contactGroupDialogSubmitText.next(t)}setContactGroupGridAction(t){this.contactGroupGridAction.next(t)}setProfileOrAddEdit(t){this.profileOrAddOrEdit.next(t)}}return t.\u0275fac=function(e){return new(e||t)(G.bc(x.a),G.bc(u.g),G.bc(u.a),G.bc(D.a),G.bc(w.a))},t.\u0275prov=G.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=o("tk/3"),M=o("CU1o"),N=o("I4Xp");let k=(()=>{class t{constructor(t,e,o,i){this.http=t,this.contactGroupRootService=e,this.spinService=o,this.toastService=i,this.httpOptions={headers:new P.e({"Content-Type":"application/json"})}}addContactGroup(t){return this.http.post(M.a.AddContactGroup,t).toPromise()}getContactGroupById(t){return this.http.get(M.a.GetContactGroupById+t,this.httpOptions).toPromise().catch(t=>{this.contactGroupRootService.userModuleErrorHandling(t,"getContactGroupById")})}editContactGroup(t,e){return this.http.put(M.a.AddContactGroup+"/"+e,t,this.httpOptions).toPromise()}deleteContactGroup(t){const e={headers:new P.e({"Content-Type":"application/json"}),body:t};return this.http.delete(M.a.DeleteContactGroup,e).toPromise()}getContactGroupForm(){let t=N.a.ContactGroupForm;return t=Object(g.i)(t,"isExcludeDefaultFields","true"),this.http.get(t,this.httpOptions).toPromise().catch(t=>{if(this.spinService.hideSpinner(),400===t.status){const e=Object(g.q)(t.error);this.toastService.failureToast(e)}})}contactGroupstatus(t){return this.http.get(M.a.requestToContactGroupStatus+t).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(G.bc(P.b),G.bc(y),G.bc(w.a),G.bc(D.a))},t.\u0275prov=G.Jb({token:t,factory:t.\u0275fac}),t})();var I=o("5CqK"),L=o("JCZ/"),A=o("KDci"),j=o("64zv"),B=o("S/i4"),F=o("AjNn");const _=["usersideBar"],R=["contactGroupListGrid"],V=["contactGroupListEle"],U=["searchContactGroup"],J=["moreOptionsContextMenu"],X=["contactgrouptitle"];function q(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",20),G.Tb(1,"button",21),G.ec("click",(function(){return G.Bc(t),G.gc().createNewContactGroupClick()})),G.Lc(2),G.hc(3,"translate"),G.Sb(),G.Sb()}2&t&&(G.xb(2),G.Nc(" ",G.ic(3,1,"CREATECONTACTGROUP")," "))}function H(t,e){1&t&&(G.Tb(0,"div",22),G.Ob(1,"lib-shimmer",23),G.Sb())}function K(t,e){1&t&&(G.Tb(0,"div",24),G.Tb(1,"div",25),G.Ob(2,"img",26),G.Sb(),G.Tb(3,"div",27),G.Lc(4),G.hc(5,"translate"),G.Sb(),G.Sb()),2&t&&(G.xb(4),G.Mc(G.ic(5,1,"NOCONTACTGROUPSFOUND")))}const z=function(t){return{background:t}};function $(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",28),G.Tb(1,"div",29),G.Lc(2),G.Sb(),G.Tb(3,"div",30),G.Tb(4,"span",31),G.ec("click",(function(o){G.Bc(t);const i=e.$implicit;return G.gc().userDetails(o,i)})),G.Lc(5),G.Sb(),G.Sb(),G.Sb()}if(2&t){const t=e.$implicit;G.xb(1),G.nc("ngStyle",G.tc(4,z,t.colorCode)),G.xb(1),G.Nc(" ",t.shortCode," "),G.xb(2),G.yb("data-title",t.contactGroupName),G.xb(1),G.Nc(" ",t.contactGroupName," ")}}function W(t,e){if(1&t&&(G.Tb(0,"div"),G.Ob(1,"app-date-time",33),G.Sb()),2&t){const t=G.gc().$implicit,e=G.gc();G.xb(1),G.nc("date",t.createdOn)("format",e.formatWithTime)("timezone",e.timeZone)}}function Q(t,e){1&t&&(G.Tb(0,"div"),G.Lc(1," -- "),G.Sb())}function Z(t,e){if(1&t&&(G.Jc(0,W,2,3,"div",32),G.Jc(1,Q,2,0,"div",32)),2&t){const t=e.$implicit;G.nc("ngIf",t.createdOn),G.xb(1),G.nc("ngIf",!t.createdOn)}}function Y(t,e){if(1&t){const t=G.Ub();G.Tb(0,"span",36),G.ec("click",(function(){G.Bc(t);const e=G.gc().$implicit,o=G.gc();return o.moreOptionsSelect(o.editItem,e)})),G.hc(1,"translate"),G.Sb()}2&t&&G.yb("data-title",G.ic(1,1,"EDIT"))}function tt(t,e){if(1&t){const t=G.Ub();G.Tb(0,"span",37),G.ec("click",(function(){G.Bc(t);const e=G.gc().$implicit,o=G.gc();return o.moreOptionsSelect(o.deleteItem,e)})),G.hc(1,"translate"),G.Sb()}2&t&&G.yb("data-title",G.ic(1,1,"DELETE"))}function et(t,e){if(1&t&&(G.Jc(0,Y,2,3,"span",34),G.Jc(1,tt,2,3,"span",35)),2&t){const t=G.gc();G.nc("ngIf",t.accessToCreateOrEditContactGroup),G.xb(1),G.nc("ngIf",t.accessToDeleteContactGroup)}}function ot(t,e){if(1&t&&G.Ob(0,"app-contact-module-side-bar",38),2&t){const t=G.gc();G.nc("activateGroup",t.activateGroup)}}function it(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",39),G.Tb(1,"div",40),G.Tb(2,"div",41),G.Tb(3,"span"),G.hc(4,"translate"),G.hc(5,"translate"),G.Lc(6),G.hc(7,"translate"),G.Sb(),G.Sb(),G.Tb(8,"div",42),G.Tb(9,"span",43),G.ec("click",(function(){return G.Bc(t),G.gc().loadGrid()})),G.hc(10,"translate"),G.Sb(),G.Sb(),G.Sb(),G.Sb()}2&t&&(G.xb(3),G.Ab("data-title","",G.ic(4,4,"CONTACTGROUPS")," (",G.ic(5,6,"COMPANIES"),")"),G.xb(3),G.Mc(G.ic(7,8,"CONTACTGROUPS")),G.xb(3),G.yb("data-title",G.ic(10,10,"REFRESH")))}let nt=(()=>{class t{constructor(t,e,o,i,n,c,a,r,s){this.appRootService=t,this.route=e,this.contactGroupRootService=o,this.router=i,this.contactGroupAPIService=n,this.appPermissionService=c,this.seoService=a,this.spinService=r,this.toastService=s,this.showMoreActionColumn=!1,this.searchPlaceholder=Object(S.a)("SEARCH"),this.edit=Object(S.a)("EDIT"),this.delete=Object(S.a)("DELETE"),this.editItem={item:{id:C.Edit}},this.deleteItem={item:{id:C.Delete}},this.stillFetching=!0,this.route.data.subscribe(()=>{this.userSideBarDataNeed=!!Object(m.X)(history.state.data)||history.state.data.userSideBarDataNeed}),this.appRootService.isSideBarNeeded(!0),this.appRootService.setBrandDropDownVisibility(!1),this.appRootService.getNavigateUrl("/tickets"),this.setSEOHeader(),this.accessToCreateOrEditContactGroup=this.appPermissionService.hasPermission([T.a.CreateOrEditContactGroups,T.a.ViewContactGroup]),this.accessToDeleteContactGroup=this.appPermissionService.hasPermission([T.a.DeleteContactGroup,T.a.ViewContactGroup]),this.showMoreActionColumn=(this.accessToCreateOrEditContactGroup||this.accessToDeleteContactGroup)&&this.appPermissionService.hasPermission([T.a.ViewContactGroup,T.a.ViewContactModule]),this.formatWithTime=v.e.dateFormat+" "+v.e.timeFormat,this.timeZone=v.P.timeZoneOffset}ngOnInit(){setTimeout(()=>{this.userSideBarDataNeed&&(this.activateGroup=!0,this.appRootService.setSideBarContent(this.usersideBar)),document.querySelector(".body-content").classList.remove("custom-collapse"),this.appRootService.setAppTitleText(this.ContactGroupTitle)}),this.contactGroupData=new p.a({url:b.a.ContactGroupList,adaptor:new h.a}),this.toolbarOptions=this.accessToCreateOrEditContactGroup?[{text:Object(S.a)("CREATECONTACTGROUP"),prefixIcon:"hd-icon hd-plus",id:"addContactGroup"},"Search"]:["Search"],this.pageSettings={pageSize:f.g}}findIndexInArray(t,e){return e.findIndex(e=>e.id===t)}ngAfterViewInit(){this.gridAction=this.contactGroupRootService.contactGroupGridActionObserve.subscribe(t=>{"refreshData"===t&&(this.contactGroupListGrid.dataSource=new p.a({url:b.a.ContactGroupList,adaptor:new h.a}))}),this.contactGroupListEle.nativeElement.addEventListener("keydown",t=>{Object(g.l)(t,this.contactGroupListEle.nativeElement)}),this.contactGroupListEle.nativeElement.addEventListener("scroll",()=>{this.CloseOtherPopups()})}CloseOtherPopups(){this.moreOptionsMenu&&this.moreOptionsMenu.close()}ngOnDestroy(){this.gridAction.unsubscribe()}userDetails(t,e){this.router.navigateByUrl("/contact-groups/"+e.contactGroupId)}setSEOHeader(){this.seoService.setHeaderElements({title:" Contact Groups "})}gridBeforedataBound(t){0===t.count?(this.stillFetching=!1,this.nodataFound=!0):(this.stillFetching=!0,this.nodataFound=!1)}contactGroupGridDataBound(){Object(g.a)(this.contactGroupListGrid),this.stillFetching=!1}toolbarClick(t){t.item.text===Object(S.a)("CREATECONTACTGROUP")?(this.contactGroupRootService.setContactGroupDialogTitle("CREATECONTACTGROUP"),this.contactGroupRootService.setContactGroupDialogSubmitText("CREATE"),this.contactGroupRootService.showAddEditContactGroupForm("Add")):"Excel Export"===t.item.text&&(this.contactGroupListGrid.columns[4].visible=!1,this.contactGroupListGrid.excelExport({fileName:"contact-groups.xlsx"}))}rowSelect(t,e){if(t.target&&t.target.classList.contains("more-option-button"))t.cancel=!0;else{const t=e;t&&this.contactGroupEditClick(t.contactGroupId)}}contactGroupEditClick(t){Object(m.X)(t)||(this.spinService.showSpinner(),this.contactGroupAPIService.getContactGroupById(t).then(t=>{Object(m.X)(t)||this.contactGroupRootService.setContactGroupObjectOnEditDialog(t)}),this.contactGroupRootService.setContactGroupDialogTitle("EDITCONTACTGROUP"),this.contactGroupRootService.setContactGroupDialogSubmitText("UPDATE"),this.contactGroupRootService.showAddEditContactGroupForm("Edit"))}contactGroupGridActionBegin(t){"refresh"===t.requestType&&this.contactGroupListGrid.searchModule.refreshSearch&&(this.contactGroupListGrid.searchModule.refreshSearch=!1,this.stillFetching=!0)}moreOptionsSelect(t,e){if(this.contactGroupDataItem=e,t.item.id===C.Edit)Object(m.X)(this.contactGroupDataItem)||this.contactGroupEditClick(this.contactGroupDataItem.contactGroupId);else if(t.item.id===C.Delete&&!Object(m.X)(this.contactGroupDataItem)){const t=Object(S.a)("DELETECONTACTGROUPDESCRIPTION");this.contactGroupToBeDeleted=this.contactGroupDataItem.contactGroupId,Object(g.b)(this.contactGroupDeleteClick,this.closeDeleteDialog,this,Object(S.a)("DELETECONTACTGROUP"),t)}}closeDeleteDialog(){this.deleteDialog&&this.deleteDialog.hide()}contactGroupDeleteClick(){this.spinService.showSpinner(),Object(m.X)(this.contactGroupToBeDeleted)||this.contactGroupAPIService.deleteContactGroup([this.contactGroupToBeDeleted]).then(t=>{t&&(this.spinService.hideSpinner(),this.toastService.successToast(t.message),this.closeDeleteDialog(),this.loadGrid())}).catch(t=>{this.spinService.hideSpinner(),t.error&&t.error.errors.length>0&&this.toastService.failureToast(t.error.errors[0].errorMessage)})}loadGrid(){this.stillFetching=!0,setTimeout(()=>{this.contactGroupData=new p.a({url:b.a.ContactGroupList,adaptor:new h.a})})}contactGroupListExcelQueryCellInfo(t){("timeZone"===t.column.field||"supportTier"===t.column.field)&&(t.value=t.value.name)}excelExportComplete(){this.contactGroupListGrid.columns[4].visible=!0}createNewContactGroupClick(){this.contactGroupRootService.setContactGroupDialogTitle("CREATECONTACTGROUP"),this.contactGroupRootService.setContactGroupDialogSubmitText("CREATE"),this.contactGroupRootService.showAddEditContactGroupForm("Add")}searchNodes(){const t=this.searchContactGroup.value.trim();this.contactGroupListGrid.search(t)}}return t.\u0275fac=function(e){return new(e||t)(G.Nb(x.a),G.Nb(u.a),G.Nb(y),G.Nb(u.g),G.Nb(k),G.Nb(I.a),G.Nb(L.a),G.Nb(w.a),G.Nb(D.a))},t.\u0275cmp=G.Hb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var o;1&t&&(G.Gc(_,!0),G.Qc(R,!0),G.Qc(V,!0),G.Qc(U,!0),G.Qc(J,!0),G.Gc(X,!0)),2&t&&(G.xc(o=G.fc())&&(e.usersideBar=o.first),G.xc(o=G.fc())&&(e.contactGroupListGrid=o.first),G.xc(o=G.fc())&&(e.contactGroupListEle=o.first),G.xc(o=G.fc())&&(e.searchContactGroup=o.first),G.xc(o=G.fc())&&(e.moreOptionsMenu=o.first),G.xc(o=G.fc())&&(e.ContactGroupTitle=o.first))},decls:31,vars:22,consts:[[1,"contact-group-container",2,"height","100%"],[2,"height","56px","border-bottom","1px solid #E2E8F0"],["clas","contact-list-contant"],[1,"search-box"],["id","search","showClearButton","true","autocomplete","off","maxlength","150",3,"placeholder","change"],["searchContactGroup",""],["class","add-button-container",4,"ngIf"],[1,"contact-group-grid",2,"height","calc(100% - 56px)","overflow","auto","padding","8px"],["contactGroupListEle",""],["class","pt-2",4,"ngIf"],["class","no-list-found text-center",4,"ngIf"],["id","contactGroupListGrid",3,"dataSource","allowSorting","allowPaging","pageSettings","allowExcelExport","showColumnChooser","hidden","allowResizing","excelExportComplete","dataBound","actionBegin","beforeDataBound","excelQueryCellInfo"],["contactGroupListGrid",""],["field","contactGroupName","minWidth","100","width","150",3,"headerText"],["template",""],["field","createdOn","minWidth","80","width","100",3,"headerText"],["field","contactCount","minWidth","100","width","120","clipMode","EllipsisWithTooltip","textAlign","Center",3,"headerText","allowSorting"],["minWidth","100","width","100","textAlign","Center"],["usersideBar",""],["contactgrouptitle",""],[1,"add-button-container"],["type","button","ejs-button","",1,"e-btn","add-button","e-primary","e-outline",3,"click"],[1,"pt-2"],["type","grid"],[1,"no-list-found","text-center"],[1,"ticket-no-records"],["src","assets/images/group.png","alt","Loading",1,"no-contact-image"],[1,"no-ticket-text"],[1,"flex-horizontal"],[1,"e-avatar","e-avatar-small","e-avatar-circle",3,"ngStyle"],[1,"no-wrap","ellipsis"],[1,"primary-link-color","cursor-pointer",3,"click"],[4,"ngIf"],[3,"date","format","timezone"],["class","bd-icon bd-icon-edit more-option-button",3,"click",4,"ngIf"],["class","more-option-button bd-icon bd-icon-delete-2",3,"click",4,"ngIf"],[1,"bd-icon","bd-icon-edit","more-option-button",3,"click"],[1,"more-option-button","bd-icon","bd-icon-delete-2",3,"click"],[3,"activateGroup"],[1,"flex-horizontal","width-100"],["cssClass","title-text-view",1,"flex-horizontal","title-view-widths"],[1,"view-title-text","ellipsis"],[1,"title-view-buttons","ticket-view-refresh-button",2,"margin-left","8px"],["data-non-elliptical","true",1,"bd-icon","bd-icon-reset","e-btn","no-border","e-btn-icon",3,"click"]],template:function(t,e){1&t&&(G.Tb(0,"div",0),G.Tb(1,"div",1),G.Tb(2,"div",2),G.Tb(3,"div",3),G.Tb(4,"ejs-textbox",4,5),G.ec("change",(function(){return e.searchNodes()})),G.Sb(),G.Sb(),G.Jc(6,q,4,3,"div",6),G.Sb(),G.Sb(),G.Tb(7,"div",7,8),G.Jc(9,H,2,0,"div",9),G.Jc(10,K,6,3,"div",10),G.Tb(11,"ejs-grid",11,12),G.ec("excelExportComplete",(function(){return e.excelExportComplete()}))("dataBound",(function(){return e.contactGroupGridDataBound()}))("actionBegin",(function(t){return e.contactGroupGridActionBegin(t)}))("beforeDataBound",(function(t){return e.gridBeforedataBound(t)}))("excelQueryCellInfo",(function(t){return e.contactGroupListExcelQueryCellInfo(t)})),G.Tb(13,"e-columns"),G.Tb(14,"e-column",13),G.hc(15,"translate"),G.Jc(16,$,6,6,"ng-template",null,14,G.Kc),G.Sb(),G.Tb(18,"e-column",15),G.hc(19,"translate"),G.Jc(20,Z,2,2,"ng-template",null,14,G.Kc),G.Sb(),G.Ob(22,"e-column",16),G.hc(23,"translate"),G.Tb(24,"e-column",17),G.Jc(25,et,2,2,"ng-template",null,14,G.Kc),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Jc(27,ot,1,1,"ng-template",null,18,G.Kc),G.Jc(29,it,11,12,"ng-template",null,19,G.Kc)),2&t&&(G.xb(4),G.nc("placeholder",e.searchPlaceholder),G.xb(2),G.nc("ngIf",e.accessToCreateOrEditContactGroup),G.xb(3),G.nc("ngIf",e.stillFetching),G.xb(1),G.nc("ngIf",!e.stillFetching&&e.nodataFound),G.xb(1),G.nc("dataSource",e.contactGroupData)("allowSorting",!0)("allowPaging",!0)("pageSettings",e.pageSettings)("allowExcelExport",!0)("showColumnChooser",!0)("hidden",e.stillFetching||e.nodataFound)("allowResizing",!0),G.xb(3),G.oc("headerText",G.ic(15,16,"CONTACTGROUP")),G.xb(4),G.oc("headerText",G.ic(19,18,"CREATEDDATE")),G.xb(4),G.oc("headerText",G.ic(23,20,"CONTACTS")),G.nc("allowSorting",!1))},directives:[l.i,i.n,n.k,n.e,n.b,n.d,n.a,a.c,A.a,i.o,j.a,B.a],pipes:[F.a],styles:[".contact-group-grid[_ngcontent-%COMP%]   .e-btn[_ngcontent-%COMP%]{padding-bottom:0!important;padding-top:0!important}.contact-group-grid[_ngcontent-%COMP%]   .e-btn[_ngcontent-%COMP%]:active{box-shadow:none!important}.contact-group-grid[_ngcontent-%COMP%]   .e-icon-btn[_ngcontent-%COMP%]{padding-bottom:0!important;padding-top:0!important}.contact-group-grid[_ngcontent-%COMP%]   .hd-icon[_ngcontent-%COMP%]{padding:0!important}",".contact-container[_ngcontent-%COMP%]   .contact-list-contant[_ngcontent-%COMP%], .contact-group-container[_ngcontent-%COMP%]   .contact-list-contant[_ngcontent-%COMP%]{border-radius:0;height:32px;width:432px}.contact-container[_ngcontent-%COMP%]   .add-button-container[_ngcontent-%COMP%], .contact-group-container[_ngcontent-%COMP%]   .add-button-container[_ngcontent-%COMP%]{padding:12px!important}"]}),t})();var ct=o("JxJv"),at=o("MCLT"),rt=o("Naoh"),st=o("HuM0"),lt=o("wch8"),dt=o("yVji"),ut=o("hY80");const pt=["contactGroupDetailEleRef"],bt=["contactGroupDetailTab"],ht=["moreOptionsContextMenu"];function gt(t,e){if(1&t){const t=G.Ub();G.Tb(0,"button",60),G.ec("click",(function(){return G.Bc(t),G.gc(2).editClick()})),G.Lc(1),G.hc(2,"translate"),G.Sb()}2&t&&(G.xb(1),G.Mc(G.ic(2,1,"EDIT")))}function mt(t,e){if(1&t){const t=G.Ub();G.Tb(0,"span",61),G.ec("click",(function(e){return G.Bc(t),G.gc(2).moreOptionButtonClick(e)})),G.Ob(1,"i",62),G.Sb()}}function ft(t,e){1&t&&(G.Tb(0,"div",63),G.Tb(1,"div",64),G.Ob(2,"img",65),G.Sb(),G.Tb(3,"div",66),G.Lc(4),G.hc(5,"translate"),G.Sb(),G.Sb()),2&t&&(G.xb(4),G.Mc(G.ic(5,1,"NOCONTACTSFOUND")))}const Ct=function(t){return{background:t}};function St(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",67),G.Tb(1,"div",68),G.Lc(2),G.Sb(),G.Tb(3,"div",69),G.Tb(4,"span",70),G.ec("click",(function(o){G.Bc(t);const i=e.$implicit;return G.gc(2).userDetails(o,i)})),G.Lc(5),G.Sb(),G.Sb(),G.Sb()}if(2&t){const t=e.$implicit;G.xb(1),G.nc("ngStyle",G.tc(4,Ct,t.colorCode)),G.xb(1),G.Nc(" ",t.shortCode," "),G.xb(2),G.yb("data-title",t.contactName),G.xb(1),G.Nc(" ",t.contactName," ")}}function Tt(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.emailId," ")}}function vt(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.contactPhoneNo?t.contactPhoneNo:"--"," ")}}function Gt(t,e){if(1&t&&(G.Tb(0,"div",71),G.Ob(1,"div",72),G.Tb(2,"span"),G.Lc(3),G.Sb(),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.nc("ngClass",!t.isVerified||t.isDeleted||t.isBlocked?t.isVerified||t.isDeleted||t.isBlocked?t.isBlocked?"bd-icon bd-icon-error error":"bd-icon bd-icon-delete error":"bd-icon bd-icon-circleclose failure":"bd-icon bd-icon-ok success"),G.xb(2),G.Nc(" ",!t.isVerified||t.isDeleted||t.isBlocked?t.isVerified||t.isDeleted||t.isBlocked?t.isBlocked?"Blocked":"Deleted":"Unverified":"Verified","")}}function xt(t,e){1&t&&(G.Tb(0,"div",63),G.Tb(1,"div",64),G.Ob(2,"img",73),G.Sb(),G.Tb(3,"div",66),G.Lc(4),G.hc(5,"translate"),G.Sb(),G.Sb()),2&t&&(G.xb(4),G.Mc(G.ic(5,1,"NOTICKETSFOUND")))}function Ot(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",74),G.ec("click",(function(){G.Bc(t);const o=e.$implicit;return G.gc(2).ticketLinkClick(o.ticketId)})),G.Tb(1,"span",75),G.Lc(2),G.Sb(),G.Sb()}if(2&t){const t=e.$implicit;G.xb(2),G.Nc(" ",t.ticketId,"")}}function Et(t,e){if(1&t&&(G.Tb(0,"div",69),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.title," ")}}function Dt(t,e){if(1&t&&(G.Tb(0,"span"),G.Ob(1,"app-date-time",58),G.Sb()),2&t){const t=e.$implicit,o=G.gc(2);G.xb(1),G.nc("date",t.createdOn)("format",o.format)("timezone",o.timeZone)}}function wt(t,e){if(1&t&&(G.Tb(0,"div",69),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.brand?t.brand:"--"," ")}}function yt(t,e){if(1&t&&(G.Tb(0,"div",76),G.Tb(1,"div",77),G.hc(2,"ticketStatus"),G.Tb(3,"span",78),G.Lc(4),G.Sb(),G.Sb(),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Hc("--status-detail-color: ",G.ic(2,5,t.status.backgroundColor),""),G.xb(2),G.yb("data-title",t.status.description),G.xb(1),G.Mc(t.status.description)}}function Pt(t,e){if(1&t&&(G.Tb(0,"div",83),G.Tb(1,"span"),G.Lc(2),G.Sb(),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.yb("data-title",t.label),G.xb(1),G.Mc(t.label)}}function Mt(t,e){if(1&t&&(G.Tb(0,"div",83),G.Tb(1,"span"),G.Lc(2),G.Sb(),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.yb("data-title",t.checkBoxGroups[0].label),G.xb(1),G.Mc(t.checkBoxGroups[0].label)}}function Nt(t,e){if(1&t&&(G.Tb(0,"div"),G.Tb(1,"div",57),G.Tb(2,"span"),G.Lc(3),G.Sb(),G.Sb(),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(2),G.yb("data-title",t.value),G.xb(1),G.Mc(t.text?t.text:"--")}}function kt(t,e){if(1&t&&(G.Tb(0,"div",57),G.Tb(1,"span"),G.Lc(2),G.Sb(),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.yb("data-title",t.value),G.xb(1),G.Mc(t.value?t.value:"--")}}function It(t,e){if(1&t&&(G.Tb(0,"span"),G.Ob(1,"app-date-time",58),G.Sb()),2&t){const t=G.gc(2).$implicit,e=G.gc(2);G.xb(1),G.nc("date",t.value)("format",e.format)("timezone",e.timeZone)}}function Lt(t,e){1&t&&(G.Tb(0,"span"),G.Lc(1,"--"),G.Sb())}function At(t,e){if(1&t&&(G.Tb(0,"div",84),G.Jc(1,It,2,3,"span",80),G.Jc(2,Lt,2,0,"span",80),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.nc("ngIf",t.value),G.xb(1),G.nc("ngIf",!t.value)}}function jt(t,e){if(1&t&&(G.Tb(0,"div",84),G.Lc(1),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.Nc(" ",t.value?t.value:"--"," ")}}function Bt(t,e){if(1&t&&(G.Tb(0,"div",84),G.Lc(1),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.Nc(" ",t.value," ")}}function Ft(t,e){if(1&t&&(G.Tb(0,"div",84),G.Lc(1),G.Sb()),2&t){const t=G.gc().$implicit;G.xb(1),G.Nc(" ",t.radioGroups[0].checked?t.radioGroups[0].label:t.radioGroups[1].label," ")}}function _t(t,e){if(1&t&&(G.Tb(0,"div"),G.Jc(1,Pt,3,2,"div",79),G.Jc(2,Mt,3,2,"div",79),G.Jc(3,Nt,4,2,"div",80),G.Jc(4,kt,3,2,"div",81),G.Jc(5,At,3,2,"div",82),G.Jc(6,jt,2,1,"div",82),G.Jc(7,Bt,2,1,"div",82),G.Jc(8,Ft,2,1,"div",82),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.nc("ngIf","checkbox"!==t.type),G.xb(1),G.nc("ngIf","checkbox"===t.type),G.xb(1),G.nc("ngIf","multiSelect"===t.type||"dropdown"===t.type||"tag"===t.type),G.xb(1),G.nc("ngIf","multiSelect"!==t.type&&"dropdown"!==t.type&&"tag"!==t.type&&"date"!==t.type&&"checkbox"!==t.type&&"radio"!==t.type&&"datetime"!==t.type),G.xb(1),G.nc("ngIf","datetime"===t.type),G.xb(1),G.nc("ngIf","date"===t.type),G.xb(1),G.nc("ngIf","checkbox"===t.type),G.xb(1),G.nc("ngIf","radio"===t.type)}}function Rt(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",4),G.Tb(1,"div",5),G.Tb(2,"div",6),G.Tb(3,"div",7),G.Lc(4),G.Sb(),G.Tb(5,"div",8),G.Tb(6,"div",9),G.Tb(7,"span"),G.Lc(8),G.Sb(),G.Sb(),G.Tb(9,"div",10),G.Tb(10,"span"),G.Lc(11),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(12,"div",11),G.Jc(13,gt,3,3,"button",12),G.Tb(14,"span",13),G.Tb(15,"div",14),G.Jc(16,mt,2,0,"span",15),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(17,"div",16),G.Tb(18,"div",17),G.Tb(19,"div",18),G.Tb(20,"div",19),G.Tb(21,"div",20),G.Tb(22,"div",21),G.Lc(23),G.Sb(),G.Tb(24,"div",22),G.Lc(25),G.hc(26,"translate"),G.Sb(),G.Sb(),G.Sb(),G.Tb(27,"div",23),G.Tb(28,"div",20),G.Tb(29,"div",24),G.Lc(30),G.Sb(),G.Tb(31,"div",25),G.Tb(32,"span"),G.Lc(33),G.hc(34,"translate"),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(35,"div",23),G.Tb(36,"div",20),G.Tb(37,"div",26),G.Lc(38),G.Sb(),G.Tb(39,"div",22),G.Lc(40),G.hc(41,"translate"),G.Sb(),G.Sb(),G.Sb(),G.Tb(42,"div",23),G.Tb(43,"div",20),G.Tb(44,"div",26),G.Lc(45),G.Sb(),G.Tb(46,"div",22),G.Lc(47),G.hc(48,"translate"),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(49,"div",27),G.Tb(50,"ejs-tab",28,29),G.ec("selecting",(function(e){return G.Bc(t),G.gc().tabSelecting(e)})),G.Tb(52,"div",30),G.Tb(53,"div"),G.Tb(54,"span",31),G.Lc(55),G.hc(56,"translate"),G.Sb(),G.Sb(),G.Tb(57,"div"),G.Tb(58,"span",31),G.Lc(59),G.hc(60,"translate"),G.Sb(),G.Sb(),G.Sb(),G.Tb(61,"div",32,33),G.Tb(63,"div",34),G.Tb(64,"div",35),G.Ob(65,"lib-shimmer",36),G.Sb(),G.Jc(66,ft,6,3,"div",37),G.Tb(67,"ejs-grid",38,39),G.ec("dataBound",(function(){return G.Bc(t),G.gc().gridDataBound()}))("beforeDataBound",(function(e){return G.Bc(t),G.gc().contactGridBeforedataBound(e)})),G.Tb(69,"e-columns"),G.Tb(70,"e-column",40),G.hc(71,"translate"),G.Jc(72,St,6,6,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(74,"e-column",42),G.hc(75,"translate"),G.Jc(76,Tt,2,1,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(78,"e-column",43),G.hc(79,"translate"),G.Jc(80,vt,2,1,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(82,"e-column",44),G.hc(83,"translate"),G.Jc(84,Gt,4,2,"ng-template",null,41,G.Kc),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(86,"div",34),G.Tb(87,"div",35),G.Ob(88,"lib-shimmer",36),G.Sb(),G.Jc(89,xt,6,3,"div",37),G.Tb(90,"ejs-grid",45,39),G.ec("dataBound",(function(){return G.Bc(t),G.gc().gridDataBound()}))("beforeDataBound",(function(e){return G.Bc(t),G.gc().tikcetGridBeforedataBound(e)})),G.Tb(92,"e-columns"),G.Tb(93,"e-column",46),G.hc(94,"translate"),G.Jc(95,Ot,3,1,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(97,"e-column",47),G.hc(98,"translate"),G.Jc(99,Et,2,1,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(101,"e-column",48),G.hc(102,"translate"),G.Jc(103,Dt,2,3,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(105,"e-column",49),G.hc(106,"translate"),G.Jc(107,wt,2,1,"ng-template",null,41,G.Kc),G.Sb(),G.Tb(109,"e-column",50),G.hc(110,"translate"),G.Jc(111,yt,5,7,"ng-template",null,41,G.Kc),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(113,"div",51),G.Tb(114,"div",52),G.Ob(115,"div",53),G.Tb(116,"div",54),G.Lc(117),G.hc(118,"translate"),G.Sb(),G.Sb(),G.Tb(119,"div",55),G.Tb(120,"div"),G.Tb(121,"div",56),G.Lc(122),G.hc(123,"translate"),G.Sb(),G.Tb(124,"div",57),G.Ob(125,"app-date-time",58),G.Sb(),G.Sb(),G.Tb(126,"div"),G.Tb(127,"div",56),G.Lc(128),G.hc(129,"translate"),G.Sb(),G.Tb(130,"div",57),G.Tb(131,"span"),G.Lc(132),G.Sb(),G.Sb(),G.Sb(),G.Tb(133,"div"),G.Jc(134,_t,9,8,"div",59),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb()}if(2&t){const t=G.gc();G.xb(3),G.nc("ngStyle",G.tc(91,Ct,t.contactGroupDetailList.colorCode)),G.xb(1),G.Nc(" ",t.contactGroupDetailList.shortCode," "),G.xb(3),G.yb("data-title",t.contactGroupDetailList.contactGroupName),G.xb(1),G.Nc(" ",t.contactGroupDetailList.contactGroupName," "),G.xb(2),G.yb("data-title",t.contactGroupDetailList.contactGroupDescription),G.xb(1),G.Nc(" ",t.contactGroupDetailList.contactGroupDescription," "),G.xb(2),G.nc("ngIf",t.accessToCreateOrEditContactGroup),G.xb(3),G.nc("ngIf",t.showActionButton),G.xb(4),G.yb("data-href","tickets/"),G.xb(3),G.Nc("",t.statusCollection?t.statusCollection.contactsCount:"--"," "),G.xb(2),G.Nc(" ",G.ic(26,55,"CONTACTS"),""),G.xb(5),G.Nc(" ",t.statusCollection?t.statusCollection.pendingTicketsCount?t.statusCollection.pendingTicketsCount:0:"--",""),G.xb(3),G.Mc(G.ic(34,57,"PENDINGTICKETS")),G.xb(5),G.Nc(" ",t.statusCollection?t.statusCollection.holdTicketsCount?t.statusCollection.holdTicketsCount:0:"--",""),G.xb(2),G.Mc(G.ic(41,59,"HOLDTICKETS")),G.xb(5),G.Nc(" ",t.statusCollection?t.statusCollection.closedTicketsCount:"--",""),G.xb(2),G.Mc(G.ic(48,61,"CLOSEDTICKETS")),G.xb(3),G.nc("animation",t.tabAnimationSettings),G.xb(5),G.Nc(" ",G.ic(56,63,"CONTACTS")," "),G.xb(4),G.Mc(G.ic(60,65,"TICKETS")),G.xb(2),G.nc("ngClass",t.contactsStillFetching||t.ticketsStillFetching?"overflow-hidden":"overflow-auto"),G.xb(3),G.nc("hidden",!t.contactsStillFetching),G.xb(2),G.nc("ngIf",!t.contactsStillFetching&&t.noContactDataFound),G.xb(1),G.nc("dataSource",t.contactDataSource)("hidden",t.contactsStillFetching||t.noContactDataFound)("allowSorting",!0)("allowPaging",!0)("pageSettings",t.pageSettings),G.xb(3),G.oc("headerText",G.ic(71,67,"NAME")),G.xb(4),G.oc("headerText",G.ic(75,69,"EMAIL")),G.nc("allowSorting",!0),G.xb(4),G.oc("headerText",G.ic(79,71,"PHONENO")),G.xb(4),G.oc("headerText",G.ic(83,73,"STATUS")),G.nc("allowSorting",!1),G.xb(5),G.nc("hidden",!t.ticketsStillFetching),G.xb(2),G.nc("ngIf",!t.ticketsStillFetching&&t.noTicketDataFound),G.xb(1),G.nc("dataSource",t.ticketDataSource)("hidden",t.ticketsStillFetching||t.noTicketDataFound)("pageSettings",t.pageSettings)("allowSorting",!0),G.xb(3),G.oc("headerText",G.ic(94,75,"ID")),G.xb(4),G.oc("headerText",G.ic(98,77,"SUBJECT")),G.xb(4),G.oc("headerText",G.ic(102,79,"CREATEDDATE")),G.xb(4),G.oc("headerText",G.ic(106,81,"BRAND")),G.xb(4),G.oc("headerText",G.ic(110,83,"STATUS")),G.nc("allowSorting",!1),G.xb(8),G.Mc(G.ic(118,85,"DETAILS")),G.xb(5),G.Nc(" ",G.ic(123,87,"CREATEDDATE")," "),G.xb(3),G.nc("date",t.contactGroupDetailList.createdOn)("format",t.format)("timezone",t.timeZone),G.xb(3),G.Nc(" ",G.ic(129,89,"DOMAIN")," "),G.xb(3),G.yb("data-title",t.domainDetails?t.domainDetails:"--"),G.xb(1),G.Nc(" ",t.domainDetails?t.domainDetails:"--"," "),G.xb(2),G.nc("ngForOf",t.detailsList)}}function Vt(t,e){if(1&t){const t=G.Ub();G.Tb(0,"ejs-contextmenu",85,86),G.ec("select",(function(e){return G.Bc(t),G.gc().moreOptionsSelect(e)}))("beforeOpen",(function(){return G.Bc(t),G.gc().contextMenuBeforeOpen()})),G.Sb()}if(2&t){const t=G.gc();G.nc("items",t.moreOptionsContacts)}}let Ut=(()=>{class t{constructor(t,e,o,i,n,c,a,r,s,l){this.appRootService=t,this.router=e,this.spinService=o,this.route=i,this.seoService=n,this.appPermissionService=c,this.contactGroupRootService=a,this.contactGroupService=r,this.contactRootService=s,this.toastService=l,this.currentpage="1",this.perPage="99",this.delete=Object(S.a)("DELETECONTACTGROUP"),this.addContact=Object(S.a)("ADDCONTACT"),this.showActionButton=!0,this.tabAnimationSettings={next:{effect:"None"},previous:{effect:"None"}},this.moreOptionsContacts=[{text:this.addContact,id:"0",iconCss:"bd-icon bd-icon-user"},{text:this.delete,id:"1",iconCss:"bd-icon bd-icon-delete-2"}],this.contactsStillFetching=!0,this.ticketsStillFetching=!0,this.contactGroupId=this.route.snapshot.paramMap.get("contactGroupId"),this.route.data.subscribe(t=>{this.contactGroupDetailList=t.data,this.domainDetails=this.contactGroupDetailList.contactGroupDomain.length>0?this.contactGroupDetailList.contactGroupDomain.map(t=>t.name).join(","):null,this.spinService.hideSpinner()}),this.appRootService.isSideBarNeeded(!1),this.appRootService.setAppTitleText(Object(S.a)("CONTACTGROUP")+" / "+this.contactGroupDetailList.contactGroupName),this.seoService.setHeaderElements({title:Object(S.a)("PROFILE")+" | "+Object(S.a)("CONTACTGROUP")}),this.accessToCreateOrEdit=this.appPermissionService.hasPermission([T.a.CreateOrEditContact,T.a.ViewContact]),this.accessToCreateOrEditContactGroup=this.appPermissionService.hasPermission([T.a.CreateOrEditContactGroups,T.a.ViewContactGroup]),this.accessToDeleteContactGroup=this.appPermissionService.hasPermission([T.a.DeleteContactGroup,T.a.ViewContactGroup]),this.contactGroupService.contactGroupstatus(+this.contactGroupId).then(t=>{t&&(this.statusCollection=t)}).catch(t=>{const e=Object(g.q)(t.error);400===t.status&&this.toastService.failureToast(e)}),this.format=v.e.dateFormat+" "+v.e.timeFormat,this.timeZone=v.P.timeZoneOffset}ngOnInit(){this.getContactList(),this.accessToCreateOrEdit||this.accessToDeleteContactGroup||(this.showActionButton=!1)}ngAfterViewInit(){const t=this.contactGroupDetailEleRef.nativeElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;t.querySelectorAll(".sidebar-expand-button")[0]&&(t.querySelectorAll(".sidebar-expand-button")[0].style.display="none"),this.contactGroupService.getContactGroupForm().then(t=>{this.contactGroupCollection=Object(ct.b)(t.result,this.contactGroupDetailList,"contactGroup"),this.detailsList=this.contactGroupCollection.formComponents}).catch(t=>{const e=Object(g.q)(t.error);400===t.status&&this.toastService.failureToast(e)})}getContactList(){let t=M.a.GetContactGroupById+this.contactGroupId+"/contacts";t=Object(g.i)(t,"Page",this.currentpage),t=Object(g.i)(t,"PerPage",this.perPage),this.contactDataSource=new p.a({url:t,adaptor:new h.a}),this.pageSettings={pageSize:f.g}}editClick(){this.contactGroupRootService.setContactGroupObjectOnEditDialog(this.contactGroupDetailList),this.contactGroupRootService.setContactGroupDialogTitle("EDITCONTACTGROUP"),this.contactGroupRootService.setContactGroupDialogSubmitText("UPDATE"),this.contactGroupRootService.showAddEditContactGroupForm("Edit"),this.contactGroupRootService.setProfileOrAddEdit(!0)}getNameFieldFromDropDownArray(t){return!Object(at.isNullOrUndefined)(t)&&t.length>0?t.map(t=>t.name):null}userDetails(t,e){this.router.navigateByUrl("/contacts/"+e.userId)}addContactClick(){this.router.navigateByUrl("/contacts",{state:{data:{contactGroupId:this.contactGroupId,userSideBarDataNeed:!0}}})}deleteContactGroupClick(){const t=Object(S.a)("DELETECONTACTGROUPDESCRIPTION");Object(g.b)(this.contactGroupDeleteClick,this.closeDeleteDialog,this,Object(S.a)("DELETECONTACTGROUP"),t)}contactGroupDeleteClick(){this.spinService.showSpinner(),this.contactGroupService.deleteContactGroup([+this.contactGroupId]).then(t=>{this.spinService.hideSpinner(),this.toastService.successToast(t.message),this.deleteDialog.hide(),this.router.navigateByUrl("/contact-groups")}).catch(t=>{const e=Object(g.q)(t.error);400===t.status&&this.toastService.failureToast(e)})}closeDeleteDialog(){this.deleteDialog&&this.deleteDialog.hide()}ticketLinkClick(t){this.router.navigateByUrl("tickets/"+t)}tabSelecting(t){if(t.isSwiped)t.cancel=!0;else if(this.contactsStillFetching=!0,this.ticketsStillFetching=!0,this.noContactDataFound=!1,this.noTicketDataFound=!1,"1"===this.contactGroupDetailTab.selectingID){let t=M.a.requestToContact+this.contactGroupId;t=Object(g.i)(t,"Page",this.currentpage),t=Object(g.i)(t,"PerPage",this.perPage),this.ticketDataSource=new p.a({url:t,adaptor:new h.a})}else this.getContactList()}moreOptionsSelect(t){t.item.id===C.Delete?this.deleteContactGroupClick():this.addContactClick()}contextMenuBeforeOpen(){const t=[],e=[];this.accessToDeleteContactGroup?t.push(this.delete):e.push(this.delete),this.accessToCreateOrEdit?t.push(this.addContact):e.push(this.addContact),this.moreOptionsMenu.hideItems(e),this.moreOptionsMenu.showItems(t)}moreOptionButtonClick(t){const e=t.target,o=Object(rt.e)(e);this.moreOptionsMenu.open(o.top+25,o.left,e)}gridDataBound(){this.ticketsStillFetching=!1,this.contactsStillFetching=!1,this.contactGroupDetailTab.element.querySelector(".e-content").scrollTop=0}tikcetGridBeforedataBound(t){0===t.count?(this.ticketsStillFetching=!1,this.noTicketDataFound=!0):(this.ticketsStillFetching=!0,this.noTicketDataFound=!1)}contactGridBeforedataBound(t){0===t.count?(this.contactsStillFetching=!1,this.noContactDataFound=!0):(this.contactsStillFetching=!0,this.noContactDataFound=!1)}}return t.\u0275fac=function(e){return new(e||t)(G.Nb(x.a),G.Nb(u.g),G.Nb(w.a),G.Nb(u.a),G.Nb(L.a),G.Nb(st.b),G.Nb(y),G.Nb(k),G.Nb(lt.a),G.Nb(dt.b))},t.\u0275cmp=G.Hb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var o;1&t&&(G.Gc(pt,!0),G.Qc(bt,!0),G.Qc(ht,!0)),2&t&&(G.xc(o=G.fc())&&(e.contactGroupDetailEleRef=o.first),G.xc(o=G.fc())&&(e.contactGroupDetailTab=o.first),G.xc(o=G.fc())&&(e.moreOptionsMenu=o.first))},decls:4,vars:2,consts:[[1,"contact-detail","contact-group-detail","height100"],["contactGroupDetailEleRef",""],["class","height100",4,"ngIf"],["id","contextmenu","cssClass","context-view-more-options",3,"items","select","beforeOpen",4,"ngIf"],[1,"height100"],[1,"flex-horizontal","pl-5","pt-3","pb-3"],[1,"flex-horizontal","title-width"],[1,"e-avatar","e-avatar-small","e-avatar-circle","short-code",3,"ngStyle"],[1,"no-wrap","ellipsis","flex-vertical","pl-2","contact-group-overview-name-header"],[1,"font-16","ellipsis","no-wrap"],[1,"font-12","ellipsis","no-wrap"],[1,"align-right"],["ejs-button","","class","e-flat e-btn e-outline edit-button",3,"click",4,"ngIf"],[1,"pl-3","pr-3"],[1,"cursor-pointer"],["class","e-btn e-flat icon-rotate e-icon-btn more-option-button no-border more-option-button-background",3,"click",4,"ngIf"],[1,"flex-horizontal",2,"height","calc(100% - 74px)"],[1,"flex-vertical","ticket-count-banner","height100"],[1,"flex-horizontal","pl-5","height-100px","pr-5"],[1,"all-tickets-contact-group","flex","width-100"],[1,"count-style","flex-vertical","align-center"],[1,"total-count"],[1,"count-description","no-wrap"],[1,"all-tickets-contact-group","margin-left-52","flex","width-100"],[1,"total-count","green-color"],[1,"count-description","ellipsis","no-wrap"],[1,"total-count","orange-color"],[1,"tab-style"],["id","element","height","100%",3,"animation","selecting"],["contactGroupDetailTab",""],[1,"e-tab-header"],[1,"flex","align-center"],[1,"e-content",2,"padding-top","18px","height","calc(100% - 40px) !important",3,"ngClass"],["tabConntent",""],[2,"height","100%"],[3,"hidden"],["type","grid"],["class","no-list-found text-center",4,"ngIf"],["id","userListGrid",3,"dataSource","hidden","allowSorting","allowPaging","pageSettings","dataBound","beforeDataBound"],["userListGrid",""],["field","name","minWidth","120","width","150",3,"headerText"],["template",""],["field","emailId","minWidth","160","width","140","clipMode","EllipsisWithTooltip",3,"headerText","allowSorting"],["field","phoneNo","minWidth","80","width","100","clipMode","EllipsisWithTooltip",3,"headerText"],["field","isVerified","minWidth","100","width","100",3,"headerText","allowSorting"],["id","userListGrid","allowPaging","true","allowResizing","true","locale","customNoRecordsFoundTemplate",3,"dataSource","hidden","pageSettings","allowSorting","dataBound","beforeDataBound"],["field","ticketId","minWidth","80","width","100",3,"headerText"],["field","title","minWidth","150","width","180","clipMode","EllipsisWithTooltip",3,"headerText"],["field","createdOn","minWidth","90px","width","130",3,"headerText"],["field","brand","minWidth","80px","width","120","clipMode","EllipsisWithTooltip",3,"headerText"],["field","status","width","120","minWidth","80px","textAlign","Center",3,"headerText","allowSorting"],[1,"property-style"],[1,"property-header","flex-horizontal"],[1,"bd-icon","bd-icon-profile","user-icon-style"],[1,"header-style"],[2,"padding-left","17px","overflow","auto","height","calc(100% - 48px)"],[1,"label-style","secondary"],[1,"label-value-style","ellipsis","no-wrap"],[3,"date","format","timezone"],[4,"ngFor","ngForOf"],["ejs-button","",1,"e-flat","e-btn","e-outline","edit-button",3,"click"],[1,"e-btn","e-flat","icon-rotate","e-icon-btn","more-option-button","no-border","more-option-button-background",3,"click"],[1,"hd-icon","hd-vertical-menu"],[1,"no-list-found","text-center"],[1,"no-records"],["height","200","width","200","src","assets/images/group.png","alt","Loading",1,"no-contact-image"],[1,"no-ticket-text"],[1,"flex-horizontal"],[1,"e-avatar","e-avatar-small","e-avatar-circle",3,"ngStyle"],[1,"no-wrap","ellipsis"],[1,"primary-link-color","cursor-pointer",3,"click"],[1,"flex-horizontal",2,"height","inherit"],[2,"padding-left","0",3,"ngClass"],["height","200","width","200","src","assets/images/no-tickets.png","alt","Loading",1,"no-ticket-image"],[1,"no-wrap","ellipsis",3,"click"],[1,"primary-link-color","cursor-pointer"],[2,"width","100%","max-width","120px","margin","0 auto"],[1,"ticket-status-label-grid","ellipsis","no-wrap","font-13","px-0"],[2,"padding","0 2px"],["class","label-style secondary ellipsis no-wrap",4,"ngIf"],[4,"ngIf"],["class","label-value-style ellipsis no-wrap",4,"ngIf"],["class","label-value-style",4,"ngIf"],[1,"label-style","secondary","ellipsis","no-wrap"],[1,"label-value-style"],["id","contextmenu","cssClass","context-view-more-options",3,"items","select","beforeOpen"],["moreOptionsContextMenu",""]],template:function(t,e){1&t&&(G.Tb(0,"div",0,1),G.Jc(2,Rt,135,93,"div",2),G.Sb(),G.Jc(3,Vt,2,1,"ejs-contextmenu",3)),2&t&&(G.xb(2),G.nc("ngIf",e.contactGroupDetailList),G.xb(1),G.nc("ngIf",e.showActionButton))},directives:[i.n,i.o,r.m,i.l,A.a,n.k,n.e,n.b,n.d,n.a,j.a,i.m,a.c,r.f],pipes:[F.a,ut.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.contact-group-detail[_ngcontent-%COMP%]   .all-tickets-contact-group[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:4px;height:92px}.contact-group-overview-name-header[_ngcontent-%COMP%]{max-width:calc(100% - 40px)!important}","body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.contact-detail[_ngcontent-%COMP%]   .title-width[_ngcontent-%COMP%]{width:calc(100% - 300px)}.contact-detail[_ngcontent-%COMP%]   .short-code[_ngcontent-%COMP%]{height:40px;width:40px}.contact-detail[_ngcontent-%COMP%]   .all-tickets[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:4px;box-shadow:0 1px 4px rgba(18,22,31,.1);height:92px}.contact-detail[_ngcontent-%COMP%]   .margin-left-52[_ngcontent-%COMP%]{margin-left:52px}.contact-detail[_ngcontent-%COMP%]   .seperator-style[_ngcontent-%COMP%]{border-bottom:1px solid #cbd2e0;margin-left:24px;transform:rotate(90deg);width:77px}.contact-detail[_ngcontent-%COMP%]   .add-ticket-style[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:4px;box-shadow:0 1px 4px rgba(18,22,31,.1);height:92px;margin-left:24px;width:133px}.contact-detail[_ngcontent-%COMP%]   .count-style[_ngcontent-%COMP%]{padding:12px 0}.contact-detail[_ngcontent-%COMP%]   .total-count[_ngcontent-%COMP%]{font-size:32px;font-weight:400;text-align:center}.contact-detail[_ngcontent-%COMP%]   .total-count.green-color[_ngcontent-%COMP%]{color:#1aaa55}.contact-detail[_ngcontent-%COMP%]   .total-count.orange-color[_ngcontent-%COMP%]{color:#f56700}.contact-detail[_ngcontent-%COMP%]   .count-description[_ngcontent-%COMP%]{color:#2d3748;font-size:16px;font-weight:400;text-align:center}.contact-detail[_ngcontent-%COMP%]   .count-description.hover-all-tickets[_ngcontent-%COMP%]:hover{color:#0565ff;cursor:pointer;text-decoration:underline}.contact-detail[_ngcontent-%COMP%]   .plus-icon[_ngcontent-%COMP%]{color:#007aff;font-size:24px;height:24px;margin:7px 54px 10px;padding:0;width:24px}.contact-detail[_ngcontent-%COMP%]   .new-ticket[_ngcontent-%COMP%]{color:#007aff;font-size:14px;font-weight:500;text-align:center}.contact-detail[_ngcontent-%COMP%]   .new-ticket[_ngcontent-%COMP%]:hover{color:#0565ff;cursor:pointer;text-decoration:underline}.contact-detail[_ngcontent-%COMP%]   .property-style[_ngcontent-%COMP%]{border-color:#e2e8f0;border-style:solid;border-width:1px 0 0 1px;height:100%;width:300px}.contact-detail[_ngcontent-%COMP%]   .property-header[_ngcontent-%COMP%]{background:#f3f7fa;border:solid #e2e8f0;border-width:0 0 1px;height:44px;width:300px}.contact-detail[_ngcontent-%COMP%]   .user-icon-style[_ngcontent-%COMP%]{color:#4a5568;font-size:18px;padding:14px 10px 15px 22px}.contact-detail[_ngcontent-%COMP%]   .header-style[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.contact-detail[_ngcontent-%COMP%]   .label-style[_ngcontent-%COMP%]{font-size:14px;font-weight:400;padding:10px 8px 5px}.contact-detail[_ngcontent-%COMP%]   .label-value-style[_ngcontent-%COMP%]{font-size:14px;font-weight:400;padding:0 8px 9px}.contact-detail[_ngcontent-%COMP%]   .e-content[_ngcontent-%COMP%]{height:calc(100% - 40px)!important}.contact-detail[_ngcontent-%COMP%]   .more-option-button[_ngcontent-%COMP%]{background:none!important;border-radius:50%!important;display:inline-block;height:32px!important;line-height:32px;margin:0!important;padding:0!important;width:32px!important}.contact-detail[_ngcontent-%COMP%]   .more-option-button[_ngcontent-%COMP%]:hover{background:#edf2f7!important}.contact-detail[_ngcontent-%COMP%]   .icon-rotate[_ngcontent-%COMP%]{transform:rotate(90deg)}.contact-detail[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{width:82px}.contact-detail[_ngcontent-%COMP%]   .bd-icon-high[_ngcontent-%COMP%]:before{color:#f9a400}.contact-detail[_ngcontent-%COMP%]   .bd-icon-normal[_ngcontent-%COMP%]:before{color:#1dc060}.contact-detail[_ngcontent-%COMP%]   .bd-icon-low[_ngcontent-%COMP%]:before{color:#3395ff}.contact-detail[_ngcontent-%COMP%]   .icon-urgent-color[_ngcontent-%COMP%]{color:red}.contact-detail[_ngcontent-%COMP%]   .bd-icon-critical[_ngcontent-%COMP%]:before{color:#e20c00}.contact-detail[_ngcontent-%COMP%]   .height-100px[_ngcontent-%COMP%]{height:100px}.contact-detail[_ngcontent-%COMP%]   .ticket-count-banner[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;width:calc(100% - 300px)}.contact-detail[_ngcontent-%COMP%]   .tab-style[_ngcontent-%COMP%]{height:calc(100% - 100px);padding-left:32px;padding-right:32px}.contact-detail[_ngcontent-%COMP%]   .pr-32[_ngcontent-%COMP%]{padding-right:32px}.context-view-more-options[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .e-menu-item[_ngcontent-%COMP%]   .e-menu-icon[_ngcontent-%COMP%]{padding:0}.contact-overview-name-header[_ngcontent-%COMP%]{max-width:calc(100% - 40px)!important}"]}),t})();const Jt=["contactGroupDetailSideBar"],Xt=["contactGroupOverviewTab"],qt=["customerListGrid"];function Ht(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.id," ")}}function Kt(t,e){if(1&t&&(G.Tb(0,"span",15),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.name," ")}}function zt(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.email," ")}}function $t(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.company," ")}}function Wt(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.country," ")}}function Qt(t,e){if(1&t&&(G.Tb(0,"span"),G.Lc(1),G.Sb()),2&t){const t=e.$implicit;G.xb(1),G.Nc(" ",t.phone," ")}}let Zt=(()=>{class t{constructor(t,e,o,i,n){this.appRootService=t,this.router=e,this.spinService=o,this.route=i,this.seoService=n,this.tabContent=[{text:"Active"},{text:"NotVerified"},{text:"Blocked"}],this.tabAnimationSettings={next:{effect:"None"},previous:{effect:"None"}},this.contactGroupId=this.route.snapshot.paramMap.get("contactGroupId"),this.route.data.subscribe(()=>{this.spinService.hideSpinner()}),this.appRootService.isSideBarNeeded(!0),this.appRootService.setBrandDropDownVisibility(!1),this.appRootService.getNavigateUrl("/contactGroups"),this.setSEOHeader()}tabCreated(){this.contactGroupOverviewTab.refresh()}agentTabSelecting(){this.customerData=new p.a({url:b.a.UserList,adaptor:new h.a,offline:!0})}userListGridDataBound(){"Active"===this.updateTypeAction?this.grid.showColumns("Available"):this.grid.hideColumns("Available"),Object(g.a)(this.grid)}ngOnInit(){setTimeout(()=>{this.appRootService.setSideBarContent(this.contactGroupDetailSideBar)}),this.customerData=new p.a({url:b.a.UserList,adaptor:new h.a,offline:!0}),this.updateTypeAction="Active"}setSEOHeader(){this.seoService.setHeaderElements({title:this.contactGroupId+" |  Contacts "})}}return t.\u0275fac=function(e){return new(e||t)(G.Nb(x.a),G.Nb(u.g),G.Nb(w.a),G.Nb(u.a),G.Nb(L.a))},t.\u0275cmp=G.Hb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var o;1&t&&(G.Gc(Jt,!0),G.Qc(Xt,!0),G.Gc(qt,!0)),2&t&&(G.xc(o=G.fc())&&(e.contactGroupDetailSideBar=o.first),G.xc(o=G.fc())&&(e.contactGroupOverviewTab=o.first),G.xc(o=G.fc())&&(e.grid=o.first))},decls:30,vars:10,consts:[[1,"row","container"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"pb-3"],["overflowMode","Popup",3,"animation","selecting","created"],["contactGroupOverviewTab",""],[3,"header"],["id","customerListGrid",3,"dataSource","allowSorting","allowPaging","showColumnChooser","allowResizing","allowTextWrap","dataBound"],["customerListGrid",""],["field","id","minWidth","60","width","80","headerText","ID"],["template",""],["field","name","minWidth","60","width","80","headerText","Name"],["field","email","minWidth","60","width","80","headerText","Email"],["field","company","minWidth","60","width","80","headerText","Contact Group"],["field","country","minWidth","60","width","80","headerText","Country"],["field","phone","minWidth","60","width","80","headerText","Phone"],[1,"link"]],template:function(t,e){1&t&&(G.Tb(0,"div",0),G.Tb(1,"div",1),G.Tb(2,"div",2),G.Tb(3,"ejs-tab",3,4),G.ec("selecting",(function(){return e.agentTabSelecting()}))("created",(function(){return e.tabCreated()})),G.Tb(5,"e-tabitems"),G.Ob(6,"e-tabitem",5),G.Ob(7,"e-tabitem",5),G.Ob(8,"e-tabitem",5),G.Sb(),G.Sb(),G.Sb(),G.Tb(9,"ejs-grid",6,7),G.ec("dataBound",(function(){return e.userListGridDataBound()})),G.Tb(11,"e-columns"),G.Tb(12,"e-column",8),G.Jc(13,Ht,2,1,"ng-template",null,9,G.Kc),G.Sb(),G.Tb(15,"e-column",10),G.Jc(16,Kt,2,1,"ng-template",null,9,G.Kc),G.Sb(),G.Tb(18,"e-column",11),G.Jc(19,zt,2,1,"ng-template",null,9,G.Kc),G.Sb(),G.Tb(21,"e-column",12),G.Jc(22,$t,2,1,"ng-template",null,9,G.Kc),G.Sb(),G.Tb(24,"e-column",13),G.Jc(25,Wt,2,1,"ng-template",null,9,G.Kc),G.Sb(),G.Tb(27,"e-column",14),G.Jc(28,Qt,2,1,"ng-template",null,9,G.Kc),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb()),2&t&&(G.xb(3),G.nc("animation",e.tabAnimationSettings),G.xb(3),G.nc("header",e.tabContent[0]),G.xb(1),G.nc("header",e.tabContent[1]),G.xb(1),G.nc("header",e.tabContent[2]),G.xb(1),G.nc("dataSource",e.customerData)("allowSorting",!0)("allowPaging",!1)("showColumnChooser",!0)("allowResizing",!0)("allowTextWrap",!0))},directives:[r.m,r.o,r.n,n.k,n.e,n.b,n.d,n.a],encapsulation:2}),t})(),Yt=(()=>{class t{constructor(t,e,o){this.http=t,this.spinService=e,this.router=o}resolve(t){return this.spinService.showSpinner(),this.http.get(b.a.ContactGroupList+"/"+ +t.params.contactGroupId).toPromise().catch(t=>this.router.navigateByUrl("error",{state:{message:t.error.errors[0].errorMessage,type:"contact"},skipLocationChange:!0}))}}return t.\u0275fac=function(e){return new(e||t)(G.bc(P.b),G.bc(w.a),G.bc(u.g))},t.\u0275prov=G.Jb({token:t,factory:t.\u0275fac}),t})();o("VcZd");var te=o("0DEJ"),ee=o("6pkR"),oe=o("2Cb5"),ie=o("EiDu");const ne=["addEditContactGroupDialog"],ce=["contentContactGroupForm"],ae=["contactGroupForms"],re=["contactGroupName"],se=["domains"];function le(t,e){if(1&t&&(G.Tb(0,"div"),G.Lc(1),G.hc(2,"translate"),G.Sb()),2&t){const t=G.gc(2);G.xb(1),G.Nc(" ",G.ic(2,1,t.contactGroupDialogTitle)," ")}}function de(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",12),G.Tb(1,"span",13),G.ec("click",(function(){return G.Bc(t),G.gc(3).navigateToContactGroupForms()})),G.Tb(2,"span",14),G.Lc(3),G.hc(4,"translate"),G.Sb(),G.Ob(5,"span",15),G.Sb(),G.Sb()}2&t&&(G.xb(3),G.Mc(G.ic(4,1,"CONFIGUREFIELDS")))}function ue(t,e){if(1&t){const t=G.Ub();G.Jc(0,de,6,3,"div",9),G.Tb(1,"div"),G.Tb(2,"button",10),G.ec("click",(function(){return G.Bc(t),G.gc(2).cancelDialog()})),G.Lc(3),G.hc(4,"translate"),G.Sb(),G.Tb(5,"button",11),G.ec("click",(function(){return G.Bc(t),G.gc(2).updateaddContactGroup()})),G.Lc(6),G.hc(7,"translate"),G.Sb(),G.Sb()}if(2&t){const t=G.gc(2);G.nc("ngIf",t.manageFieldPermission),G.xb(3),G.Mc(G.ic(4,3,"CANCEL")),G.xb(3),G.Mc(G.ic(7,5,t.contactGroupDialogSubmitButtonText))}}function pe(t,e){1&t&&(G.Tb(0,"div",32),G.Tb(1,"span",21),G.Lc(2),G.hc(3,"translate"),G.Sb(),G.Sb()),2&t&&(G.xb(2),G.Nc(" ",G.ic(3,1,"FIELDREQUIRED"),""))}function be(t,e){1&t&&G.Pb(0)}function he(t,e){if(1&t&&(G.Tb(0,"div",32),G.Jc(1,be,1,0,"ng-container",33),G.Sb()),2&t){G.gc(3);const t=G.yc(5);G.xb(1),G.nc("ngTemplateOutlet",t)}}function ge(t,e){1&t&&(G.Tb(0,"div",32),G.Tb(1,"span",21),G.Lc(2),G.hc(3,"translate"),G.Sb(),G.Sb()),2&t&&(G.xb(2),G.Nc(" ",G.ic(3,1,"INVALIDREGEX")," "))}function me(t,e){if(1&t){const t=G.Ub();G.Tb(0,"div",null,16),G.Tb(2,"div",17),G.Tb(3,"div",18),G.Tb(4,"div",19),G.Tb(5,"div",20),G.Tb(6,"label"),G.Lc(7),G.hc(8,"translate"),G.Tb(9,"span",21),G.Lc(10,"*"),G.Sb(),G.Sb(),G.Tb(11,"ejs-textbox",22,23),G.ec("blur",(function(){return G.Bc(t),G.gc(2).contactGroupNameFocusOut()}))("change",(function(e){return G.Bc(t),G.gc(2).contactGroupNameChange(e)}))("input",(function(e){return G.Bc(t),G.gc(2).contactGroupNameInput(e)})),G.hc(13,"translate"),G.Sb(),G.Jc(14,pe,4,3,"div",24),G.Jc(15,he,2,1,"div",24),G.Tb(16,"div",25),G.Ob(17,"span",26),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(18,"div",18),G.Tb(19,"div",19),G.Tb(20,"div",20),G.Tb(21,"label"),G.Lc(22),G.hc(23,"translate"),G.Sb(),G.Tb(24,"ejs-multiselect",27,28),G.ec("tagging",(function(e){return G.Bc(t),G.gc(2).domainValidationChipTagging(e)}))("blur",(function(){return G.Bc(t),G.gc(2).domainListValidation()}))("removed",(function(e){return G.Bc(t),G.gc(2).removedDomainChip(e)}))("change",(function(e){return G.Bc(t),G.gc(2).changedomainMultiSelectValue(e)})),G.hc(26,"translate"),G.Sb(),G.Jc(27,ge,4,3,"div",24),G.Tb(28,"div",29),G.Ob(29,"span",26),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Sb(),G.Tb(30,"form-builder",30,31),G.ec("fieldChange",(function(e){return G.Bc(t),G.gc(2).fieldChange(e)})),G.Sb(),G.Sb()}if(2&t){const t=G.gc(2);G.xb(7),G.Nc(" ",G.ic(8,15,"CONTACTGROUPNAME")," "),G.xb(4),G.oc("placeholder",G.ic(13,17,"TEXTBOXPLACEHOLDER")),G.nc("htmlAttributes",t.inputAttribute),G.xb(3),G.nc("ngIf",t.contactGroupNameRequired),G.xb(1),G.nc("ngIf",t.contactGroupNameIsError),G.xb(7),G.Nc(" ",G.ic(23,19,"DOMAIN")," "),G.xb(2),G.oc("placeholder",G.ic(26,21,"TEXTBOXPLACEHOLDER")),G.nc("allowCustomValue",!0)("mode",t.multiSelectMode)("htmlAttributes",t.autoCompleteAttribute)("changeOnBlur",!0),G.xb(3),G.nc("ngIf",t.domainValidation),G.xb(3),G.nc("collections",t.contactGroupCollection)("myForm",t.myForm)("fieldDependency",t.fieldDependencyObj)}}function fe(t,e){if(1&t){const t=G.Ub();G.Tb(0,"ejs-dialog",4,5),G.ec("created",(function(){return G.Bc(t),G.gc().dialogCreated()}))("close",(function(){return G.Bc(t),G.gc().dialogClose()}))("beforeOpen",(function(){return G.Bc(t),G.gc().contactGroupDialogBeforeOpen()}))("overlayClick",(function(){return G.Bc(t),G.gc().overlayClick()}))("beforeClose",(function(e){return G.Bc(t),G.gc().beforeDialogClose(e)})),G.Jc(2,le,3,3,"ng-template",null,6,G.Kc),G.Jc(4,ue,8,7,"ng-template",null,7,G.Kc),G.Jc(6,me,32,23,"ng-template",null,8,G.Kc),G.Sb()}if(2&t){const t=G.gc();G.nc("visible",!1)("position",t.dialogAgentPosition)}}function Ce(t,e){if(1&t&&(G.Ob(0,"span",34),G.hc(1,"safe")),2&t){const t=G.gc();G.nc("innerHTML",G.jc(1,1,t.commonInputValidationErrorMessage,"html"),G.Cc)}}const Se=[{path:"",component:(()=>{class t{constructor(t,e,o,i,n,c,a,r){this.http=t,this.appRootService=e,this.contactGroupRootService=o,this.contactGroupAPIService=i,this.appPermissionService=n,this.spinService=c,this.toastService=a,this.router=r,this.dialogAgentPosition={X:"right"},this.multiSelectMode="box",this.validationFailed=!1,this.autoCompleteAttribute={autocomplete:"anyrandomstring"},this.inputAttribute={maxlength:v.s,autocomplete:"anyrandomstring"},this.appRootService.setBrandDropDownVisibility(!1),this.accessToCreateOrEditContactGroup=this.appPermissionService.hasPermission([T.a.CreateOrEditContactGroups,T.a.ViewContactGroup]),this.manageFieldPermission=this.appPermissionService.hasPermission([T.a.ManageTicketFieldsAndForms]),this.commonInputValidationErrorMessage=g.e}ngAfterViewInit(){this.showAddEditContactGroup=this.contactGroupRootService.showAddEditContactGroup.subscribe(t=>{this.addEditContactGroupDialog&&(this.addEditContactGroupDialog.width="500px",this.addEditContactGroupDialog.height="100%",this.addEditContactGroupDialog.showCloseIcon=!0,this.addEditContactGroupDialog.position=this.dialogAgentPosition,this.actionType=t,"Add"==t&&(this.getContactGroupFieldDependency(),this.addEditContactGroupDialog.show(),setTimeout(()=>{setTimeout(()=>{this.contactGroupForms.defaultValueObjReset(),this.setDependencyDataSource()},1e3)})))}),this.newContactGroupObject=this.contactGroupRootService.newContactGroupObject.subscribe(t=>{Object(m.X)(t)||(this.currentContactGroupId=t.contactGroupId),this.contactGroupAPIService.getContactGroupForm().then(e=>{Object(m.X)(this.actionType)||("Add"==this.actionType?this.currentEditContactGroup=null:(this.currentEditContactGroup=t,this.setContactGroupObjectValues(this.currentEditContactGroup))),this.contactGroupCollection=Object(ct.b)(e.result,this.currentEditContactGroup,this.actionType&&"Add"!==this.actionType?"contactGroup":"create"),setTimeout(()=>{this.contactGroupCollection.fieldDisplayCondition.length>0&&this.contactGroupForms.applyFieldDisplayCondition(this.contactGroupCollection.fieldDisplayCondition)},1e3),this.spinService.hideSpinner(),"Edit"==this.actionType&&(this.getContactGroupFieldDependency(),setTimeout(()=>{this.addEditContactGroupDialog.show(),setTimeout(()=>{this.setDependencyDataSource()},1e3)}))})}),this.addorEditAction=this.contactGroupRootService.addorEditAction.subscribe(t=>{this.contactGroupDialogTitle=t}),this.profileOrAddEdit=this.contactGroupRootService.profileOrAddEdit.subscribe(t=>{this.isProfilePage=t}),this.setContactGroupDialogSubmitButtonText=this.contactGroupRootService.setContactGroupDialogSubmitButtonText.subscribe(t=>{this.contactGroupDialogSubmitButtonText=t})}setContactGroupObjectValues(t){Object(m.X)(t)||(this.contactGroupName.value=t.contactGroupName,this.domains.value=t.contactGroupDomain&&t.contactGroupDomain.length>0?t.contactGroupDomain.map(t=>t.name):null)}setDependencyDataSource(){setTimeout(()=>{Object(m.X)(this.fieldDependencyObj)||this.contactGroupForms.assignFieldDependency(this.fieldDependencyObj,!0)},1500)}returnIds(t){const e=[];return t.forEach(t=>{e.push(t.id)}),e}getContactGroupFieldDependency(){let t=ee.b.FormFieldDependency;t=Object(g.i)(t,"fieldModuleId",""+ee.a.ContactGroup);const e="Edit"==this.actionType?Object(g.i)(t,"isReadOnlyOptionsRequired","true"):t;return this.http.get(e).toPromise().then(t=>{this.fieldDependencyObj=t.result}).catch(t=>{if(400===t.status){const e=Object(g.q)(t.error);this.toastService.failureToast(e)}})}dialogCreated(){this.dialogCreate=!0}dialogClose(){Object(v.V)(!1),this.currentContactGroupId=0,this.formUnTouch(),this.actionType=null,this.resetStaticFields(),this.removeCustomError()}contactGroupDialogBeforeOpen(){Object(v.V)(!0)}overlayClick(){this.addEditContactGroupDialog.closeIcon.click(),v.H||(this.currentContactGroupId=0,this.formUnTouch(),this.actionType=null,this.resetStaticFields(),this.removeCustomError())}cancelDialog(){this.addEditContactGroupDialog.closeIcon.click(),v.H||(this.currentContactGroupId=0,this.formUnTouch(),this.actionType=null,this.resetStaticFields(),this.removeCustomError())}resetStaticFields(){this.contactGroupNameRequired=!1,this.contactGroupNameIsError=!1,this.domainValidation=!1,this.contactGroupName.value=null,this.domains.value=null,this.validationFailed=!1,this.contactGroupForms.formValue.persistance={}}formValues(){let t={};const e=Object(ct.c)(this.contactGroupForms.value);t=Object.assign(Object.assign({},e),{contactGroupName:this.contactGroupName&&!Object(m.X)(this.contactGroupName.value)?this.contactGroupName.value.trim():null,contactGroupDomain:this.domains&&!Object(m.X)(this.domains.value)?this.domains.value.join(","):null});let o="";return Object.keys(t).map(e=>{o=e,Object(m.X)(t[e])||"contactGroupTag"!=o||(t[e]=this.contactGroupForms.ej2Obj.contactGroupTag.text)}),t}updateaddContactGroup(){if(this.contactGroupForms.setDefaultDependableObjValue(),this.contactGroupNameFocusOut(),this.domainListValidation(),this.validationCheck()){const t=this.formValues();this.clearCustomError(),this.removeCustomError(),this.spinService.showSpinner(),"CREATE"===this.contactGroupDialogSubmitButtonText?this.contactGroupAPIService.addContactGroup(t).then(t=>{t&&(this.addEditContactGroupDialog.hide(),this.spinService.hideSpinner(),this.toastService.successToast(t.message),this.router.navigateByUrl("/contact-groups/"+t.id))}).catch(t=>{400===t.status&&(this.validationFailed=!0,t.error&&t.error.message&&this.toastService.failureToast(t.error.message),this.customErrorHandling(t.error.errors))}).finally(()=>{this.spinService.hideSpinner()}):"UPDATE"===this.contactGroupDialogSubmitButtonText&&this.contactGroupAPIService.editContactGroup(t,this.currentContactGroupId).then(t=>{t&&(this.addEditContactGroupDialog.hide(),this.spinService.hideSpinner(),this.isProfilePage?(Object(v.V)(!1),location.reload()):this.contactGroupRootService.setContactGroupGridAction("refreshData"),this.toastService.successToast(t.message))}).catch(t=>{400===t.status&&(this.validationFailed=!0,t.error&&t.error.message&&this.toastService.failureToast(t.error.message),this.customErrorHandling(t.error.errors))}).finally(()=>{this.spinService.hideSpinner()})}else[this.contactGroupForms].forEach(t=>{Object.keys(t.myForm.controls).forEach(e=>{t.myForm.controls[e].markAsTouched()})}),setTimeout(()=>{this.formErrorEleFocus()})}customErrorHandling(t){t.forEach(t=>{this.contactGroupForms.customErrorAppend(t),this.staticFieldsCustomErrorAppend(t)}),setTimeout(()=>{this.formErrorEleFocus()})}staticFieldsCustomErrorAppend(t){const e=this.addEditContacGrouptHtmlElement;if(!e)return;const o=e.nativeElement;if(!t.length){const e=o.querySelector("#"+this.convertToCamelCase(t.field)+".custom-error span.error");e&&(e.classList.add("custom-error-appended"),e.innerText=t.errorMessage)}t.length&&t.forEach(t=>{const e=o.querySelector("#"+this.convertToCamelCase(t.field)+".custom-error span.error");e&&(e.classList.add("custom-error-appended"),e.innerText=t.errorMessage)})}convertToCamelCase(t){return t.charAt(0).toLowerCase()+t.slice(1)}clearCustomError(){[this.contactGroupForms].forEach(t=>{t.clearCustomErrors()})}formErrorEleFocus(){const t=this.addEditContacGrouptHtmlElement;if(t&&t.nativeElement){const e=t.nativeElement;let o;if(o=this.addEditContactGroupDialog.element.querySelector(".error-msg"),o||(o=this.addEditContactGroupDialog.element.querySelector(".custom-error-appended")),!o)return;const i=Object(m.C)(o,".product-header");if(i){const t=i.querySelector("input");Object(m.X)(t)?i.querySelector("textarea").focus():t.focus()}else e.querySelector("input").focus()}}ngOnDestroy(){this.addEditContactGroupDialog&&this.dialogCreate&&this.addEditContactGroupDialog.element&&Object(m.I)(this.addEditContactGroupDialog.element),this.showAddEditContactGroup.unsubscribe(),this.newContactGroupObject.unsubscribe(),this.addorEditAction.unsubscribe(),this.setContactGroupDialogSubmitButtonText.unsubscribe()}beforeDialogClose(t){if(!t.isInteracted)return;const e=window.confirm(""+Object(S.a)("CONFORMDATALOSE"));t.cancel=!e,t.cancel||Object(v.V)(!1)}formUnTouch(){[this.contactGroupForms].forEach(t=>{Object.keys(t.myForm.controls).forEach(e=>{t.myForm.controls[e].reset()}),setTimeout(()=>{t.resettingData()})})}fieldChange(t){if(!Object(m.X)(t))if(Object(m.X)(t.element))if(Object(m.X)(t.container))if(Object(m.X)(t.event.element)){if(!Object(m.X)(t.event.container)){const e=t.event.container.parentElement.parentElement.parentElement.querySelector(".custom-error span.error");Object(m.X)(e)||(e.classList.remove("custom-error-appended"),e.innerText="")}}else{const e=t.event.element.parentElement.parentElement.querySelector(".custom-error span.error");Object(m.X)(e)||(e.classList.remove("custom-error-appended"),e.innerText="")}else t.container.parentElement.parentElement.parentElement.querySelector(".custom-error span.error").classList.remove("custom-error-appended"),t.container.parentElement.parentElement.parentElement.querySelector(".custom-error span.error").innerText="";else t.element.parentElement.parentElement.querySelector(".custom-error span.error").classList.remove("custom-error-appended"),t.element.parentElement.parentElement.querySelector(".custom-error span.error").innerText=""}contactGroupNameFocusOut(){if(Object(m.X)(this.contactGroupName.value))return void(this.contactGroupNameRequired=!0);const t=this.contactGroupName.value.trim();Object(m.X)(t)||0!==t.length||(this.contactGroupNameRequired=!0)}contactGroupNameInput(t){const e=t.value;this.contactGroupNameRequired=!(!Object(m.X)(e)&&""!==e.trim());const o=Object(g.d)(e);this.contactGroupNameIsError=!!o}contactGroupNameChange(t){if(null!=this.contactGroupName.value){this.contactGroupNameRequired=!1;const t=Object(g.d)(this.contactGroupName.value);this.contactGroupNameIsError=!!t}else this.contactGroupNameRequired=!1,this.contactGroupNameIsError=!1;this.validationFailed&&this.fieldChange(t)}domainValidationChipTagging(t){const e=Object(m.X)(t.itemData.text)?null:t.itemData.text;if(Object(m.X)(e)){if(Object(m.X)(e))return void(0===this.domains.value.length&&(this.domainValidation=!1))}else this.domainNameValidation(e),this.domainValidation||this.domainListValidation();this.domains.listData=[],this.domains.mainData=[]}domainListValidation(){const t=this.domains.value;if(!Object(m.X)(t)&&t.length>0){let e=0;for(const o of t)this.domainNameValidation(o.toString()),this.domainValidation&&e++;e>0&&!this.domainValidation&&(this.domainValidation=!0)}else this.domainValidation=!1}removedDomainChip(t){const e=Object(m.X)(t.itemData)||Object(m.X)(t.itemData.text)?t.itemData:t.itemData.text;Object(m.X)(e)||(this.domains.value.length>0?this.domainListValidation():(Object(m.X)(this.domains.value)||0===this.domains.value.length)&&(this.domainValidation=!1)),this.domains.listData=[],this.domains.mainData=[]}changedomainMultiSelectValue(t){let e;Object(m.X)(t)||Object(m.X)(t.target)||Object(m.X)(t.target.value)||(e=t.target.value.split(","),this.domains.value=this.domains.value?this.domains.value.concat(e):e),this.validationFailed&&this.fieldChange(t)}domainNameValidation(t){if(Object(m.X)(t))return void(this.domainValidation=!1);const e=t.trim();if(e&&e.length>0){if(!te.d.test(e.trim()))return void(this.domainValidation=!0);this.domainValidation=!1}else this.domainValidation=!1}validationCheck(){const t=this.contactGroupForms.checkInputValidationErrorExist();let e=this.contactGroupForms.myForm.valid;return e=e&&!t,e&&!this.contactGroupNameRequired&&!this.contactGroupNameIsError&&!this.domainValidation}removeCustomError(){Object(m.X)(this.addEditContacGrouptHtmlElement)||[].slice.call(this.addEditContacGrouptHtmlElement.nativeElement.querySelectorAll(".custom-error span.error")).forEach(t=>{t.classList.remove("custom-error-appended"),t.innerText=""})}navigateToContactGroupForms(){window.open("./admin/contact-group-fields","_blank")}}return t.\u0275fac=function(e){return new(e||t)(G.Nb(P.b),G.Nb(x.a),G.Nb(y),G.Nb(k),G.Nb(I.a),G.Nb(w.a),G.Nb(D.a),G.Nb(u.g))},t.\u0275cmp=G.Hb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var o;1&t&&(G.Qc(ne,!0),G.Qc(ce,!0),G.Qc(ae,!0),G.Qc(re,!0),G.Qc(se,!0)),2&t&&(G.xc(o=G.fc())&&(e.addEditContactGroupDialog=o.first),G.xc(o=G.fc())&&(e.addEditContacGrouptHtmlElement=o.first),G.xc(o=G.fc())&&(e.contactGroupForms=o.first),G.xc(o=G.fc())&&(e.contactGroupName=o.first),G.xc(o=G.fc())&&(e.domains=o.first))},decls:6,vars:1,consts:[[2,"height","100%"],["id","addEditContactGroupDialog","width","400px","isModal","true","showCloseIcon","true","closeOnEscape","true","height","100%","cssClass","contact-group-dialog rounded-0",3,"visible","position","created","close","beforeOpen","overlayClick","beforeClose",4,"ngIf"],[2,"height","inherit"],["errorInputValidation",""],["id","addEditContactGroupDialog","width","400px","isModal","true","showCloseIcon","true","closeOnEscape","true","height","100%","cssClass","contact-group-dialog rounded-0",3,"visible","position","created","close","beforeOpen","overlayClick","beforeClose"],["addEditContactGroupDialog",""],["header",""],["footerTemplate",""],["content",""],["class","float-left",4,"ngIf"],["data-ripple","true",1,"e-control","e-btn","e-secondary","e-flat",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-primary","e-flat",3,"click"],[1,"float-left"],[1,"align-right","flex-horizontal","field-link",3,"click"],[1,"pt-1","link-hover","font-14"],[1,"pl-2","hd-icon","font-16","hd-external-link"],["contentContactGroupForm",""],[1,"contactGroupForm"],[1,"custom-form-builder","form-builder","product-header"],[1,"form-group","row","flex-vertical"],[1,"col"],[1,"error"],["autocomplete","off",3,"placeholder","htmlAttributes","blur","change","input"],["contactGroupName",""],["class","error-msg",4,"ngIf"],["id","contactGroupName",1,"col","custom-error","no-padding"],[1,"error","primary"],["cssClass","domain-dropdown-contact-groups","locale","customRecordsTemplate",3,"allowCustomValue","mode","placeholder","htmlAttributes","changeOnBlur","tagging","blur","removed","change"],["domains",""],["id","contactGroupDomain",1,"col","custom-error","no-padding"],[3,"collections","myForm","fieldDependency","fieldChange"],["contactGroupForms",""],[1,"error-msg"],[4,"ngTemplateOutlet"],[1,"error",3,"innerHTML"]],template:function(t,e){1&t&&(G.Tb(0,"div",0),G.Jc(1,fe,8,2,"ejs-dialog",1),G.Tb(2,"div",2),G.Ob(3,"router-outlet"),G.Sb(),G.Sb(),G.Jc(4,Ce,2,4,"ng-template",null,3,G.Kc)),2&t&&(G.xb(1),G.nc("ngIf",e.accessToCreateOrEditContactGroup))},directives:[i.n,u.l,s.b,l.i,d.h,oe.a,i.r],pipes:[F.a,ie.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.domain-multi-select.e-popup-open[_ngcontent-%COMP%], .secondary-email-id-multi-select.e-popup-open[_ngcontent-%COMP%]{display:none}.domain-label[_ngcontent-%COMP%]{color:rgba(0,0,0,.66)!important;font-size:14px;font-weight:400!important}.e-dialog.contact-group-dialog[_ngcontent-%COMP%]{max-height:100%!important}.e-dialog.contact-group-dialog[_ngcontent-%COMP%]   .e-dlg-content[_ngcontent-%COMP%]{padding:0 4px!important}.domain-dropdown-contact-groups[_ngcontent-%COMP%]   .e-chipcontent[_ngcontent-%COMP%]{max-width:94%!important}"]}),t})(),children:[{path:"",component:nt},{path:":contactGroupId",component:Ut,resolve:{data:Yt}},{path:":contactGroupId/contacts",component:Zt,resolve:{data:Yt}}]}];let Te=(()=>{class t{}return t.\u0275mod=G.Lb({type:t}),t.\u0275inj=G.Kb({factory:function(e){return new(e||t)},imports:[[u.k.forChild(Se)],u.k]}),t})();var ve=o("ltyr"),Ge=o("Wmr3"),xe=o("lZTi");let Oe=(()=>{class t{}return t.\u0275mod=G.Lb({type:t}),t.\u0275inj=G.Kb({factory:function(e){return new(e||t)},providers:[n.l,n.s,n.h,k,y,n.c,n.t,n.o,n.g,n.q,Yt],imports:[[i.b,Te,n.j,c.c,a.l,r.j,a.g,s.a,l.h,d.g,d.d,a.h,l.g,r.l,ve.a,Ge.a,xe.a,r.e,a.b]]}),t})()},VcZd:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),o("oKp4")},ZHpM:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("kU1M");e.take=function(t){return i.take(t)(this)}},oKp4:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o("qCKp"),n=o("ZHpM");i.Observable.prototype.take=n.take}}]);