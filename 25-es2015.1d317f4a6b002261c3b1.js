(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"14Tt":function(e,t,i){"use strict";i.r(t),i.d(t,"ViewsModule",(function(){return oe}));var n=i("ofXK"),o=i("tyNb"),c=i("mrjb"),r=i("A4Lh"),s=i("H552"),a=i("kR0U"),l=i("M9dC"),b=i("58Y9"),d=i("dSv1"),p=i("Pk9d"),u=i("ScLb"),h=i("4SUy"),g=i("fXoL"),f=i("1kef"),m=i("X8pc"),w=i("tk/3");let v=(()=>{class e{constructor(e,t){this.http=e,this.spinService=t,this.httpOptions={headers:new w.e({"Content-Type":"application/json"})}}changeOwnerForView(e,t){return this.http.put(u.a.TicketViews+"/"+e+"/change_owner/"+t,this.httpOptions).toPromise()}}return e.\u0275fac=function(t){return new(t||e)(g.bc(w.b),g.bc(m.a))},e.\u0275prov=g.Jb({token:e,factory:e.\u0275fac}),e})();var S=i("JCZ/"),O=i("IaKf"),T=i("QYJQ"),x=i("GJ+o"),C=i("hXFv"),M=i("jcQU"),y=i("AjNn"),E=i("EiDu");const L=["viewListGrid"],D=["viewListEle"],I=["viewChangeOwnerDialog"],N=["agentDrop"],k=["moreOptionsContextMenu"],P=["searchView"],A=["viewListPageElement"];function V(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div",27),g.Tb(1,"span",28),g.ec("click",(function(){g.Bc(e);const i=t.$implicit;return g.gc().rowSelect(i)})),g.Lc(2),g.Sb(),g.Sb()}if(2&e){const e=t.$implicit;g.xb(2),g.Nc(" ",e.name," ")}}function j(e,t){if(1&e&&(g.Tb(0,"div",29),g.Lc(1),g.Sb()),2&e){const e=t.$implicit;g.xb(1),g.Nc(" ",e.owner.displayName," ")}}function R(e,t){1&e&&(g.Tb(0,"div",29),g.Lc(1),g.hc(2,"translate"),g.Sb()),2&e&&(g.xb(1),g.Nc(" ",g.ic(2,1,"PUBLIC"),""))}function B(e,t){1&e&&(g.Tb(0,"div",29),g.Lc(1),g.hc(2,"translate"),g.Sb()),2&e&&(g.xb(1),g.Nc(" ",g.ic(2,1,"PRIVATE"),""))}function _(e,t){if(1&e&&(g.Tb(0,"span"),g.Lc(1),g.hc(2,"translate"),g.Sb()),2&e){const e=g.gc().$implicit;g.yb("data-title",e),g.xb(1),g.Oc(" ",g.ic(2,3,"GROUP"),": ",e," ")}}function J(e,t){if(1&e&&(g.Tb(0,"span"),g.Lc(1),g.hc(2,"translate"),g.Sb()),2&e){const e=g.gc().$implicit;g.xb(1),g.Oc(" ",g.ic(2,2,"GROUP"),": ",e," ")}}function F(e,t){if(1&e&&(g.Tb(0,"div"),g.Tb(1,"span"),g.Tb(2,"span",34),g.Lc(3),g.Sb(),g.Sb(),g.Sb()),2&e){const e=g.gc(3).$implicit;g.xb(1),g.yb("data-non-elliptical",!0)("data-title",e.groups),g.xb(2),g.Nc("\xa0+ ",e.groups.split(",").length-1," more")}}function U(e,t){if(1&e&&(g.Tb(0,"div",33),g.Tb(1,"div",27),g.Jc(2,_,3,5,"span",31),g.Jc(3,J,3,4,"span",31),g.Sb(),g.Jc(4,F,4,3,"div",31),g.Sb()),2&e){const e=t.first,i=g.gc(2).$implicit;g.xb(2),g.nc("ngIf",1===i.groups.length&&e),g.xb(1),g.nc("ngIf",i.groups.length>1&&e),g.xb(1),g.nc("ngIf",i.groups.split(",").length>1&&e)}}function W(e,t){if(1&e&&(g.Tb(0,"div"),g.Jc(1,U,5,3,"div",32),g.Sb()),2&e){const e=g.gc().$implicit;g.xb(1),g.nc("ngForOf",e.groups.split(","))}}function G(e,t){if(1&e&&(g.Jc(0,R,3,3,"div",30),g.Jc(1,B,3,3,"div",30),g.Jc(2,W,2,1,"div",31)),2&e){const e=t.$implicit;g.nc("ngIf","Agents"===e.accessScope),g.xb(1),g.nc("ngIf","Onlyme"===e.accessScope),g.xb(1),g.nc("ngIf","GroupMembers"===e.accessScope&&e.groups)}}function K(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div",35),g.Tb(1,"span",36),g.ec("click",(function(i){g.Bc(e);const n=t.$implicit;return g.gc().moreOptionButtonClick(i,n)})),g.Sb(),g.Sb()}}function Q(e,t){1&e&&(g.Tb(0,"div"),g.Lc(1),g.hc(2,"translate"),g.Sb()),2&e&&(g.xb(1),g.Nc(" ",g.ic(2,1,"CHANGEOWNER")," "))}function z(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div"),g.Tb(1,"button",37),g.ec("click",(function(){return g.Bc(e),g.gc().closeDialog()})),g.Lc(2),g.hc(3,"translate"),g.Sb(),g.Tb(4,"button",38),g.ec("click",(function(){return g.Bc(e),g.gc().updateOwnerClick()})),g.Lc(5),g.hc(6,"translate"),g.Sb(),g.Sb()}2&e&&(g.xb(2),g.Mc(g.ic(3,2,"CANCEL")),g.xb(3),g.Mc(g.ic(6,4,"UPDATE")))}function H(e,t){if(1&e&&(g.Tb(0,"div"),g.Ob(1,"span",47),g.hc(2,"safe"),g.Sb()),2&e){const e=g.gc(2);g.xb(1),g.nc("innerHTML",g.jc(2,1,e.errorMessage,"html"),g.Cc)}}function $(e,t){if(1&e&&(g.Tb(0,"div",48),g.Tb(1,"div",49),g.Tb(2,"div",50),g.Tb(3,"span",51),g.Lc(4),g.Sb(),g.Tb(5,"span",51),g.Tb(6,"span",52),g.Lc(7),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb()),2&e){const e=t.$implicit;g.nc("ngClass",e.isAgent?"agent":""),g.yb("data-user-id",e.userId),g.xb(4),g.Nc(" ",e.displayName," "),g.xb(3),g.Mc(e.emailId)}}function q(e,t){1&e&&(g.Tb(0,"div"),g.Tb(1,"span",53),g.Lc(2),g.hc(3,"translate"),g.Sb(),g.Sb()),2&e&&(g.xb(2),g.Nc(" ",g.ic(3,1,"FIELDREQUIRED"),""))}function X(e,t){if(1&e){const e=g.Ub();g.Tb(0,"div",null,39),g.Tb(2,"div",40),g.Tb(3,"div",41),g.Jc(4,H,3,4,"div",31),g.Tb(5,"div",42),g.Tb(6,"label"),g.Lc(7),g.hc(8,"translate"),g.Tb(9,"span",43),g.Lc(10,"*"),g.Sb(),g.Sb(),g.Tb(11,"ejs-dropdownlist",44,45),g.ec("focus",(function(){return g.Bc(e),g.gc().assigneeFocus()}))("blur",(function(){return g.Bc(e),g.gc().assigneeFocusOut()}))("change",(function(){return g.Bc(e),g.gc().assigneeFocusOut()})),g.hc(13,"translate"),g.hc(14,"translate"),g.Jc(15,$,8,4,"ng-template",null,46,g.Kc),g.Sb(),g.Jc(17,q,4,3,"div",31),g.Sb(),g.Sb(),g.Sb(),g.Sb()}if(2&e){const e=g.gc();g.xb(4),g.nc("ngIf",e.errorMessage),g.xb(3),g.Nc(" ",g.ic(8,11,"AGENT")," "),g.xb(4),g.oc("placeholder",g.ic(13,13,"DROPDOWNPLACEHOLDER")),g.oc("filterBarPlaceholder",g.ic(14,15,"SEARCH")),g.nc("dataSource",e.assigneeDataConfig)("fields",e.assigneeFieldConfig)("allowFiltering",!0)("showClearButton",!0)("htmlAttributes",e.autoCompleteAttribute)("query",e.agentDropQuery),g.xb(6),g.nc("ngIf",e.isRequired)}}const Y=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o,c){this.appRootService=e,this.spinService=t,this.viewService=i,this.seoService=n,this.router=o,this.toastService=c,this.assigneeFieldConfig={value:"userId",text:"displayName"},this.autoCompleteAttribute={autocomplete:"anyrandomstring"},this.changeOwner=Object(d.a)("CHANGEOWNER"),this.showView=Object(d.a)("VIEW"),this.moreActionsWithViews=[{text:this.showView,id:"0"},{text:this.changeOwner,id:"1"}],this.changeOwnerDialogOpen=!1,this.appRootService.setAppTitleText(Object(d.a)("TICKETSETTINGS")),this.appRootService.isSideBarNeeded(!0);const r=Object(d.a)("ADMIN")+" / "+Object(d.a)("TICKETVIEWS"),b=Object(d.a)("TICKETVIEWS")+" | "+Object(d.a)("ADMIN");this.appRootService.setAppTitleText(r),this.seoService.setHeaderElements({title:b}),this.viewList=new s.a({url:a.a.TicketViews,adaptor:new l.b})}rowSelect(e){e&&this.showTicketView(e.filterId)}ngOnInit(){this.pageSettings={pageSize:r.q}}ngAfterViewInit(){this.viewListEle.nativeElement.addEventListener("keydown",e=>{Object(b.l)(e,this.viewListEle.nativeElement)}),this.viewListPageElement.nativeElement.addEventListener("scroll",()=>{this.moreOptionsMenu.close()})}viewListDataBound(){Object(b.a)(this.grid)}moreOptionsButtonOpen(){const e=this.viewListEle.nativeElement.querySelectorAll(".view-more-option-button.e-active");if(e.length>1){const t=e;t&&t[0].ej2_instances[0].toggle()}}contextMenuBeforeOpen(e,t){t.isDefault?(this.moreOptionsMenu.hideItems([this.changeOwner]),this.moreOptionsMenu.showItems([this.showView])):"Active"!==t.owner.status?this.moreOptionsMenu.showItems([this.showView,this.changeOwner]):(this.moreOptionsMenu.hideItems([this.changeOwner]),this.moreOptionsMenu.showItems([this.showView]))}moreOptionButtonClick(e,t){const i=e.target,n=Object(p.f)(i);this.viewData=t,this.moreOptionsMenu.open(n.top+25,n.left,i)}moreOptionsSelect(e){e.item.text===this.showView?this.showTicketView(this.viewData.filterId):e.item.text===this.changeOwner&&(this.changeOwnerOfView(this.viewData),this.changeOwnerDialogOpen=!0)}showTicketView(e){this.router.navigateByUrl("/tickets?filterid="+e+"&isFromAdminModule=true")}loadGrid(){this.viewList=new s.a({url:a.a.TicketViews,adaptor:new l.a})}changeOwnerOfView(e){this.assigneeDataConfig=new s.a({url:u.a.Assignee,adaptor:new l.b}),this.agentDropQuery=(new s.g).addParams("exclusionIds",e.owner.userId.toString()),this.ViewDialog.show(),this.viewID=e.filterId}updateOwnerClick(){this.agentDrop.value&&!Object(h.X)(this.agentDrop.value)&&(this.spinService.showSpinner(),this.viewService.changeOwnerForView(this.viewID,this.agentDrop.value).then(e=>{e&&(this.spinService.hideSpinner(),this.toastService.successToast(e.message),this.closeDialog(),this.loadGrid())}).catch(e=>{this.spinService.hideSpinner(),e.error&&e.error.errors&&e.error.errors.length>0&&(this.errorMessage=e.error.errors[0].errorMessage)}))}viewsDialogOpen(){this.changeOwnerDialogOpen&&setTimeout(()=>{this.agentDrop.focusIn()})}assigneeFocus(){this.isRequired=!1}assigneeFocusOut(){this.isRequired=!this.agentDrop.value}closeDialog(){this.agentDrop.value=null,this.isRequired=null,this.errorMessage=null,this.ViewDialog.hide()}searchNodes(){const e=this.searchView.value.trim();this.grid.search(e)}}return e.\u0275fac=function(t){return new(t||e)(g.Nb(f.a),g.Nb(m.a),g.Nb(v),g.Nb(S.a),g.Nb(o.g),g.Nb(O.a))},e.\u0275cmp=g.Hb({type:e,selectors:[["ng-component"]],viewQuery:function(e,t){var i;1&e&&(g.Qc(L,!0),g.Qc(D,!0),g.Qc(I,!0),g.Qc(N,!0),g.Qc(k,!0),g.Qc(P,!0),g.Qc(A,!0)),2&e&&(g.xc(i=g.fc())&&(t.grid=i.first),g.xc(i=g.fc())&&(t.viewListEle=i.first),g.xc(i=g.fc())&&(t.ViewDialog=i.first),g.xc(i=g.fc())&&(t.agentDrop=i.first),g.xc(i=g.fc())&&(t.moreOptionsMenu=i.first),g.xc(i=g.fc())&&(t.searchView=i.first),g.xc(i=g.fc())&&(t.viewListPageElement=i.first))},decls:45,vars:23,consts:[[1,"view-list","no-padding","no-margin"],["viewListPageElement",""],[1,"secondary","padding-10","information-content"],[1,"bd-icon","bd-icon-info","information-icon","information-icon-position"],[1,"mt-10","no-padding"],[1,"grid-menu-bar","mb-2"],[1,"view-menu-bar","pr-2"],[1,"search-box"],["id","search","showClearButton","true","autocomplete","off","maxlength","150",3,"placeholder","change"],["searchView",""],[2,"height","90%"],[1,"type-list","col-xs-12","col-sm-12","col-md-12","col-lg-12","pl-20","pr-20"],["viewListEle",""],["height","100%",3,"dataSource","allowPaging","allowSorting","pageSettings","allowResizing","dataBound"],["viewListGrid",""],["field","name","minWidth","230","width","270","textAlign","Left","clipMode","EllipsisWithTooltip",1,"cursor-pointer",3,"headerText"],["template",""],["field","owner","minWidth","180","width","220","textAlign","Left","clipMode","EllipsisWithTooltip",3,"headerText"],["field","accessScope","minWidth","80","width","120","textAlign","Left",3,"headerText","allowSorting"],["headerText","","clipMode","EllipsisWithTooltip","minWidth","100","width","100","textAlign","Center"],["id","contextmenu","cssClass","context-view-more-options",3,"items","select","beforeOpen"],["moreOptionsContextMenu",""],["id","viewdialog","width","450px","isModal","true","showCloseIcon","true","closeOnEscape","true","cssClass","dialog-height","height","Auto",3,"visible","overlayClick","close","open"],["viewChangeOwnerDialog",""],["header",""],["footerTemplate",""],["content",""],[1,"no-wrap","ellipsis"],[1,"primary-link-color","cursor-pointer",3,"click"],[1,"grid-text-font-color"],["class","grid-text-font-color",4,"ngIf"],[4,"ngIf"],["class","flex-horizontal grid-text-font-color",4,"ngFor","ngForOf"],[1,"flex-horizontal","grid-text-font-color"],[1,"more-items"],[1,"cursor-pointer","action-content-padding"],[1,"e-btn","e-icon-btn","e-dropdown-btn","no-border","hd-icon","hd-vertical-menu","more-option-button-background","more-option-button",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-secondary","e-flat",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-primary","e-flat",3,"click"],["contentGroupForm",""],[1,"dialog-content"],["id","editAgentContent"],[1,"form-group","pt-3"],[1,"error"],[3,"placeholder","dataSource","fields","allowFiltering","showClearButton","htmlAttributes","query","filterBarPlaceholder","focus","blur","change"],["agentDrop",""],["itemTemplate",""],[1,"error",3,"innerHTML"],[1,"flex-horizontal","p-2",3,"ngClass"],[1,"wrapper","flex-horizontal","full-width"],[1,"flex-vertical","no-wrap","ellipsis"],[1,"e-text"],[1,"font-12"],[1,"required"]],template:function(e,t){1&e&&(g.Tb(0,"div",0,1),g.Tb(2,"div",2),g.Ob(3,"div",3),g.Lc(4),g.hc(5,"translate"),g.Sb(),g.Tb(6,"div",4),g.Tb(7,"div",5),g.Tb(8,"div",6),g.Tb(9,"div",7),g.Tb(10,"ejs-textbox",8,9),g.ec("change",(function(){return t.searchNodes()})),g.hc(12,"translate"),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Tb(13,"div",10),g.Tb(14,"div",11,12),g.Tb(16,"ejs-grid",13,14),g.ec("dataBound",(function(){return t.viewListDataBound()})),g.Tb(18,"e-columns"),g.Tb(19,"e-column",15),g.hc(20,"translate"),g.Jc(21,V,3,1,"ng-template",null,16,g.Kc),g.Sb(),g.Tb(23,"e-column",17),g.hc(24,"translate"),g.Jc(25,j,2,1,"ng-template",null,16,g.Kc),g.Sb(),g.Tb(27,"e-column",18),g.hc(28,"translate"),g.Jc(29,G,3,3,"ng-template",null,16,g.Kc),g.Sb(),g.Tb(31,"e-column",19),g.Jc(32,K,2,0,"ng-template",null,16,g.Kc),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Tb(34,"ejs-contextmenu",20,21),g.ec("select",(function(e){return t.moreOptionsSelect(e)}))("beforeOpen",(function(e){return t.contextMenuBeforeOpen(e,t.viewData)})),g.Sb(),g.Tb(36,"div"),g.Tb(37,"ejs-dialog",22,23),g.ec("overlayClick",(function(){return t.closeDialog()}))("close",(function(){return t.closeDialog()}))("open",(function(){return t.viewsDialogOpen()})),g.Jc(39,Q,3,3,"ng-template",null,24,g.Kc),g.Jc(41,z,7,6,"ng-template",null,25,g.Kc),g.Jc(43,X,18,17,"ng-template",null,26,g.Kc),g.Sb(),g.Sb()),2&e&&(g.xb(4),g.Nc(" ",g.ic(5,13,"VIEWMODULEINFO"),""),g.xb(6),g.oc("placeholder",g.ic(12,15,"SEARCH")),g.xb(6),g.nc("dataSource",t.viewList)("allowPaging",!0)("allowSorting",!0)("pageSettings",t.pageSettings)("allowResizing",!0),g.xb(3),g.oc("headerText",g.ic(20,17,"VIEWNAME")),g.xb(4),g.oc("headerText",g.ic(24,19,"OWNER")),g.xb(4),g.oc("headerText",g.ic(28,21,"PERMISSIONACCESSSCOPE")),g.nc("allowSorting",!1),g.xb(7),g.nc("items",t.moreActionsWithViews),g.xb(3),g.nc("visible",!1))},directives:[T.i,x.k,x.e,x.b,x.d,x.a,C.f,p.b,n.n,n.m,M.e,n.l],pipes:[y.a,E.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.action-content-padding[_ngcontent-%COMP%]   .hd-vertical-menu[_ngcontent-%COMP%]{color:rgba(0,0,0,.54)}.action-content-padding[_ngcontent-%COMP%]   .hd-vertical-menu[_ngcontent-%COMP%]:hover{border-radius:25px}.view-list[_ngcontent-%COMP%]{height:100%;overflow:auto}.view-list[_ngcontent-%COMP%]   .grid-menu-bar[_ngcontent-%COMP%]{height:50px;width:100%}.view-list[_ngcontent-%COMP%]   .grid-menu-bar[_ngcontent-%COMP%]   .view-menu-bar[_ngcontent-%COMP%]{border-radius:0;height:32px;padding-right:5px;width:100%}"],changeDetection:0}),e})()},{path:"**",component:c.a}];let Z=(()=>{class e{}return e.\u0275mod=g.Lb({type:e}),e.\u0275inj=g.Kb({factory:function(t){return new(t||e)},imports:[[o.k.forChild(Y)],o.k]}),e})();var ee=i("ltyr"),te=i("np3I"),ie=i("5OZa"),ne=i("SRvG");let oe=(()=>{class e{}return e.\u0275mod=g.Lb({type:e}),e.\u0275inj=g.Kb({factory:function(t){return new(t||e)},providers:[x.l,x.s,x.g,x.t,x.p,x.r,v],imports:[[n.b,Z,ee.a,x.j,C.j,te.AdminModule,M.d,ie.c,p.a,T.h,ne.d,ne.h,C.e]]}),e})()},EiDu:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("fXoL"),o=i("jhN1");let c=(()=>{class e{constructor(e){this.sanitizer=e}transform(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}}}return e.\u0275fac=function(t){return new(t||e)(n.Nb(o.c))},e.\u0275pipe=n.Mb({name:"safe",type:e,pure:!0}),e})()},mrjb:function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var n=i("dSv1"),o=i("fXoL");let c=(()=>{class e{constructor(){this.title=Object(n.a)("PAGENOTFOUND"),this.message=Object(n.a)("PAGENOTFOUNDMESSAGE")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-page-not-found"]],decls:10,vars:2,consts:[[1,"fallback-container","flex-vertical"],[1,"row","container","align-center","mt-100"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"fallback_image"],["height","300","width","300","src","assets/images/page-not-found.png"],[1,"fallback_message"],[1,"error-font"],[1,"message-style","font-16"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"div",3),o.Ob(4,"img",4),o.Sb(),o.Tb(5,"div",5),o.Tb(6,"div",6),o.Lc(7),o.Sb(),o.Tb(8,"span",7),o.Lc(9),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&e&&(o.xb(7),o.Mc(t.title),o.xb(2),o.Mc(t.message))},styles:[".fallback-container[_ngcontent-%COMP%]{height:100%;text-align:center}.fallback-container[_ngcontent-%COMP%]   .message-style[_ngcontent-%COMP%]{font-weight:400;line-height:24px;padding-top:6px}"]}),e})()}}]);