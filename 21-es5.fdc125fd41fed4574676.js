!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{EiDu:function(t,n,o){"use strict";o.d(n,"a",(function(){return a}));var r=o("fXoL"),c=o("jhN1"),a=function(){var t=function(){function t(i){e(this,t),this.sanitizer=i}return i(t,[{key:"transform",value:function(e,t){switch(t){case"html":return this.sanitizer.bypassSecurityTrustHtml(e);case"style":return this.sanitizer.bypassSecurityTrustStyle(e);case"script":return this.sanitizer.bypassSecurityTrustScript(e);case"url":return this.sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error("Invalid safe type specified: "+t)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(c.c))},t.\u0275pipe=r.Mb({name:"safe",type:t,pure:!0}),t}()},bqpE:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i("1gpv"),o={RoleList:n.f+"roles",MemberList:n.f+"roles/",RoleDetail:n.f+"roles/",AddMember:n.f+"roles/",RemoveMember:n.f+"roles/",UserList:n.f+"agents/collections",AddRole:n.f+"roles",EditRole:n.f+"roles",DeleteRole:n.f+"roles/",PermissionList:n.f+"permissions/",RoleCollection:n.f+"roles/collections",CloneRole:n.f+"roles/clone_role"}},mrjb:function(t,i,n){"use strict";n.d(i,"a",(function(){return c}));var o=n("dSv1"),r=n("fXoL"),c=function(){var t=function t(){e(this,t),this.title=Object(o.a)("PAGENOTFOUND"),this.message=Object(o.a)("PAGENOTFOUNDMESSAGE")};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-page-not-found"]],decls:10,vars:2,consts:[[1,"fallback-container","flex-vertical"],[1,"row","container","align-center","mt-100"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"fallback_image"],["height","300","width","300","src","assets/images/page-not-found.png"],[1,"fallback_message"],[1,"error-font"],[1,"message-style","font-16"]],template:function(e,t){1&e&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Ob(4,"img",4),r.Sb(),r.Tb(5,"div",5),r.Tb(6,"div",6),r.Lc(7),r.Sb(),r.Tb(8,"span",7),r.Lc(9),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&e&&(r.xb(7),r.Mc(t.title),r.xb(2),r.Mc(t.message))},styles:[".fallback-container[_ngcontent-%COMP%]{height:100%;text-align:center}.fallback-container[_ngcontent-%COMP%]   .message-style[_ngcontent-%COMP%]{font-weight:400;line-height:24px;padding-top:6px}"]}),t}()},rPV0:function(t,n,o){"use strict";o.r(n),o.d(n,"RoleModule",(function(){return Yt}));var r,c,a=o("ofXK"),l=o("tyNb"),s=o("H552"),d=o("Pk9d"),u=o("bqpE"),h=o("4SUy"),b=o("M9dC"),p=o("58Y9"),g=o("dSv1"),m=o("A4Lh"),f=function(e){return e.EditRole="0",e.CloneRole="1",e.DeleteRole="2",e}({}),v=o("fXoL"),S=o("1kef"),R=o("IaKf"),x=o("CRtO"),T=o("JCZ/"),O=o("tk/3"),E=o("2Vo4"),M=o("X8pc"),C=((c=function(){function t(i,n,o,r,c){e(this,t),this.appRootService=i,this.router=n,this.route=o,this.spinService=r,this.toastService=c,this.roleErrorIntercept=new E.a(null),this.httpRoleErrorIntercept=this.roleErrorIntercept.asObservable()}return i(t,[{key:"roleModuleErrorHandling",value:function(e,t){switch(this.errorMessage=Object(p.q)(e.error),t){case"roleList":break;case"addRole":case"editRole":400===e.status&&this.roleErrorHandling(this.errorMessage);break;case"deleteRole":400===e.status&&this.toastService.failureToast(this.errorMessage),this.spinService.hideSpinner();break;case"addMember":400===e.status&&this.roleErrorHandling(this.errorMessage);break;case"removeMember":400===e.status&&this.toastService.failureToast(this.errorMessage),this.spinService.hideSpinner();break;case"roleDetail":if(400===e.status)return this.router.navigateByUrl("error",{state:e.error.errors[0].errorMessage,skipLocationChange:!0})}}},{key:"roleErrorHandling",value:function(e){this.roleErrorIntercept.next(e)}}]),t}()).\u0275fac=function(e){return new(e||c)(v.bc(S.a),v.bc(l.g),v.bc(l.a),v.bc(M.a),v.bc(R.a))},c.\u0275prov=v.Jb({token:c,factory:c.\u0275fac,providedIn:"root"}),c),D=((r=function(){function t(i,n){e(this,t),this.http=i,this.roleRootService=n,this.httpOptions={headers:new O.e({"Content-Type":"application/json"})}}return i(t,[{key:"removeMember",value:function(e,t){var i=this;return this.http.delete(u.a.RemoveMember+t+"/members/"+e,this.httpOptions).toPromise().catch((function(e){i.roleRootService.roleModuleErrorHandling(e,"removeMember")}))}},{key:"addMember",value:function(e,t){return this.http.post(u.a.AddMember+t+"/members/",e,this.httpOptions).toPromise()}},{key:"addRole",value:function(e){return this.http.post(u.a.AddRole,e,this.httpOptions).toPromise()}},{key:"cloneRole",value:function(e){return this.http.post(u.a.CloneRole,e,this.httpOptions).toPromise()}},{key:"editRole",value:function(e){var t=this;return this.http.put(u.a.EditRole,e).toPromise().catch((function(e){t.roleRootService.roleModuleErrorHandling(e,"editRole")}))}},{key:"deleteRole",value:function(e,t){var i=u.a.DeleteRole+e;if(!Object(h.X)(t)){var n={headers:new O.e({"Content-Type":"application/json"}),body:t};return this.http.delete(i,n).toPromise()}return this.http.delete(i).toPromise()}},{key:"editPermission",value:function(e){return this.http.put(u.a.PermissionList,e).toPromise()}},{key:"getRoles",value:function(e){return new s.a({url:u.a.RoleCollection,adaptor:new b.b}).executeQuery((new s.g).addParams("exclusionIds",e.toString()).requiresCount())}}]),t}()).\u0275fac=function(e){return new(e||r)(v.bc(O.b),v.bc(C))},r.\u0275prov=v.Jb({token:r,factory:r.\u0275fac}),r),y=o("QYJQ"),I=o("SRvG"),k=o("GJ+o"),N=o("hXFv"),L=o("jcQU"),A=o("AjNn"),P=o("EiDu"),w=["roleDialog"],j=["roleName"],_=["roleDescription"],B=["editRoleName"],q=["editRoleDescription"],F=["roleListGrid"],J=["contentRoleForm"],U=["roleDrop"],G=["contextmenu"],H=["roleListPage"],Q=["searchRole"];function V(e,t){if(1&e&&(v.Tb(0,"div",28),v.Lc(1),v.hc(2,"translate"),v.Sb(),v.Tb(3,"div",28),v.Lc(4),v.hc(5,"translate"),v.Sb()),2&e){var i=v.gc();v.nc("hidden",!i.cloneRole),v.xb(1),v.Nc(" ",v.ic(2,4,"CLONEROLE")," "),v.xb(2),v.nc("hidden",!i.deleteRole),v.xb(1),v.Nc(" ",v.ic(5,6,"DELETEROLE")," ")}}function X(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",28),v.Tb(1,"button",29),v.ec("click",(function(){return v.Bc(i),v.gc().cancelDialog()})),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Tb(4,"button",30),v.ec("click",(function(){return v.Bc(i),v.gc().updateCloneRole()})),v.Lc(5),v.hc(6,"translate"),v.Sb(),v.Sb(),v.Tb(7,"div",28),v.Tb(8,"button",29),v.ec("click",(function(){return v.Bc(i),v.gc().cancelDialog()})),v.Lc(9),v.hc(10,"translate"),v.Sb(),v.Tb(11,"button",31),v.ec("click",(function(){return v.Bc(i),v.gc().updateDeleteRole()})),v.Lc(12),v.hc(13,"translate"),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.nc("hidden",!n.cloneRole),v.xb(2),v.Mc(v.ic(3,6,"CANCEL")),v.xb(3),v.Mc(v.ic(6,8,"CREATE")),v.xb(2),v.nc("hidden",!n.deleteRole),v.xb(2),v.Mc(v.ic(10,10,"CANCEL")),v.xb(3),v.Mc(v.ic(13,12,"YESDELETE"))}}function z(e,t){if(1&e&&(v.Tb(0,"div"),v.Ob(1,"span",46),v.hc(2,"safe"),v.Sb()),2&e){var i=v.gc(2);v.xb(1),v.nc("innerHTML",v.jc(2,1,i.errorMessage,"html"),v.Cc)}}function $(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"span",47),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"FIELDREQUIRED"),""))}function K(e,t){1&e&&v.Pb(0)}function W(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,K,1,0,"ng-container",48),v.Sb()),2&e){v.gc(2);var i=v.yc(46);v.xb(1),v.nc("ngTemplateOutlet",i)}}function Y(e,t){1&e&&v.Pb(0)}function Z(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,Y,1,0,"ng-container",48),v.Sb()),2&e){v.gc(2);var i=v.yc(46);v.xb(1),v.nc("ngTemplateOutlet",i)}}function ee(e,t){if(1&e&&(v.Tb(0,"div",49),v.Ob(1,"span",50),v.hc(2,"safe"),v.Sb()),2&e){var i=v.gc(2);v.xb(1),v.nc("innerHtml",v.jc(2,1,i.deleteRoleErrorMessage,"html"),v.Cc)}}function te(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"span",47),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"FIELDREQUIRED"),""))}function ie(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",null,32),v.Tb(2,"div",28),v.Jc(3,z,3,4,"div",33),v.Tb(4,"div",34),v.Tb(5,"label"),v.Lc(6),v.hc(7,"translate"),v.Tb(8,"span",35),v.Lc(9,"*"),v.Sb(),v.Sb(),v.Tb(10,"ejs-textbox",36,37),v.ec("blur",(function(){return v.Bc(i),v.gc().createRoleFocusOut()}))("change",(function(){return v.Bc(i),v.gc().createRoleChange()}))("created",(function(){return v.Bc(i),v.gc().controlCreated("roleNameField")}))("input",(function(e){return v.Bc(i),v.gc().createRoleInput(e)}))("focus",(function(){return v.Bc(i),v.gc().createRoleFocus()})),v.hc(12,"translate"),v.Sb(),v.Jc(13,$,4,3,"div",33),v.Jc(14,W,2,1,"div",33),v.Sb(),v.Tb(15,"div",34),v.Tb(16,"label"),v.Lc(17),v.hc(18,"translate"),v.Sb(),v.Tb(19,"ejs-textbox",38,39),v.ec("change",(function(){return v.Bc(i),v.gc().createRoleDescriptionChange()})),v.hc(21,"translate"),v.Sb(),v.Jc(22,Z,2,1,"div",33),v.Sb(),v.Sb(),v.Tb(23,"div",28),v.Jc(24,ee,3,4,"div",40),v.Tb(25,"div"),v.Tb(26,"span",41),v.Lc(27),v.hc(28,"translate"),v.Sb(),v.Sb(),v.Tb(29,"div",42),v.Tb(30,"div",43),v.Tb(31,"label"),v.Lc(32),v.hc(33,"translate"),v.Tb(34,"span",35),v.Lc(35,"*"),v.Sb(),v.Sb(),v.Tb(36,"ejs-dropdownlist",44,45),v.ec("blur",(function(){return v.Bc(i),v.gc().roleDropFocusOut()}))("change",(function(){return v.Bc(i),v.gc().roleDropChange()}))("created",(function(){return v.Bc(i),v.gc().controlCreated("role-swap-drop")})),v.hc(38,"translate"),v.Sb(),v.Jc(39,te,4,3,"div",33),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.xb(2),v.nc("hidden",!n.cloneRole),v.xb(1),v.nc("ngIf",n.errorMessage),v.xb(3),v.Nc(" ",v.ic(7,21,"ROLENAME")," "),v.xb(4),v.oc("placeholder",v.ic(12,23,"TEXTBOXPLACEHOLDER")),v.nc("htmlAttributes",n.inputAttribute),v.xb(3),v.nc("ngIf",n.isRequired),v.xb(1),v.nc("ngIf",n.roleNameError),v.xb(3),v.Nc(" ",v.ic(18,25,"DESCRIPTION")," "),v.xb(2),v.oc("placeholder",v.ic(21,27,"TEXTBOXPLACEHOLDER")),v.nc("htmlAttributes",n.textAreaAttribute),v.xb(3),v.nc("ngIf",n.roleDescriptionError),v.xb(1),v.nc("hidden",!n.deleteRole),v.xb(1),v.nc("ngIf",n.deleteRoleError),v.xb(3),v.Mc(v.ic(28,29,"MOVEROLEALERT")),v.xb(5),v.Nc(" ",v.ic(33,31,"ROLE")," "),v.xb(4),v.oc("placeholder",v.ic(38,33,"DROPDOWNPLACEHOLDER")),v.nc("dataSource",n.roleDropData)("fields",n.roleFields)("allowFiltering",!0)("htmlAttributes",n.autoCompleteAttribute),v.xb(3),v.nc("ngIf",n.roleRequired)}}function ne(e,t){1&e&&(v.Tb(0,"div",56),v.hc(1,"translate"),v.Tb(2,"span"),v.Lc(3),v.hc(4,"translate"),v.Sb(),v.Sb()),2&e&&(v.yb("data-title",v.ic(1,2,"SYSTEM")),v.xb(3),v.Nc(" ",v.ic(4,4,"SYSTEM")," "))}var oe=function(e){return{background:e}};function re(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",51),v.Tb(1,"div",52),v.Lc(2),v.Sb(),v.Tb(3,"div",53),v.Tb(4,"span",54),v.ec("click",(function(){v.Bc(i);var e=t.$implicit;return v.gc().roleDetails(e)})),v.Lc(5),v.Sb(),v.Sb(),v.Jc(6,ne,5,6,"div",55),v.Sb()}if(2&e){var n=t.$implicit;v.xb(1),v.nc("ngStyle",v.tc(5,oe,n.colorCode)),v.xb(1),v.Nc(" ",n.shortCode," "),v.xb(2),v.yb("data-title",n.roleName),v.xb(1),v.Mc(n.roleName),v.xb(1),v.nc("ngIf",n.isDefault)}}function ce(e,t){if(1&e){var i=v.Ub();v.Tb(0,"span",57),v.ec("click",(function(){v.Bc(i);var e=t.$implicit;return v.gc().membersPage(e)})),v.Lc(1),v.Sb()}if(2&e){var n=t.$implicit;v.xb(1),v.Mc(n.agentCount)}}function ae(e,t){if(1&e){var i=v.Ub();v.Tb(0,"span",60),v.ec("click",(function(){v.Bc(i);var e=v.gc().$implicit,t=v.gc();return t.select(t.editItem,e)})),v.hc(1,"translate"),v.Sb()}2&e&&v.yb("data-title",v.ic(1,1,"EDIT"))}function le(e,t){if(1&e){var i=v.Ub();v.Jc(0,ae,2,3,"span",58),v.Tb(1,"span",59),v.ec("click",(function(e){v.Bc(i);var n=t.$implicit;return v.gc().bindBtnTemplate(e,n)})),v.Sb()}2&e&&v.nc("ngIf",!t.$implicit.isDefault)}function se(e,t){if(1&e&&(v.Ob(0,"span",61),v.hc(1,"safe")),2&e){var i=v.gc();v.nc("innerHTML",v.jc(1,1,i.commonInputValidationErrorMessage,"html"),v.Cc)}}var de,ue=((de=function(){function t(i,n,o,r,c,a,l,s){e(this,t),this.appRootService=i,this.router=n,this.toastService=o,this.authService=r,this.seoService=c,this.roleService=a,this.roleRootService=l,this.spinService=s,this.inputAttribute={maxlength:m.s,autocomplete:"anyrandomstring"},this.textAreaAttribute={maxlength:m.M,autocomplete:"anyrandomstring"},this.roleRequired=!1,this.roleFields=m.r,this.animation={effect:"none"},this.autoCompleteAttribute={autocomplete:"anyrandomstring"},this.create=Object(g.a)("CREATEROLE"),this.moreAction=[Object(g.a)("CLONE"),Object(g.a)("DELETE")],this.moreActionDefault=[Object(g.a)("CLONE")],this.moreActionItems=[{id:f.CloneRole,text:Object(g.a)("CLONE")},{id:f.DeleteRole,text:Object(g.a)("DELETE")}],this.editItem={item:{id:f.EditRole}};var d=Object(g.a)("ADMIN")+" / "+Object(g.a)("ROLESPERMISSION"),u=Object(g.a)("ROLESPERMISSION")+" | "+Object(g.a)("ADMIN");this.appRootService.setAppTitleText(d),this.seoService.setHeaderElements({title:u}),this.appRootService.isSideBarNeeded(!0),this.appRootService.setBrandDropDownVisibility(!1)}return i(t,[{key:"roleDetails",value:function(e){this.router.navigateByUrl("/admin/roles-permissions/"+e.roleId)}},{key:"membersPage",value:function(e){this.router.navigate(["/admin/roles-permissions/"+e.roleId],{state:{data:{isMembers:!0}}})}},{key:"ngOnInit",value:function(){var e=this;this.pageSettings={pageSize:50},this.roleList=new s.a({url:u.a.RoleList,adaptor:new b.b}),this.roleListError=this.roleRootService.httpRoleErrorIntercept.subscribe((function(t){null!=t&&(e.spinService.hideSpinner(),e.errorMessage=t)})),this.commonInputValidationErrorMessage=p.e}},{key:"ngAfterViewInit",value:function(){var e=this;this.roleListPageEle.nativeElement.addEventListener("scroll",(function(){e.contextmenu.close()}))}},{key:"roleListDataBound",value:function(){Object(p.a)(this.roleListGrid)}},{key:"roleListGridActionBegin",value:function(e){"refresh"===e.requestType&&this.roleListGrid.searchModule.refreshSearch&&(this.roleListGrid.searchModule.refreshSearch=!1)}},{key:"createRoleClick",value:function(){this.router.navigateByUrl("/admin/roles-permissions/new")}},{key:"select",value:function(e,t){e.item.id===f.EditRole?this.router.navigateByUrl("/admin/roles-permissions/"+t.roleId):e.item.id===f.DeleteRole?this.openDeleteRoleDialog(this.selectedItemData.roleId):e.item.id===f.CloneRole&&this.openCloneRoleDialog(this.selectedItemData.roleId,this.selectedItemData)}},{key:"createRoleFocusOut",value:function(){if(this.isRequired=!this.roleName.value,!this.isRequired){var e=Object(p.d)(this.roleName.value);this.roleNameError=!!e}}},{key:"createRoleChange",value:function(){if(null!=this.roleName.value){this.isRequired=!1,this.errorMessage=null;var e=Object(p.d)(this.roleName.value);this.roleNameError=!!e}else this.isRequired=!1,this.roleNameError=!1}},{key:"createRoleInput",value:function(e){var t=e.value;this.isRequired=!(!Object(h.X)(t)&&""!==t.trim());var i=Object(p.d)(t);this.roleNameError=!!i}},{key:"createRoleFocus",value:function(){this.isRequired=!1,this.roleNameError=!1}},{key:"createRoleDescriptionChange",value:function(){if(null!=this.roleDescription.value){var e=Object(p.d)(this.roleDescription.value);this.roleDescriptionError=!!e}else this.roleDescriptionError=!1}},{key:"editRoleFocusOut",value:function(){if(this.isRequired=!this.editRoleName.value,!this.isRequired){var e=Object(p.d)(this.editRoleName.value);this.editRoleNameError=!!e}}},{key:"editRoleChange",value:function(){if(null!=this.editRoleName.value){this.isRequired=!1,this.noChangesValidation=!1,this.errorMessage=null;var e=Object(p.d)(this.editRoleName.value);this.editRoleNameError=!!e}else this.isRequired=!0,this.editRoleNameError=!1}},{key:"editRoleInput",value:function(e){var t=e.value;this.isRequired=!(!Object(h.X)(t)&&""!==t.trim());var i=Object(p.d)(t);this.editRoleNameError=!!i}},{key:"editRoleFocus",value:function(){this.isRequired=!1,this.editRoleNameError=!1}},{key:"editRoleDescriptionChange",value:function(){if(null!=this.editRoleDescription.value){var e=Object(p.d)(this.editRoleDescription.value);this.editRoleDescriptionError=!!e}else this.editRoleDescriptionError=!1}},{key:"openEditRoleDialog",value:function(e){this.roleId=e.roleId,this.roleDialog.showCloseIcon=!0,this.roleDialog.cssClass="",this.dialogRoleName=e.roleName,this.dialogRoleDescription=e.description,this.roleDialog.show(),this.cloneRole=!1,this.editRole=!0,this.deleteRole=!1,this.errorMessage=null,this.isRequired=!1}},{key:"roleDialogOpen",value:function(){var e=this;this.editRole?setTimeout((function(){e.editRoleName.focusIn()})):this.cloneRole&&setTimeout((function(){e.roleName.focusIn()}))}},{key:"openDeleteRoleDialog",value:function(e){var t=this;this.roleService.getRoles(e).then((function(e){t.roleDropData=e.result})),this.roleRequired=!1,this.roleDialog.cssClass="role-delete-dialog",this.roleDialog.position={X:"center",Y:"center"},this.roleId=e,this.deleteRole=!0,this.editRole=!1,this.cloneRole=!1,this.roleDialog.show()}},{key:"openCloneRoleDialog",value:function(e,t){this.roleRequired=!1,this.roleDialog.cssClass="",this.roleId=e,this.roleName.value=Object(g.a)("CLONEOF")+t.roleName,this.roleDescription.value=t.description,this.errorMessage=null,this.deleteRole=!1,this.editRole=!1,this.cloneRole=!0,this.roleDialog.show()}},{key:"roleDropFocusOut",value:function(){this.roleRequired=!this.roleDrop.value}},{key:"roleDropChange",value:function(){this.roleRequired=!!Object(h.X)(this.roleDrop.value)}},{key:"cancelDialog",value:function(){this.roleDialog.hide(),this.isRequired=!1,this.noChangesValidation=!1,this.deleteRoleError=!1,this.deleteRoleErrorMessage=null,this.dialogRoleName=null,this.dialogRoleDescription=null,this.errorMessage=null,this.roleName.value=null,this.roleDescription.value=null,this.deleteDialog&&this.deleteDialog.hide(),this.roleRequired=!1}},{key:"resetDialog",value:function(){this.isRequired=!1,this.roleName.value=null,this.roleDescription.value=null,this.errorMessage=null}},{key:"updateDeleteRole",value:function(){var e=this;if(this.spinService.showSpinner(),this.roleId=+this.roleId,Object(h.X)(this.roleDrop.value))return this.roleRequired=!0,void this.spinService.hideSpinner();var t={};t.newRoleId=this.roleDrop.value,this.roleService.deleteRole(this.roleId,t).then((function(t){t&&(e.spinService.hideSpinner(),e.roleDialog.hide(),e.toastService.successToast(Object(g.a)("ROLEREMOVED")),e.loadGrid(),e.isRequired=!1)})).catch((function(t){e.spinService.hideSpinner(),t.error&&t.error.errors.length>0&&400===t.error.statusCode&&(e.deleteRoleError=!0,e.deleteRoleErrorMessage=t.error.errors[0].errorMessage)}))}},{key:"overlayClick",value:function(){this.roleDialog.hide(),this.isRequired=null,this.noChangesValidation=null,this.dialogRoleName=null,this.dialogRoleDescription=null,this.errorMessage=null,this.roleName.value=null,this.roleDescription.value=null,this.deleteRoleError=!1,this.deleteRoleErrorMessage=null,Object(h.X)(this.roleDrop)||Object(h.X)(this.roleDrop.value)||(this.roleDrop.value=null)}},{key:"updateCloneRole",value:function(){var e=this;this.errorMessage=null,null!=this.roleName.value&&""!==this.roleName.value&&this.roleName.value.length>0&&!this.roleNameError&&!this.roleDescriptionError?(this.spinService.showSpinner(),this.roleService.cloneRole({roleName:this.roleName.value,description:this.roleDescription.value,roleId:this.roleId}).then((function(t){e.spinService.hideSpinner(),t&&(e.toastService.successToast(t.message),e.router.navigateByUrl("admin/roles-permissions/"+t.roleId,{state:{data:{isMembers:!0}}}),e.roleDialog.hide())})).catch((function(t){t.error&&t.error.errors&&null!==t.error.errors[0].errorMessage&&(e.errorMessage=t.error.errors[0].errorMessage,e.spinService.hideSpinner())}))):this.roleNameError||this.roleDescriptionError||(this.isRequired=!0,this.errorMessage=null)}},{key:"dialogClose",value:function(){this.isRequired=null,this.noChangesValidation=null,this.deleteRoleError=!1,this.deleteRoleErrorMessage=null,this.dialogRoleName=null,this.dialogRoleDescription=null,this.errorMessage=null,this.roleName.value=null,this.roleDescription.value=null,this.roleRequired=!1,Object(h.X)(this.roleDrop)||Object(h.X)(this.roleDrop.value)||(this.roleDrop.value=null)}},{key:"updateEditRole",value:function(){var e=this;if(this.spinService.showSpinner(),this.roleId=+this.roleId,this.editRoleName.value===this.dialogRoleName&&this.editRoleDescription.value===this.dialogRoleDescription)this.spinService.hideSpinner(),this.noChangesValidation=!0,this.isRequired=null;else if(0===this.editRoleName.value.length||""===this.editRoleName.value)this.spinService.hideSpinner(),this.isRequired=!0,this.noChangesValidation=null;else if(this.editRoleNameError||this.editRoleDescriptionError)this.spinService.hideSpinner();else{var t={roleId:this.roleId,roleName:this.editRoleName.value,description:this.editRoleDescription.value};this.errorMessage=null,this.noChangesValidation=!1,this.roleService.editRole(t).then((function(t){t&&(e.spinService.hideSpinner(),e.roleDialog.hide(),e.toastService.successToast(Object(g.a)("ROLEUPDATED")),e.loadGrid(),e.isRequired=!1)}))}}},{key:"dialogCreated",value:function(){this.dialogCreate=!0}},{key:"ngOnDestroy",value:function(){this.roleDialog&&this.dialogCreate&&this.roleDialog.element&&Object(h.I)(this.roleDialog.element),this.roleListError.unsubscribe()}},{key:"loadGrid",value:function(){var e=this;setTimeout((function(){e.roleListGrid.refresh()}))}},{key:"controlCreated",value:function(e){var t=this;setTimeout((function(){var i=t.addEditRoleForm.nativeElement;Object(p.h)(i.querySelector("#"+e))}))}},{key:"bindBtnTemplate",value:function(e,t){this.selectedItemData=t;var i=Object(d.f)(e.target);this.contextmenu.open(i.top+16,i.left-5,e.target)}},{key:"itemBeforeEvent",value:function(){this.selectedItemData.isDefault?(this.contextmenu.hideItems(this.moreAction),this.contextmenu.showItems(this.moreActionDefault)):(this.contextmenu.hideItems(this.moreActionDefault),this.contextmenu.showItems(this.moreAction))}},{key:"searchNodes",value:function(){var e=this.searchRole.value.trim();this.roleListGrid.search(e)}}]),t}()).\u0275fac=function(e){return new(e||de)(v.Nb(S.a),v.Nb(l.g),v.Nb(R.a),v.Nb(x.a),v.Nb(T.a),v.Nb(D),v.Nb(C),v.Nb(M.a))},de.\u0275cmp=v.Hb({type:de,selectors:[["app-role-list"]],viewQuery:function(e,t){var i;1&e&&(v.Qc(w,!0),v.Qc(j,!0),v.Qc(_,!0),v.Qc(B,!0),v.Qc(q,!0),v.Qc(F,!0),v.Qc(J,!0),v.Qc(U,!0),v.Qc(G,!0),v.Qc(H,!0),v.Qc(Q,!0)),2&e&&(v.xc(i=v.fc())&&(t.roleDialog=i.first),v.xc(i=v.fc())&&(t.roleName=i.first),v.xc(i=v.fc())&&(t.roleDescription=i.first),v.xc(i=v.fc())&&(t.editRoleName=i.first),v.xc(i=v.fc())&&(t.editRoleDescription=i.first),v.xc(i=v.fc())&&(t.roleListGrid=i.first),v.xc(i=v.fc())&&(t.addEditRoleForm=i.first),v.xc(i=v.fc())&&(t.roleDrop=i.first),v.xc(i=v.fc())&&(t.contextmenu=i.first),v.xc(i=v.fc())&&(t.roleListPageEle=i.first),v.xc(i=v.fc())&&(t.searchRole=i.first))},decls:47,vars:26,consts:[["id","roleListDialog","width","400px","isModal","true","showCloseIcon","true","closeOnEscape","true","height","Auto",3,"visible","overlayClick","close","created","open"],["roleDialog",""],["header",""],["footerTemplate",""],["content",""],[1,"role-list","no-margin","pl-20","pr-20"],["roleListPage",""],[1,"secondary","padding-10","information-content"],[1,"bd-icon","bd-icon-info","information-icon","information-icon-position"],[1,"no-padding"],[1,"grid-menu-bar"],[1,"grid-menu"],[1,"search-box","pr-0"],["id","search","showClearButton","true","autocomplete","off","maxlength","150",3,"placeholder","change"],["searchRole",""],[1,"add-button-container"],["type","button","ejs-button","",1,"e-btn","add-button","e-outline","e-primary",3,"click"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","control-section","no-padding","hd-grid-full-height"],[3,"dataSource","allowSorting","allowPaging","pageSettings","allowResizing","actionBegin","dataBound"],["roleListGrid",""],["field","roleName","minWidth","150","width","200","textAlign","left",3,"headerText"],["template",""],["field","description","minWidth","200","width","260","textAlign","left","clipMode","EllipsisWithTooltip",3,"headerText"],["field","agentCount","minWidth","120","width","130","textAlign","Center",3,"headerText"],["minWidth","100","width","100","textAlign","Center"],[3,"items","animationSettings","beforeOpen","select"],["contextmenu",""],["errorInputValidation",""],[3,"hidden"],["data-ripple","true",1,"e-control","e-btn","e-secondary","e-flat",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-primary","e-flat",3,"click"],["isPrimary","true","data-ripple","true",1,"e-control","e-btn","e-primary","e-flat","dialog-delete-button",3,"click"],["contentRoleForm",""],[4,"ngIf"],[1,"form-group","pt-3"],[1,"error"],["id","roleNameField","autocomplete","off",3,"placeholder","htmlAttributes","blur","change","created","input","focus"],["roleName",""],["data-id","roleDescription","autocomplete","off",3,"placeholder","htmlAttributes","change"],["roleDescription",""],["class","pb-1",4,"ngIf"],[1,"line-height-25px"],[1,"pt-3"],[1,"col-6","padding-left-0"],["id","role-swap-drop","popupHeight","200",3,"placeholder","dataSource","fields","allowFiltering","htmlAttributes","blur","change","created"],["roleDrop",""],[3,"innerHTML"],[1,"required"],[4,"ngTemplateOutlet"],[1,"pb-1"],[1,"required",3,"innerHtml"],[1,"flex-horizontal"],[1,"e-avatar","e-avatar-small","e-avatar-circle","permission-list-avatar",3,"ngStyle"],[1,"no-wrap","ellipsis","role-name-width"],[1,"primary-link-color","cursor-pointer",3,"click"],["class","grid-label left-spacing",4,"ngIf"],[1,"grid-label","left-spacing"],[1,"cursor-pointer","primary-link-color",3,"click"],["class","bd-icon bd-icon-edit more-option-button",3,"click",4,"ngIf"],[1,"hd-icon","hd-vertical-menu","more-option-button",3,"click"],[1,"bd-icon","bd-icon-edit","more-option-button",3,"click"],[1,"error",3,"innerHTML"]],template:function(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"ejs-dialog",0,1),v.ec("overlayClick",(function(){return t.overlayClick()}))("close",(function(){return t.dialogClose()}))("created",(function(){return t.dialogCreated()}))("open",(function(){return t.roleDialogOpen()})),v.Jc(3,V,6,8,"ng-template",null,2,v.Kc),v.Jc(5,X,14,14,"ng-template",null,3,v.Kc),v.Jc(7,ie,40,35,"ng-template",null,4,v.Kc),v.Sb(),v.Sb(),v.Tb(9,"div",5,6),v.Tb(11,"div",7),v.Ob(12,"div",8),v.Lc(13),v.hc(14,"translate"),v.Sb(),v.Tb(15,"div",9),v.Tb(16,"div",10),v.Tb(17,"div",11),v.Tb(18,"div",12),v.Tb(19,"ejs-textbox",13,14),v.ec("change",(function(){return t.searchNodes()})),v.hc(21,"translate"),v.Sb(),v.Sb(),v.Tb(22,"div",15),v.Tb(23,"button",16),v.ec("click",(function(){return t.createRoleClick()})),v.Lc(24),v.hc(25,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(26,"div",17),v.Tb(27,"ejs-grid",18,19),v.ec("actionBegin",(function(e){return t.roleListGridActionBegin(e)}))("dataBound",(function(){return t.roleListDataBound()})),v.Tb(29,"e-columns"),v.Tb(30,"e-column",20),v.hc(31,"translate"),v.Jc(32,re,7,7,"ng-template",null,21,v.Kc),v.Sb(),v.Ob(34,"e-column",22),v.hc(35,"translate"),v.Tb(36,"e-column",23),v.hc(37,"translate"),v.Jc(38,ce,2,1,"ng-template",null,21,v.Kc),v.Sb(),v.Tb(40,"e-column",24),v.Jc(41,le,2,1,"ng-template",null,21,v.Kc),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(43,"ejs-contextmenu",25,26),v.ec("beforeOpen",(function(){return t.itemBeforeEvent()}))("select",(function(e){return t.select(e)})),v.Sb(),v.Jc(45,se,2,4,"ng-template",null,27,v.Kc)),2&e&&(v.xb(1),v.nc("visible",!1),v.xb(12),v.Nc(" ",v.ic(14,14,"ROLESMODULEINFO")," "),v.xb(6),v.oc("placeholder",v.ic(21,16,"SEARCH")),v.xb(5),v.Nc(" ",v.ic(25,18,"CREATEROLE")," "),v.xb(3),v.nc("dataSource",t.roleList)("allowSorting",!0)("allowPaging",!0)("pageSettings",t.pageSettings)("allowResizing",!0),v.xb(3),v.oc("headerText",v.ic(31,20,"ROLENAME")),v.xb(4),v.oc("headerText",v.ic(35,22,"DESCRIPTION")),v.xb(2),v.oc("headerText",v.ic(37,24,"AGENTS")),v.xb(7),v.nc("items",t.moreActionItems)("animationSettings",t.animation))},directives:[d.b,y.i,I.c,k.k,k.e,k.b,k.d,k.a,N.f,a.n,L.e,a.r,a.o],pipes:[A.a,P.a],styles:[".role-delete-dialog[_ngcontent-%COMP%]{height:40%!important;max-height:590px;width:40%!important}.role-delete-dialog.e-dialog[_ngcontent-%COMP%]   .e-dlg-content[_ngcontent-%COMP%]{padding-bottom:0!important}.role-list[_ngcontent-%COMP%]   .information-content[_ngcontent-%COMP%]{margin:16px 0 0!important}.role-list[_ngcontent-%COMP%]   .role-name-width[_ngcontent-%COMP%]{width:auto!important}.role-list[_ngcontent-%COMP%]   .permission-list-avatar[_ngcontent-%COMP%]{min-height:24px;min-width:24px}"]}),de),he=["contentRoleForm"];function be(e,t){if(1&e&&v.Ob(0,"span",17),2&e){var i=v.gc(2);v.yb("data-title",i.moduleDisableTooltip)}}var pe=function(e){return{"hd-active":e}},ge=function(e){return{"cursor-block":e}};function me(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",9),v.Tb(1,"div",10),v.Tb(2,"div",11),v.ec("click",(function(e){v.Bc(i);var n=t.$implicit;return v.gc().moduleClick(e,n.moduleId)})),v.Tb(3,"div",12),v.Lc(4),v.Jc(5,be,1,1,"span",13),v.Sb(),v.Sb(),v.Tb(6,"div",14),v.Tb(7,"ejs-switch",15,16),v.ec("change",(function(){v.Bc(i);var e=t.$implicit,n=v.yc(8);return v.gc().switchChange(n,e.moduleId)})),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=t.$implicit,o=t.first,r=t.index,c=v.gc();v.xb(2),v.nc("ngClass",v.tc(12,pe,o)),v.xb(2),v.Nc("",n.moduleName," "),v.xb(1),v.nc("ngIf",o),v.xb(1),v.nc("ngClass",v.tc(14,ge,0===r||!c.canEdit)),v.yb("data-title",c.moduleDisableTooltip)("data-non-elliptical",0===r||!c.canEdit||null),v.xb(1),v.nc("id",n.moduleId)("hidden",o)("disabled",o||!c.canEdit)("checked",n.isModuleEnabled),v.yb("data-permissionId",n.permissionId)("data-permissionName",n.moduleName)}}function fe(e,t){if(1&e&&v.Ob(0,"span",27),2&e){var i=v.gc().$implicit,n=v.gc().$implicit,o=v.gc();v.nc("hidden",n.moduleId!==o.moduleId),v.yb("data-title",i.description)("data-non-elliptical",i.description&&"null"!==i.description?"true":null)}}function ve(e,t){if(1&e&&v.Ob(0,"span",27),2&e){var i=v.gc(2).$implicit,n=v.gc(2).$implicit,o=v.gc();v.nc("hidden",n.moduleId!==o.moduleId),v.yb("data-title",i.description)("data-non-elliptical",i.description&&"null"!==i.description?"true":null)}}function Se(e,t){if(1&e&&(v.Tb(0,"div",29),v.Ob(1,"ejs-radiobutton",30,31),v.Jc(3,ve,1,3,"span",25),v.Sb()),2&e){var i=v.gc().$implicit,n=v.gc().$implicit,o=v.gc().$implicit,r=v.gc();v.xb(1),v.oc("label",i.name),v.oc("name","radionBtnId_"+n.id),v.nc("hidden",o.moduleId!==r.moduleId)("disabled",!o.isModuleEnabled||!n.isEnabled||!r.canEdit)("checked",i.isEnabled),v.yb("data-permissionId",i.id),v.xb(2),v.nc("ngIf",i.description&&"null"!==i.description)}}function Re(e,t){if(1&e&&v.Ob(0,"span",27),2&e){var i=v.gc(2).$implicit,n=v.gc(2).$implicit,o=v.gc();v.nc("hidden",n.moduleId!==o.moduleId),v.yb("data-title",i.description)("data-non-elliptical",i.description&&"null"!==i.description?"true":null)}}function xe(e,t){if(1&e&&(v.Tb(0,"div",29),v.Ob(1,"ejs-checkbox",32,24),v.Jc(3,Re,1,3,"span",25),v.Sb()),2&e){var i=v.gc().$implicit,n=v.gc().$implicit,o=v.gc().$implicit,r=v.gc();v.xb(1),v.oc("label",i.name),v.nc("hidden",o.moduleId!==r.moduleId)("disabled",!o.isModuleEnabled||!n.isEnabled||!r.canEdit)("checked",i.isEnabled),v.yb("data-permissionId",i.id),v.xb(2),v.nc("ngIf",i.description&&"null"!==i.description)}}function Te(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,Se,4,7,"div",28),v.Jc(2,xe,4,6,"div",28),v.Sb()),2&e){var i=v.gc().$implicit;v.xb(1),v.nc("ngIf","Single"===i.selectionType),v.xb(1),v.nc("ngIf","Multiple"===i.selectionType)}}var Oe=function(e){return{"set-width":e}};function Ee(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",20),v.Tb(1,"div",21),v.Tb(2,"div",22),v.Tb(3,"ejs-checkbox",23,24),v.ec("change",(function(){v.Bc(i);var e=t.$implicit,n=v.yc(4);return v.gc(2).checkBoxChange(n,e.id)})),v.Sb(),v.Jc(5,fe,1,3,"span",25),v.Sb(),v.Tb(6,"div",26),v.Jc(7,Te,3,2,"div",8),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=t.$implicit,o=v.gc().$implicit,r=v.gc();v.xb(1),v.nc("ngClass",v.tc(10,Oe,o.moduleId!==r.moduleId)),v.xb(2),v.oc("label",n.name),v.nc("hidden",o.moduleId!==r.moduleId)("disabled",!o.isModuleEnabled||!r.canEdit)("checked",n.isEnabled),v.yb("data-permissionId",n.id),v.xb(2),v.nc("ngIf",n.description&&"null"!==n.description),v.xb(1),v.oc("id","permissionId_"+n.id),v.nc("ngClass",v.tc(12,Oe,o.moduleId!==r.moduleId)),v.xb(1),v.nc("ngForOf",n.childPermissions)}}var Me=function(e,t){return{"set-width":e,"cursor-block":t}};function Ce(e,t){if(1&e&&(v.Tb(0,"div"),v.Tb(1,"div",18),v.Jc(2,Ee,8,14,"div",19),v.Sb(),v.Sb()),2&e){var i=t.$implicit,n=v.gc();v.xb(1),v.oc("id","moduleId_"+i.moduleId),v.nc("ngClass",v.uc(5,Me,i.moduleId!==n.moduleId,!i.isModuleEnabled||!n.canEdit)),v.yb("data-title",n.permissionDisableTooltip)("data-non-elliptical",i.isModuleEnabled&&n.canEdit?null:"true"),v.xb(1),v.nc("ngForOf",i.permissions)}}var De,ye=((De=function(){function t(i,n,o,r,c,a,l,s,d,u){var h=this;e(this,t),this.route=i,this.router=n,this.appRootService=o,this.roleService=r,this.toastService=c,this.roleRootService=a,this.authService=l,this.seoService=s,this.spinService=d,this.viewContainerRef=u,this.canEdit=!0,this.inputAttribute={maxlength:m.s,autocomplete:"anyrandomstring"},this.textAreaAttribute={maxlength:m.M,autocomplete:"anyrandomstring"},this.permissionListDetail=this.route.data.subscribe((function(e){h.permissionList=e.permissionData.result,h.moduleId=h.permissionList[0].moduleId,h.spinService.hideSpinner(),h.permissionList||h.router.navigateByUrl("error",{state:Object(g.a)("SERVERERROR"),skipLocationChange:!0})}))}return i(t,[{key:"ngOnInit",value:function(){this.moduleDisableTooltip=this.canEdit?Object(g.a)("TICKETPERMISSIONDISABLE"):Object(g.a)("DEFAULTPERMISSIONDISABLE"),this.permissionDisableTooltip=this.canEdit?Object(g.a)("MODULEDISABLE"):Object(g.a)("DEFAULTPERMISSIONDISABLE")}},{key:"cancelDialog",value:function(){this.router.navigateByUrl("/admin/roles-permissions")}},{key:"moduleSelection",value:function(e,t){var i,n=this,o=e.parentElement.parentElement.parentElement.parentElement.querySelectorAll(".module-btn"),r=this.addEditRoleForm.nativeElement.querySelector("#moduleId_"+t),c=e.parentElement.querySelector(".switch-control input.e-control");c&&(i=c.ej2_instances[0]);for(var a=0,l=Array.from(o);a<l.length;a++)l[a].classList.remove("hd-active");e.classList.add("hd-active"),setTimeout((function(){n.moduleId=t,setTimeout((function(){i&&(i.checked?r.classList.remove("cursor-block"):r.classList.add("cursor-block"))}))}),0)}},{key:"moduleClick",value:function(e,t){this.moduleSelection(e.currentTarget,t)}},{key:"getPermissionLists",value:function(){for(var e=this,t=[],i=this.addEditRoleForm.nativeElement.querySelectorAll('.checkbox-control ejs-checkbox[aria-checked="true"]:not([aria-disabled="true"])'),n=0,o=Array.from(i);n<o.length;n++){var r=o[n];r.parentElement.parentElement.querySelectorAll("ejs-radiobutton").forEach((function(e){var i=e.firstElementChild.ej2_instances[0];i.checked&&t.push(parseInt(i.element.getAttribute("data-permissionId"),10))})),t.push(parseInt(r.getAttribute("data-permissionId"),10))}var c=this.addEditRoleForm.nativeElement.querySelectorAll('.switch-control ejs-switch[aria-checked="true"]:not([aria-disabled])');return Array.from(c).forEach((function(i){e.addEditRoleForm.nativeElement.querySelectorAll("#moduleId_".concat(i.id,' ejs-checkbox[aria-checked="true"]')).length>0&&t.push(parseInt(i.getAttribute("data-permissionId"),10))})),t}},{key:"switchChange",value:function(e,t){var i=this.addEditRoleForm.nativeElement.querySelector("#moduleId_"+t).querySelectorAll("input:not(.child)"),n=this.addEditRoleForm.nativeElement.querySelector("#moduleId_"+t);e.checked?(n.removeAttribute("data-non-elliptical"),n.classList.remove("cursor-block")):(n.setAttribute("data-non-elliptical","true"),n.classList.add("cursor-block")),i.forEach((function(t){if(e.checked){t.ej2_instances[0].disabled=!1;var i=t.getAttribute("data-permissionId");n.querySelector("#permissionId_"+i).querySelectorAll("input.child").forEach((function(e){e.ej2_instances[0].disabled=!t.ej2_instances[0].checked}))}else{t.ej2_instances[0].disabled=!0;var o=t.getAttribute("data-permissionId");n.querySelector("#permissionId_"+o).querySelectorAll("input.child").forEach((function(e){e.ej2_instances[0].disabled=!0}))}})),this.moduleSelection(e.element.parentElement.parentElement.parentElement.querySelector(".module-btn"),t)}},{key:"checkBoxChange",value:function(e,t){var i,n=this.addEditRoleForm.nativeElement.querySelector("#permissionId_"+t).querySelectorAll("input");n.forEach((function(t){e.checked?(t.ej2_instances[0].disabled=!1,!0===t.ej2_instances[0].checked&&(i=!0)):(t.ej2_instances[0].disabled=!0,t.ej2_instances[0].checked=!1)})),e.checked&&!i&&n[0]&&(n[0].ej2_instances[0].checked=!0)}}]),t}()).\u0275fac=function(e){return new(e||De)(v.Nb(l.a),v.Nb(l.g),v.Nb(S.a),v.Nb(D),v.Nb(R.a),v.Nb(C),v.Nb(x.a),v.Nb(T.a),v.Nb(M.a),v.Nb(v.O))},De.\u0275cmp=v.Hb({type:De,selectors:[["app-permisson-list"]],viewQuery:function(e,t){var i;1&e&&(v.Qc(he,!0),v.Qc(I.e,!0),v.Qc(I.i,!0)),2&e&&(v.xc(i=v.fc())&&(t.addEditRoleForm=i.first),v.xc(i=v.fc())&&(t.checkbox=i),v.xc(i=v.fc())&&(t.radiobutton=i))},inputs:{roleId:"roleId",canEdit:"canEdit"},decls:15,vars:8,consts:[["contentRoleForm",""],[1,"pb-5"],[1,"flex-horizontal","align-items-start"],[1,"mr-4"],[1,"font-500","font-14","pb-3"],["class","permission-switch",4,"ngFor","ngForOf"],[1,"checkbox-items","font-500","font-14","pb-3","flex-vertical"],[1,"checkbox-items","flex-horizontal"],[4,"ngFor","ngForOf"],[1,"permission-switch"],[1,"row","set-fixed-width","permission-module-switch"],[1,"col-8","pr-3","module-btn",3,"ngClass","click"],[1,"cursor-pointer","font-14"],["class","hd-icon hd-info","placement","bottom",4,"ngIf"],[1,"col-4","pb-2","pr-0","switch-control",3,"ngClass"],["cssClass","e-small",3,"id","hidden","disabled","checked","change"],["switch",""],["placement","bottom",1,"hd-icon","hd-info"],[3,"id","ngClass"],["class","pb-3",4,"ngFor","ngForOf"],[1,"pb-3"],[1,"checkbox-control",3,"ngClass"],[1,"flex-horizontal","row"],[3,"hidden","disabled","label","checked","change"],["checkBox",""],["class","hd-icon hd-info","id","content","placement","bottom",3,"hidden",4,"ngIf"],[1,"pl-3","flex-vertical",3,"id","ngClass"],["id","content","placement","bottom",1,"hd-icon","hd-info",3,"hidden"],["class","pt-3 radiobtn-control flex-horizontal",4,"ngIf"],[1,"pt-3","radiobtn-control","flex-horizontal"],[1,"child",3,"hidden","disabled","label","name","checked"],["radioBtn",""],[1,"child",3,"hidden","disabled","label","checked"]],template:function(e,t){1&e&&(v.Tb(0,"div",null,0),v.Tb(2,"div",1),v.Tb(3,"div",2),v.Tb(4,"div",3),v.Tb(5,"div",4),v.Lc(6),v.hc(7,"translate"),v.Sb(),v.Jc(8,me,9,16,"div",5),v.Sb(),v.Tb(9,"div"),v.Tb(10,"div",6),v.Lc(11),v.hc(12,"translate"),v.Sb(),v.Tb(13,"div",7),v.Jc(14,Ce,3,8,"div",8),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb()),2&e&&(v.xb(6),v.Mc(v.ic(7,4,"MODULES")),v.xb(2),v.nc("ngForOf",t.permissionList),v.xb(3),v.Mc(v.ic(12,6,"PERMISSIONS")),v.xb(3),v.nc("ngForOf",t.permissionList))},directives:[a.m,a.l,a.n,I.k,I.e,I.i],pipes:[A.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.checkbox-items[_ngcontent-%COMP%]{align-items:inherit!important;border-left:1px solid #e2e8f0}.checkbox-items[_ngcontent-%COMP%], .checkbox-items[_ngcontent-%COMP%]   .checkbox-control[_ngcontent-%COMP%]{padding-left:20px}.checkbox-items[_ngcontent-%COMP%]   .e-checkbox-wrapper.e-checkbox-disabled[_ngcontent-%COMP%]   .e-label[_ngcontent-%COMP%], .checkbox-items[_ngcontent-%COMP%]   .e-radio-wrapper[_ngcontent-%COMP%]   .e-radio[_ngcontent-%COMP%]:disabled + label[_ngcontent-%COMP%]   .e-label[_ngcontent-%COMP%]{color:var(--secondary-color)!important}.set-width[_ngcontent-%COMP%]{width:0!important}.hd-active[_ngcontent-%COMP%]{border-left:4px solid #0450cc;color:#0450cc}.set-fixed-width[_ngcontent-%COMP%]{width:200px}.permission-switch[_ngcontent-%COMP%]   .module-btn[_ngcontent-%COMP%]{height:32px;padding-left:16px!important}.permission-switch[_ngcontent-%COMP%]   .module-btn.hd-active[_ngcontent-%COMP%]{padding-left:12px!important}.permission-switch[_ngcontent-%COMP%]   .permission-module-switch[_ngcontent-%COMP%]{height:32px;line-height:32px;margin-bottom:8px;padding-left:12px}.permission-switch[_ngcontent-%COMP%]   .permission-module-switch[_ngcontent-%COMP%]   .switch-control[_ngcontent-%COMP%]{height:32px;line-height:40px}"]}),De),Ie=["settingsSideBar"],ke=["roleMemberDialog"],Ne=["roleMember"],Le=["agentGrid"],Ae=["contentRoleForm"],Pe=["roleTab"],we=["permission"],je=["updateButton"],_e=["roleDialog"],Be=["editRoleName"],qe=["editRoleDescription"],Fe=["searchAgent"];function Je(e,t){if(1&e&&(v.Tb(0,"div",16),v.Lc(1),v.hc(2,"translate"),v.Sb()),2&e){var i=v.gc();v.nc("hidden",!i.addMember),v.xb(1),v.Nc(" ",v.ic(2,2,"ADDAGENT")," ")}}function Ue(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",16),v.Tb(1,"button",17),v.ec("click",(function(){return v.Bc(i),v.gc().cancelDialog()})),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Tb(4,"button",18,19),v.ec("click",(function(){return v.Bc(i),v.gc().updateAddMember()})),v.Lc(6),v.hc(7,"translate"),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.nc("hidden",!n.addMember),v.xb(2),v.Nc(" ",v.ic(3,4,"CANCEL"),""),v.xb(2),v.nc("disabled",!0),v.xb(2),v.Nc(" ",v.ic(7,6,"SAVE"),"")}}function Ge(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"span",33),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"FIELDREQUIRED"),""))}function He(e,t){1&e&&(v.Tb(0,"div"),v.Ob(1,"span",50),v.hc(2,"translate"),v.Sb()),2&e&&(v.xb(1),v.yb("data-non-elliptical",!0)("data-title",v.ic(2,2,"AGENTADDED")))}function Qe(e,t){1&e&&(v.Tb(0,"div"),v.Ob(1,"span",51),v.hc(2,"translate"),v.Sb()),2&e&&(v.xb(1),v.yb("data-non-elliptical",!0)("data-title",v.ic(2,2,"AGENTALREADYEXIST")))}function Ve(e,t){1&e&&v.Ob(0,"div",52)}function Xe(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div"),v.Tb(1,"div",40),v.Tb(2,"div",41),v.Tb(3,"div",42),v.Tb(4,"div",43),v.Lc(5),v.Sb(),v.Sb(),v.Tb(6,"div",44),v.Tb(7,"span",45),v.Tb(8,"span"),v.Lc(9),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(10,"div",46),v.Tb(11,"span",45),v.Tb(12,"span"),v.Lc(13),v.Sb(),v.Sb(),v.Sb(),v.Tb(14,"div",47),v.Jc(15,He,3,4,"div",29),v.Jc(16,Qe,3,4,"div",29),v.Tb(17,"div"),v.Tb(18,"span",48),v.ec("click",(function(){v.Bc(i);var e=t.$implicit;return v.gc(3).removeMemberFromList(e.userId)})),v.hc(19,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Jc(20,Ve,1,0,"div",49),v.Sb()}if(2&e){var n=t.$implicit,o=t.last;v.xb(4),v.Ic("background-color",n.colorCode),v.xb(1),v.Nc(" ",n.shortCode," "),v.xb(3),v.yb("data-title",n.displayName),v.xb(1),v.Mc(n.displayName),v.xb(3),v.yb("data-title",n.emailId),v.xb(1),v.Mc(n.emailId),v.xb(2),v.nc("ngIf",1==n.isSuccess),v.xb(1),v.nc("ngIf",0==n.isSuccess),v.xb(2),v.yb("data-title",v.ic(19,11,"REMOVEAGENT")),v.xb(2),v.nc("ngIf",!o)}}function ze(e,t){if(1&e&&(v.Tb(0,"div",34),v.Tb(1,"div",35),v.Tb(2,"div",36),v.Lc(3),v.hc(4,"translate"),v.Sb(),v.Tb(5,"div",36),v.Lc(6),v.hc(7,"translate"),v.Sb(),v.Ob(8,"div",37),v.Sb(),v.Tb(9,"div",38),v.Jc(10,Xe,21,13,"div",39),v.Sb(),v.Sb()),2&e){var i=v.gc(2);v.xb(3),v.Mc(v.ic(4,3,"AGENTNAME")),v.xb(3),v.Mc(v.ic(7,5,"EMAIL")),v.xb(4),v.nc("ngForOf",i.filterAgent)}}var $e=function(e){return{error:e}};function Ke(e,t){if(1&e&&(v.Tb(0,"div",53),v.Ob(1,"span",54),v.hc(2,"safe"),v.Sb()),2&e){var i=v.gc(2);v.nc("ngClass",v.tc(5,$e,i.isError)),v.xb(1),v.nc("innerHTML",v.jc(2,2,i.errorMessage,"html"),v.Cc)}}function We(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",20),v.Tb(1,"div",21),v.Tb(2,"div",22),v.Tb(3,"div",23),v.Tb(4,"ejs-multiselect",24,25),v.ec("change",(function(){return v.Bc(i),v.gc().addMemberChange()}))("created",(function(){return v.Bc(i),v.gc().addMemberCreated()})),v.hc(6,"translate"),v.hc(7,"translate"),v.Sb(),v.Sb(),v.Tb(8,"div",26),v.Tb(9,"button",27),v.ec("click",(function(){return v.Bc(i),v.gc().showMembersList()})),v.Tb(10,"span",28),v.Lc(11),v.hc(12,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Jc(13,Ge,4,3,"div",29),v.Sb(),v.Tb(14,"div",30),v.Jc(15,ze,11,7,"div",31),v.Sb(),v.Jc(16,Ke,3,7,"div",32),v.Sb()}if(2&e){var n=v.gc();v.nc("hidden",!n.addMember),v.xb(4),v.oc("placeholder",v.ic(6,13,"SELECTAGENT")),v.oc("filterBarPlaceholder",v.ic(7,15,"SEARCH")),v.nc("dataSource",n.userList)("fields",n.fields)("allowFiltering",!0)("itemTemplate",n.agentItemTemplate)("maximumSelectionLength",100),v.xb(5),v.nc("isPrimary",!0),v.xb(2),v.Mc(v.ic(12,17,"ADD")),v.xb(2),v.nc("ngIf",n.isRequired),v.xb(2),v.nc("ngIf",n.showAgentList),v.xb(1),v.nc("ngIf",n.errorMessage)}}function Ye(e,t){if(1&e&&(v.Tb(0,"div",16),v.Lc(1),v.hc(2,"translate"),v.Sb()),2&e){var i=v.gc();v.nc("hidden",!i.editRole),v.xb(1),v.Nc(" ",v.ic(2,2,"EDITROLE")," ")}}function Ze(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",16),v.Tb(1,"button",55),v.ec("click",(function(){return v.Bc(i),v.gc().cancelEditRoleDialog()})),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Tb(4,"button",56),v.ec("click",(function(){return v.Bc(i),v.gc().updateEditRole()})),v.Lc(5),v.hc(6,"translate"),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.nc("hidden",!n.editRole),v.xb(2),v.Mc(v.ic(3,3,"CANCEL")),v.xb(3),v.Mc(v.ic(6,5,"UPDATE"))}}function et(e,t){if(1&e&&(v.Tb(0,"div"),v.Ob(1,"span",54),v.hc(2,"safe"),v.Sb()),2&e){var i=v.gc(2);v.xb(1),v.nc("innerHTML",v.jc(2,1,i.errorMessage,"html"),v.Cc)}}function tt(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"span",33),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"NOCHANGES"),""))}function it(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"span",33),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"FIELDREQUIRED"),""))}function nt(e,t){1&e&&v.Pb(0)}function ot(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,nt,1,0,"ng-container",12),v.Sb()),2&e){v.gc(2);var i=v.yc(26);v.xb(1),v.nc("ngTemplateOutlet",i)}}function rt(e,t){1&e&&v.Pb(0)}function ct(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,rt,1,0,"ng-container",12),v.Sb()),2&e){v.gc(2);var i=v.yc(26);v.xb(1),v.nc("ngTemplateOutlet",i)}}function at(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",null,8),v.Tb(2,"div",16),v.Jc(3,et,3,4,"div",29),v.Jc(4,tt,4,3,"div",29),v.Tb(5,"div",57),v.Tb(6,"label"),v.Lc(7),v.hc(8,"translate"),v.Tb(9,"span",58),v.Lc(10,"*"),v.Sb(),v.Sb(),v.Tb(11,"ejs-textbox",59,60),v.ec("blur",(function(){return v.Bc(i),v.gc().editRoleFocusOut()}))("change",(function(){return v.Bc(i),v.gc().editRoleChange()}))("created",(function(){return v.Bc(i),v.gc().controlCreated("editRoleNameField")}))("input",(function(e){return v.Bc(i),v.gc().editRoleInput(e)}))("focus",(function(){return v.Bc(i),v.gc().editRoleFocus()})),v.hc(13,"translate"),v.Sb(),v.Jc(14,it,4,3,"div",29),v.Jc(15,ot,2,1,"div",29),v.Sb(),v.Tb(16,"div",57),v.Tb(17,"label"),v.Lc(18),v.hc(19,"translate"),v.Sb(),v.Tb(20,"ejs-textbox",61,62),v.ec("change",(function(){return v.Bc(i),v.gc().editRoleDescriptionChange()})),v.hc(22,"translate"),v.Sb(),v.Jc(23,ct,2,1,"div",29),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.xb(2),v.nc("hidden",!n.editRole),v.xb(1),v.nc("ngIf",n.errorMessage),v.xb(1),v.nc("ngIf",n.noChangesValidation),v.xb(3),v.Nc(" ",v.ic(8,14,"ROLENAME")," "),v.xb(4),v.oc("placeholder",v.ic(13,16,"TEXTBOXPLACEHOLDER")),v.nc("value",n.dialogRoleName)("htmlAttributes",n.inputAttribute),v.xb(3),v.nc("ngIf",n.isRequired),v.xb(1),v.nc("ngIf",n.editRoleNameError),v.xb(3),v.Nc(" ",v.ic(19,18,"DESCRIPTION")," "),v.xb(2),v.oc("placeholder",v.ic(22,20,"TEXTBOXPLACEHOLDER")),v.nc("value",n.dialogRoleDescription)("htmlAttributes",n.textAreaAttribute),v.xb(3),v.nc("ngIf",n.editRoleDescriptionError)}}function lt(e,t){1&e&&v.Pb(0)}function st(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div"),v.Tb(1,"button",65),v.ec("click",(function(){return v.Bc(i),v.gc(2).updateCreateRole()})),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Tb(4,"button",66),v.ec("click",(function(){return v.Bc(i),v.gc(2).cancelPermissionDialog()})),v.Lc(5),v.hc(6,"translate"),v.Sb(),v.Sb()}2&e&&(v.xb(2),v.Mc(v.ic(3,2,"UPDATE")),v.xb(3),v.Mc(v.ic(6,4,"CANCEL")))}function dt(e,t){if(1&e&&(v.Tb(0,"div",63),v.Tb(1,"div",64),v.Jc(2,st,7,6,"div",29),v.Sb(),v.Sb()),2&e){var i=v.gc();v.xb(2),v.nc("ngIf",i.roleId>0)}}function ut(e,t){if(1&e&&(v.Ob(0,"span",67),v.hc(1,"safe")),2&e){var i=v.gc();v.nc("innerHTML",v.jc(1,1,i.commonInputValidationErrorMessage,"html"),v.Cc)}}function ht(e,t){1&e&&(v.Tb(0,"span",87),v.Tb(1,"span"),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"SYSTEM"),""))}function bt(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",88),v.ec("click",(function(){return v.Bc(i),v.gc(2).editClick()})),v.hc(1,"translate"),v.Sb()}2&e&&v.yb("data-title",v.ic(1,1,"EDIT"))}function pt(e,t){if(1&e&&(v.Tb(0,"div",74),v.Tb(1,"span",89),v.Lc(2),v.Sb(),v.Sb()),2&e){var i=v.gc(2);v.xb(1),v.yb("data-title",i.description),v.xb(1),v.Mc(i.description)}}function gt(e,t){1&e&&(v.Tb(0,"div",90),v.Ob(1,"div",91),v.Tb(2,"div"),v.Lc(3),v.hc(4,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(3),v.Nc(" ",v.ic(4,1,"ROLESINFOLABEL"),""))}var mt=function(e){return{"set-padding":e}};function ft(e,t){if(1&e&&(v.Tb(0,"div",92),v.Tb(1,"div"),v.Ob(2,"app-permisson-list",93,94),v.Sb(),v.Sb()),2&e){var i=v.gc(2);v.nc("ngClass",v.tc(3,mt,!i.isGridPage)),v.xb(2),v.nc("roleId",i.roleId)("canEdit",i.canEdit)}}function vt(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",110),v.Tb(1,"div",111),v.Lc(2),v.Sb(),v.Tb(3,"div",44),v.Tb(4,"span",112),v.ec("click",(function(){v.Bc(i);var e=t.$implicit;return v.gc(3).userDetails(e)})),v.Lc(5),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=t.$implicit;v.xb(1),v.Ic("background-color",n.colorCode),v.xb(1),v.Nc(" ",n.shortCode," "),v.xb(2),v.yb("data-title",n.userName),v.xb(1),v.Nc(" ",n.userName," ")}}function St(e,t){if(1&e){var i=v.Ub();v.Tb(0,"span",113),v.ec("click",(function(){v.Bc(i);var e=t.$implicit;return v.gc(3).openRemoveUserDialog(e)})),v.hc(1,"translate"),v.Sb()}2&e&&v.yb("data-title",v.ic(1,1,"REMOVEAGENT"))}function Rt(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",95),v.Tb(1,"div",96),v.Tb(2,"div",97),v.Tb(3,"div",98),v.Tb(4,"div",99),v.Tb(5,"ejs-textbox",100,101),v.ec("change",(function(){return v.Bc(i),v.gc(2).searchNodes()})),v.hc(7,"translate"),v.Sb(),v.Sb(),v.Tb(8,"div",102),v.Tb(9,"button",103),v.ec("click",(function(){return v.Bc(i),v.gc(2).addAgentClick()})),v.Lc(10),v.hc(11,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(12,"ejs-grid",104,105),v.ec("dataBound",(function(){return v.Bc(i),v.gc(2).agentGridDataBound()})),v.Tb(14,"e-columns"),v.Tb(15,"e-column",106),v.hc(16,"translate"),v.Jc(17,vt,6,5,"ng-template",null,107,v.Kc),v.Sb(),v.Ob(19,"e-column",108),v.hc(20,"translate"),v.Tb(21,"e-column",109),v.hc(22,"translate"),v.Jc(23,St,2,3,"ng-template",null,107,v.Kc),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=v.gc(2);v.xb(5),v.oc("placeholder",v.ic(7,10,"SEARCH")),v.xb(5),v.Nc(" ",v.ic(11,12,"ADDAGENT")," "),v.xb(2),v.nc("dataSource",n.membersList)("allowSorting",!0)("allowPaging",!0)("pageSettings",n.pageSettings)("allowResizing",!0),v.xb(3),v.oc("headerText",v.ic(16,14,"AGENT")),v.xb(4),v.oc("headerText",v.ic(20,16,"EMAIL")),v.xb(2),v.oc("headerText",v.ic(22,18,"ACTION"))}}var xt=function(e){return{background:e}};function Tt(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",68),v.Tb(1,"div",69),v.Tb(2,"div",70),v.Tb(3,"div",71),v.Lc(4),v.Sb(),v.Tb(5,"div",72),v.Tb(6,"div",73),v.Tb(7,"div"),v.Tb(8,"div",74),v.Tb(9,"span",75),v.Lc(10),v.Sb(),v.Sb(),v.Sb(),v.Jc(11,ht,4,3,"span",76),v.Jc(12,bt,2,3,"div",77),v.Sb(),v.Jc(13,pt,3,2,"div",78),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Jc(14,gt,5,3,"div",79),v.Tb(15,"div",80),v.Tb(16,"div",81),v.Tb(17,"div",82),v.Tb(18,"ejs-tab",83,84),v.ec("selecting",(function(){return v.Bc(i),v.gc().tabSelecting()})),v.Tb(20,"e-tabitems"),v.Tb(21,"e-tabitem",85),v.Jc(22,ft,4,5,"ng-template",null,4,v.Kc),v.Sb(),v.Tb(24,"e-tabitem",86),v.Jc(25,Rt,25,20,"ng-template",null,4,v.Kc),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.xb(3),v.nc("ngStyle",v.tc(11,xt,n.colorCode)),v.xb(1),v.Mc(n.shortCode),v.xb(5),v.yb("data-title",n.roleName),v.xb(1),v.Mc(n.roleName),v.xb(1),v.nc("ngIf",n.data.isDefault),v.xb(1),v.nc("ngIf",!n.data.isDefault),v.xb(1),v.nc("ngIf",n.data.description),v.xb(1),v.nc("ngIf",n.data.isDefault),v.xb(4),v.nc("animation",n.tabAnimationSettings),v.xb(3),v.nc("header",n.tabHeaders[0]),v.xb(3),v.nc("header",n.tabHeaders[1])}}var Ot,Et,Mt,Ct=function(e){return{"set-height-100":e}},Dt=((Et=function(){function t(i,n,o,r,c,a,l,s){var d=this;e(this,t),this.route=i,this.router=n,this.appRootService=o,this.roleService=r,this.toastService=c,this.roleRootService=a,this.seoService=l,this.spinService=s,this.tabAnimationSettings={next:{effect:"None"},previous:{effect:"None"}},this.tabHeaders=[{text:Object(g.a)("PERMISSIONS")},{text:Object(g.a)("AGENTS")}],this.fields={text:"displayName",value:"userId"},this.canEdit=!0,this.agentItemTemplate=Object(p.B)(),this.agentTempData=[],this.agentValue=[],this.showAgentList=!1,this.filterAgent=[],this.filterAgentArray=[],this.tempData=[],this.showStatusHeader=!1,this.canRemoveAgent=!0,this.isMembersTab=!1,this.noChangesValidation=!1,this.inputAttribute={maxlength:m.s,autocomplete:"anyrandomstring"},this.textAreaAttribute={maxlength:m.M,autocomplete:"anyrandomstring"},this.roleId=parseInt(this.route.snapshot.paramMap.get("roleId"),10),this.roleDetail=this.route.data.subscribe((function(e){d.isMembersTab=!Object(h.X)(history.state.data)&&history.state.data.isMembers,d.data=e.data,d.dialogRoleName=d.data.roleName,d.dialogRoleDescription=d.data.description,d.roleName=d.data.roleName,d.description=d.data.description,d.canEdit=d.data.canEdit,d.shortCode=d.data.shortCode,d.colorCode=d.data.colorCode,d.spinService.hideSpinner()})),this.data||this.router.navigateByUrl("error",{state:Object(g.a)("ROLENOTEXIST"),skipLocationChange:!0});var u=Object(g.a)("ADMIN")+" / "+Object(g.a)("ROLESPERMISSION")+" / "+Object(g.a)("DETAIL")+",/admin/roles-permissions",b=Object(g.a)("EDITROLE")+" | "+Object(g.a)("ADMIN");this.appRootService.setAppTitleText(u),this.seoService.setHeaderElements({title:b}),this.appRootService.isSideBarNeeded(!0),this.appRootService.setBrandDropDownVisibility(!1),this.appRootService.getNavigateUrl("/admin/roles-permissions")}return i(t,[{key:"userDetails",value:function(e){this.router.navigateByUrl("/admin/agents/"+e.userId)}},{key:"ngOnInit",value:function(){var e=this;this.pageSettings={pageSize:50},this.membersList=new s.a({url:u.a.MemberList+this.roleId+"/members",adaptor:new b.b}),this.userList=new s.a({url:u.a.UserList,adaptor:new b.b}),this.roleDetailError=this.roleRootService.httpRoleErrorIntercept.subscribe((function(t){null!=t&&(e.spinService.hideSpinner(),e.errorMessage=t)})),this.commonInputValidationErrorMessage=p.e}},{key:"ngAfterViewInit",value:function(){var e=this;this.isMembersTab?(this.roleTab.selectedItem=1,setTimeout((function(){e.isGridPage=!0}))):this.roleTab.selectedItem=2}},{key:"addAgentClick",value:function(){this.canLoadGrid=!1,this.roleMemberDialog.showCloseIcon=!0,this.roleMemberDialog.show(),this.addMember=!0,this.removeMember=!1,this.roleMember.value=null,this.isRequired=!1,this.errorMessage=null}},{key:"agentGridDataBound",value:function(){Object(p.a)(this.grid)}},{key:"addMemberCreated",value:function(){var e=this;setTimeout((function(){e.roleMember&&e.roleMember.element&&Object(p.h)(e.roleMember.element)}))}},{key:"addMemberFocusOut",value:function(){this.isRequired=!this.roleMember.value}},{key:"addMemberChange",value:function(){null!=this.roleMember.value&&this.roleMember.value.length>0?this.isRequired=!1:this.roleMember.value=null}},{key:"showMembersList",value:function(){Object(h.X)(this.roleMember.value)?this.isRequired=!0:this.roleMember.value.length>0&&(this.isRequired=!1,this.filterAgent=[],this.tempData=[],this.addMemberList())}},{key:"addMemberList",value:function(){var e=this;this.removeObject(),this.showStatusHeader=!1,this.canRemoveAgent=!0,this.agentTempData=this.roleMember.element.ej2_instances[0].listData,this.agentTempData.length>0&&!Object(h.X)(this.roleMember.value)&&(this.agentValue=this.roleMember.value,this.agentTempData.map((function(t){e.agentValue.map((function(i){t.userId===i&&e.filterAgentArray.push(t)}))})),this.filterAgentArray.length>0&&(this.showAgentList=!0,this.filterAgent=this.filterAgentArray.filter((function(e,t,i){return t===i.indexOf(e)})),this.updateButton.isPrimary=!0,this.updateButton.disabled=!1)),this.roleMember.value=null,this.updateUserMessage()}},{key:"removeMemberFromList",value:function(e){var t=this;this.errorMessage=null,this.filterAgentArray=[],this.filterAgent.map((function(i){i.userId!==e&&t.filterAgentArray.push(i)})),this.filterAgent=this.filterAgentArray,0===this.filterAgent.length&&(this.showAgentList=!1,this.updateButton.isPrimary=!1,this.updateButton.disabled=!0),this.updateUserMessage()}},{key:"updateUserMessage",value:function(){var e=this.filterAgent.filter((function(e){return!e.isSuccess&&!Object(h.X)(e.isSuccess)})).length>0,t=this.filterAgent.filter((function(e){return e.isSuccess&&!Object(h.X)(e.isSuccess)})).length>0;e?(this.errorMessage=this.filterAgent.filter((function(e){return!e.isSuccess})).length+" "+Object(g.a)("USER(S)FAILEDTOADD"),this.isError=!0):t?(this.errorMessage=this.filterAgent.length+" "+Object(g.a)("USERSADDED"),this.isError=!1):(this.errorMessage=this.filterAgent.length+" "+Object(g.a)("USERSWILLBEADDED"),this.isError=!1)}},{key:"openRemoveUserDialog",value:function(e){this.userId=+e.userId;var t="<span>"+Object(g.a)("REMOVEAGENTALERT")+' </span><span class="font-500">'+e.userName+" </span><span>"+Object(g.a)("FROMTHISROLE")+"</span>";Object(p.b)(this.updateRemoveUser,this.cancelDialog,this,Object(g.a)("REMOVEAGENT"),t,Object(g.a)("YES")+", "+Object(g.a)("REMOVE"))}},{key:"cancelDialog",value:function(){this.removeObject(),this.roleMemberDialog.hide(),this.isRequired=null,this.errorMessage=null,this.roleMember.value=null,this.deleteDialog&&this.deleteDialog.hide(),this.updateButton.isPrimary=!1,this.updateButton.disabled=!0,this.showAgentList=!1,this.filterAgent=null,this.canLoadGrid&&this.loadGrid(),this.canRemoveAgent=!0,this.filterAgentArray=[]}},{key:"overlayClick",value:function(){this.isRequired=null,this.errorMessage=null,this.roleMember.value=null,this.showAgentList=!1,this.filterAgent=null,this.roleMemberDialog.hide(),this.roleDialog.hide(),this.noChangesValidation=null,this.editRole=!1,this.dialogRoleName=null,this.dialogRoleDescription=null,this.editRoleName.value=null,this.editRoleDescription.value=null}},{key:"openAddUserDialog",value:function(){this.roleMember.value=null,this.roleMemberDialog.showCloseIcon=!0,this.roleMemberDialog.width="450px",this.roleMemberDialog.show(),this.addMember=!0,this.removeMember=!1,this.isRequired=!1,this.errorMessage=null,this.showAgentList=!1,this.filterAgent=null}},{key:"roleDialogOpen",value:function(){var e=this;this.addMember&&setTimeout((function(){e.roleMember.focusIn(),e.errorMessage="0 "+Object(g.a)("USERSWILLBEADDED"),e.isError=!1}))}},{key:"updateRemoveUser",value:function(){var e=this;this.spinService.showSpinner(),this.roleService.removeMember(this.userId,this.roleId).then((function(t){t&&(e.spinService.hideSpinner(),e.deleteDialog.hide(),e.toastService.successToast(Object(g.a)("AGENTREMOVED")),e.loadGrid(),e.isRequired=!1)}))}},{key:"getAgentIds",value:function(){return this.filterAgent.map((function(e){return e.userId}))}},{key:"updateAddMember",value:function(){var e=this;if(this.errorMessage=null,!Object(h.X)(this.filterAgent)&&this.filterAgent.length>0){this.spinService.showSpinner();var t=this.getAgentIds();this.isRequired=!1,this.roleService.addMember(t,this.roleId).then((function(t){t&&(e.spinService.hideSpinner(),e.roleMemberDialog.hide(),e.toastService.successToast(Object(g.a)("AGENTADDED")),e.loadGrid(),e.isRequired=!1)})).catch((function(t){e.spinService.hideSpinner(),400===t.status&&(e.roleMember.focusIn(),Object(h.X)(t.error.result)||(e.canLoadGrid=t.error.result.filter((function(e){return e.isSuccess})).length>0,e.addObject(t.error.result),e.errorMessage=t.error.result.filter((function(e){return!e.isSuccess})).length+" "+Object(g.a)("USER(S)FAILEDTOADD"),e.isError=!0))})).finally((function(){e.updateButton.isPrimary=!1,e.updateButton.disabled=!0,e.filterAgentArray=[]}))}else this.roleMember.focusIn(),this.isRequired=!0,this.errorMessage=null}},{key:"addObject",value:function(e){this.canRemoveAgent=!1,this.filterAgent.map((function(t){e.map((function(e){t.userId===e.id&&(t.isSuccess=e.isSuccess)}))})),this.filterAgent=this.filterAgent.filter((function(e){return!e.isSuccess}))}},{key:"removeObject",value:function(){this.tempData=this.roleMember.element.ej2_instances[0].listData,Object(h.X)(this.tempData)||this.tempData.length>0&&this.tempData.map((function(e){Object(h.X)(e.isSuccess)||delete e.isSuccess}))}},{key:"updateCreateRole",value:function(){var e=this;this.spinService.showSpinner();var t=this.permissionListRef.getPermissionLists();this.roleService.editPermission({roleId:this.roleId,permissions:t}).then((function(t){e.spinService.hideSpinner(),t&&e.toastService.successToast(t.message),e.cancelPermissionDialog()})).catch((function(t){e.spinService.hideSpinner(),t.error&&t.error.errors.length>0&&e.toastService.failureToast(t.error.errors[0].errorMessage)}))}},{key:"cancelPermissionDialog",value:function(){this.router.navigateByUrl("/admin/roles-permissions")}},{key:"focusIn",value:function(){this.isRequired=!1}},{key:"dialogClose",value:function(){this.removeObject(),this.isRequired=null,this.errorMessage=null,this.roleMember.value=null,this.showAgentList=!1,this.filterAgent=null,this.canLoadGrid&&this.loadGrid(),this.updateButton.isPrimary=!1,this.updateButton.disabled=!0,this.canRemoveAgent=!0,this.filterAgentArray=[],this.noChangesValidation=null,this.editRole=!1,this.dialogRoleName=null,this.dialogRoleDescription=null,this.editRoleName.value=null,this.editRoleDescription.value=null}},{key:"dialogCreated",value:function(){this.dialogCreate=!0}},{key:"ngOnDestroy",value:function(){this.roleMemberDialog&&this.dialogCreate&&this.roleMemberDialog.element&&Object(h.I)(this.roleMemberDialog.element),this.roleDialog&&this.dialogCreate&&this.roleDialog.element&&Object(h.I)(this.roleDialog.element),this.roleDetail.unsubscribe(),this.roleDetailError.unsubscribe()}},{key:"loadGrid",value:function(){this.membersList=new s.a({url:u.a.MemberList+this.roleId+"/members",adaptor:new b.b})}},{key:"tabSelecting",value:function(){this.isGridPage="1"===this.roleTab.selectingID}},{key:"editClick",value:function(){this.editRole=!0,this.dialogRoleName=this.roleName,this.dialogRoleDescription=this.description,this.roleDialog.show()}},{key:"editRoleFocusOut",value:function(){if(this.isRequired=!this.editRoleName.value,!this.isRequired){var e=Object(p.d)(this.editRoleName.value);this.editRoleNameError=!!e}}},{key:"editRoleChange",value:function(){if(null!=this.editRoleName.value){this.isRequired=!1,this.noChangesValidation=!1,this.errorMessage=null;var e=Object(p.d)(this.editRoleName.value);this.editRoleNameError=!!e}else this.isRequired=!0,this.editRoleNameError=!1}},{key:"controlCreated",value:function(e){var t=this;setTimeout((function(){var i=t.addEditRoleForm.nativeElement;Object(p.h)(i.querySelector("#"+e))}))}},{key:"editRoleInput",value:function(e){var t=e.value;this.isRequired=!(!Object(h.X)(t)&&""!==t.trim());var i=Object(p.d)(t);this.editRoleNameError=!!i}},{key:"editRoleFocus",value:function(){this.isRequired=!1,this.editRoleNameError=!1}},{key:"editRoleDescriptionChange",value:function(){if(null!=this.editRoleDescription.value){var e=Object(p.d)(this.editRoleDescription.value);this.editRoleDescriptionError=!!e}else this.editRoleDescriptionError=!1}},{key:"cancelEditRoleDialog",value:function(){this.roleDialog.hide(),this.isRequired=!1,this.noChangesValidation=!1,this.errorMessage=null,this.editRole=!1,this.dialogRoleName=null,this.dialogRoleDescription=null,this.editRoleName.value=null,this.editRoleDescription.value=null}},{key:"updateEditRole",value:function(){var e=this;if(this.spinService.showSpinner(),this.roleId=+this.roleId,this.editRoleName.value.trim()===this.dialogRoleName&&(this.editRoleDescription.value&&this.editRoleDescription.value.trim()===this.dialogRoleDescription||this.editRoleDescription.value===this.dialogRoleDescription))this.spinService.hideSpinner(),this.noChangesValidation=!0,this.isRequired=null;else if(0===this.editRoleName.value.length||""===this.editRoleName.value)this.spinService.hideSpinner(),this.isRequired=!0,this.noChangesValidation=null;else if(this.editRoleNameError||this.editRoleDescriptionError)this.spinService.hideSpinner();else{var t={roleId:this.roleId,roleName:this.editRoleName.value.trim(),description:this.editRoleDescription.value?this.editRoleDescription.value.trim():null};this.errorMessage=null,this.noChangesValidation=!1,this.roleService.editRole(t).then((function(t){t&&(e.spinService.hideSpinner(),e.roleDialog.hide(),e.toastService.successToast(Object(g.a)("ROLEUPDATED")),e.isRequired=!1,e.shortCode=t.shortCode,e.colorCode=t.colorCode,e.roleName=e.editRoleName.value.trim(),e.description=e.editRoleDescription.value?e.editRoleDescription.value.trim():null)}))}}},{key:"searchNodes",value:function(){var e=this.searchAgent.value.trim();this.grid.search(e)}}]),t}()).\u0275fac=function(e){return new(e||Et)(v.Nb(l.a),v.Nb(l.g),v.Nb(S.a),v.Nb(D),v.Nb(R.a),v.Nb(C),v.Nb(T.a),v.Nb(M.a))},Et.\u0275cmp=v.Hb({type:Et,selectors:[["app-role-details"]],viewQuery:function(e,t){var i;1&e&&(v.Qc(Ie,!0),v.Qc(ke,!0),v.Qc(Ne,!0),v.Qc(Le,!0),v.Qc(Ae,!0),v.Qc(Pe,!0),v.Qc(we,!0),v.Qc(je,!0),v.Qc(_e,!0),v.Qc(Be,!0),v.Qc(qe,!0),v.Qc(Fe,!0)),2&e&&(v.xc(i=v.fc())&&(t.settingsSideBar=i.first),v.xc(i=v.fc())&&(t.roleMemberDialog=i.first),v.xc(i=v.fc())&&(t.roleMember=i.first),v.xc(i=v.fc())&&(t.grid=i.first),v.xc(i=v.fc())&&(t.addEditRoleForm=i.first),v.xc(i=v.fc())&&(t.roleTab=i.first),v.xc(i=v.fc())&&(t.permissionListRef=i.first),v.xc(i=v.fc())&&(t.updateButton=i.first),v.xc(i=v.fc())&&(t.roleDialog=i.first),v.xc(i=v.fc())&&(t.editRoleName=i.first),v.xc(i=v.fc())&&(t.editRoleDescription=i.first),v.xc(i=v.fc())&&(t.searchAgent=i.first))},decls:29,vars:7,consts:[["id","roleDetailDialog","width","500","isModal","true","showCloseIcon","true","closeOnEscape","true","height","600","cssClass","add-member-dialog",3,"visible","close","created","open"],["roleMemberDialog",""],["header",""],["footerTemplate",""],["content",""],["id","roleListDialog","width","400px","isModal","true","showCloseIcon","true","closeOnEscape","true","height","Auto",3,"visible","overlayClick","close","created"],["roleDialog",""],[1,"h-100"],["contentRoleForm",""],[1,"permission-form"],[1,"permission-overflow","overflow-auto-align",3,"ngClass"],[1,"row","pt-3"],[4,"ngTemplateOutlet"],["class","action-buttons",4,"ngIf"],["errorInputValidation",""],["mainContent",""],[3,"hidden"],["ejs-button","","cssClass","e-flat",3,"click"],["ejs-button","",3,"disabled","click"],["updateButton",""],[1,"add-agent-container",3,"hidden"],[1,"email-selection"],[1,"flex-horizontal"],[1,"pt-3",2,"width","85%"],["floatLabelType","Never","mode","CheckBox",3,"dataSource","fields","placeholder","allowFiltering","filterBarPlaceholder","itemTemplate","maximumSelectionLength","change","created"],["roleMember",""],[1,"pl-3","pt-3"],["ejs-button","","cssClass","e-outline e-flat",3,"isPrimary","click"],[1,"pl-2","pr-2"],[4,"ngIf"],[1,"email-list"],["class","email-list-container",4,"ngIf"],["class","error-block",3,"ngClass",4,"ngIf"],[1,"required"],[1,"email-list-container"],[1,"flex-horizontal","pt-2","list-header"],[1,"pl-2","font-500",2,"width","40%"],[1,"font-500","text-center",2,"width","20%"],[1,"border-top","list-item"],[4,"ngFor","ngForOf"],[1,"flex-horizontal","secondary","pl-2","py-2"],[1,"flex-horizontal","pr-2",2,"width","40%"],[1,"pr-3"],[1,"e-avatar","e-avatar-small","e-avatar-circle","agent-avatar",2,"text-indent","initial"],[1,"no-wrap","ellipsis"],[1,"e-text"],[1,"no-wrap","ellipsis","pr-2",2,"width","40%"],[1,"flex-horizontal","justify-content-center",2,"width","20%"],[1,"hd-icon","hd-close","action-button","p-2","icon-font-size","cursor-pointer",3,"click"],["class","border-bottom ml-1 mr-1",4,"ngIf"],[1,"hd-icon","hd-toast-success","hd-success","success-icon"],[1,"hd-icon","hd-warning-icon","required","success-icon"],[1,"border-bottom","ml-1","mr-1"],[1,"error-block",3,"ngClass"],[3,"innerHTML"],["data-ripple","true","autofocus","",1,"e-control","e-btn","e-secondary","e-flat",3,"click"],["data-ripple","true",1,"e-control","e-btn","e-primary","e-flat",3,"click"],[1,"form-group","pt-3"],[1,"error"],["id","editRoleNameField","autocomplete","off",3,"placeholder","value","htmlAttributes","blur","change","created","input","focus"],["editRoleName",""],["data-id","editRoleDescription","autocomplete","off",3,"placeholder","value","htmlAttributes","change"],["editRoleDescription",""],[1,"action-buttons"],[1,"row","col-lg-8"],["data-ripple","true",1,"e-control","e-btn","e-primary","mr-3",3,"click"],["data-ripple","true",1,"e-control","e-outline","e-btn","e-secondary",3,"click"],[1,"error",3,"innerHTML"],[1,"row","container"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","flex"],[1,"flex-horizontal","pl-4"],[1,"groups-and-roles-label",3,"ngStyle"],[1,"flex-vertical","pl-3"],[1,"flex-horizontal","label-text"],[1,"view-title-text","ellipsis"],[1,"h6"],["class","status ellipsis no-wrap left-spacing custom-chip",4,"ngIf"],["class","bd-icon bd-icon-edit bd-icon-hover-bg cursor-pointer",3,"click",4,"ngIf"],["class","view-title-text ellipsis",4,"ngIf"],["class","secondary padding-10 information-content","style","width: 100%; margin: 16px 40px;",4,"ngIf"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","flex","pl-4","pt-3"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12","px-0"],[1,"no-margin","no-padding"],["ngClass","permission-tab",3,"animation","selecting"],["roleTab",""],["cssClass","permission-member",3,"header"],[3,"header"],[1,"status","ellipsis","no-wrap","left-spacing","custom-chip"],[1,"bd-icon","bd-icon-edit","bd-icon-hover-bg","cursor-pointer",3,"click"],[1,"secondary","font-13","pb-2","pt-2"],[1,"secondary","padding-10","information-content",2,"width","100%","margin","16px 40px"],[1,"bd-icon","bd-icon-info","information-icon","information-icon-position"],[1,"pt-2","flex-vertical",3,"ngClass"],[3,"roleId","canEdit"],["permission",""],[1,"pl-3","pr-4","role-detail-grid"],[1,"row","no-padding"],[1,"grid-menu-bar"],[1,"grid-menu"],[1,"search-box"],["id","search","showClearButton","true","autocomplete","off","maxlength","150",3,"placeholder","change"],["searchAgent",""],[1,"add-button-container"],["type","button","ejs-button","",1,"e-btn","add-agent-button","e-outline","e-primary",3,"click"],[3,"dataSource","allowSorting","allowPaging","pageSettings","allowResizing","dataBound"],["agentGrid",""],["field","userName","minWidth","200","width","250",3,"headerText"],["template",""],["field","emailId","minWidth","300","width","350","clipMode","EllipsisWithTooltip",3,"headerText"],["minWidth","100","width","100","clipMode","EllipsisWithTooltip","textAlign","Center",3,"headerText"],[1,"flex-horizontal","secondary","p-1"],[1,"e-avatar","e-avatar-small","e-avatar-circle"],[1,"primary-link-color","cursor-pointer",3,"click"],[1,"hd-icon","hd-close","action-button","padding-10","icon-font-size","cursor-pointer",2,"font-size","14px",3,"click"]],template:function(e,t){if(1&e&&(v.Tb(0,"div"),v.Tb(1,"ejs-dialog",0,1),v.ec("close",(function(){return t.dialogClose()}))("created",(function(){return t.dialogCreated()}))("open",(function(){return t.roleDialogOpen()})),v.Jc(3,Je,3,4,"ng-template",null,2,v.Kc),v.Jc(5,Ue,8,8,"ng-template",null,3,v.Kc),v.Jc(7,We,17,19,"ng-template",null,4,v.Kc),v.Sb(),v.Sb(),v.Tb(9,"div"),v.Tb(10,"ejs-dialog",5,6),v.ec("overlayClick",(function(){return t.overlayClick()}))("close",(function(){return t.dialogClose()}))("created",(function(){return t.dialogCreated()})),v.Jc(12,Ye,3,4,"ng-template",null,2,v.Kc),v.Jc(14,Ze,7,7,"ng-template",null,3,v.Kc),v.Jc(16,at,24,22,"ng-template",null,4,v.Kc),v.Sb(),v.Sb(),v.Tb(18,"div",7,8),v.Tb(20,"div",9),v.Tb(21,"div",10),v.Tb(22,"div",11),v.Jc(23,lt,1,0,"ng-container",12),v.Sb(),v.Sb(),v.Jc(24,dt,3,1,"div",13),v.Sb(),v.Sb(),v.Jc(25,ut,2,4,"ng-template",null,14,v.Kc),v.Jc(27,Tt,27,13,"ng-template",null,15,v.Kc)),2&e){var i=v.yc(28);v.xb(1),v.nc("visible",!1),v.xb(9),v.nc("visible",!1),v.xb(11),v.nc("ngClass",v.tc(5,Ct,t.isGridPage||t.data.isDefault)),v.xb(2),v.nc("ngTemplateOutlet",i),v.xb(1),v.nc("ngIf",!t.isGridPage&&t.canEdit)}},directives:[d.b,a.l,a.r,a.n,I.c,L.h,a.m,y.i,a.o,N.m,N.o,N.n,ye,k.k,k.e,k.b,k.d,k.a],pipes:[A.a,P.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.grid-table-view[_ngcontent-%COMP%]{border:solid #e2e8f0;border-width:1px 0 0;text-align:center}.permission-form[_ngcontent-%COMP%]{height:100%}.permission-form[_ngcontent-%COMP%]   .form-builder[_ngcontent-%COMP%]{margin:0 auto 0 5%}.action-buttons[_ngcontent-%COMP%]{background:#f7fafc;border-top:1px solid #e8eaed;bottom:0;height:50px;left:0;margin-left:0;padding:10px 10px 10px 24px;position:fixed;width:100%}.permission-overflow[_ngcontent-%COMP%]{height:calc(100% - 50px);max-height:100%!important;top:0!important}.overflow-auto-align[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.set-height-100[_ngcontent-%COMP%]{height:100%!important}.permission-tab[_ngcontent-%COMP%]   .e-tab-header[_ngcontent-%COMP%]{padding-left:1rem!important}.permission-tab[_ngcontent-%COMP%] > .e-content[_ngcontent-%COMP%]{margin-top:15px}.permission-tab[_ngcontent-%COMP%]   .set-padding[_ngcontent-%COMP%]{padding-left:1rem!important}.padding-bottom-11px[_ngcontent-%COMP%]{padding-bottom:11px}.custom-chip[_ngcontent-%COMP%]{background:#e2e8f0;border:1px solid #cbd2e0;border-radius:16px;color:#4a5568;font-size:12px;height:20px;line-height:18px;padding:0 10px}","body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.icon-font-size[_ngcontent-%COMP%]{font-size:10px!important}.add-member-dialog.e-dialog[_ngcontent-%COMP%]{max-height:70%!important}.add-member-dialog[_ngcontent-%COMP%]   .e-split-btn-wrapper[_ngcontent-%COMP%]   .e-btn[_ngcontent-%COMP%]{background-color:#fff!important}.add-member-dialog[_ngcontent-%COMP%]   .hd-close[_ngcontent-%COMP%]{height:25px!important}.add-member-dialog[_ngcontent-%COMP%]   .e-dlg-content[_ngcontent-%COMP%]{padding:0}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]{height:100%}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]   .email-selection[_ngcontent-%COMP%]{height:20%;padding:0 16px}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]   .email-list[_ngcontent-%COMP%]{height:70%;padding:0 16px}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]   .email-list[_ngcontent-%COMP%]   .email-list-container[_ngcontent-%COMP%]{height:100%;padding-bottom:10px}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]   .email-list[_ngcontent-%COMP%]   .email-list-container[_ngcontent-%COMP%]   .list-header[_ngcontent-%COMP%]{height:35%}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]   .email-list[_ngcontent-%COMP%]   .email-list-container[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{height:65%;overflow:auto}.add-member-dialog[_ngcontent-%COMP%]   .add-agent-container[_ngcontent-%COMP%]   .error-block[_ngcontent-%COMP%]{background:#e5efff;font-size:12px;height:10%;padding-top:5px;text-align:center}.hd-success[_ngcontent-%COMP%]{color:#28a745}.success-icon[_ngcontent-%COMP%]{font-size:14px!important}.border-margin[_ngcontent-%COMP%]{margin:12px 4px 0}.add-button[_ngcontent-%COMP%]{height:34px;width:70px}.agent-avatar[_ngcontent-%COMP%]{height:24px!important;width:24px!important}.btn-text-weight[_ngcontent-%COMP%]{font-weight:400!important}.text-color[_ngcontent-%COMP%]{color:var(--secondary-color)}.view-title-text[_ngcontent-%COMP%]{max-width:450px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.label-text[_ngcontent-%COMP%]   .hd-data-edit[_ngcontent-%COMP%]:hover{background-color:rgba(5,101,255,.04);border-color:transparent;color:#0565ff}.groups-and-roles-label[_ngcontent-%COMP%]{background:#007bff;border-radius:50%;color:#fff;font-size:20px;height:55px;line-height:55px;text-align:center;vertical-align:middle;width:55px}.add-member-grid[_ngcontent-%COMP%]   .e-split-btn-wrapper[_ngcontent-%COMP%]   .e-btn[_ngcontent-%COMP%]{background:inherit!important}"]}),Et),yt=((Ot=function(){function t(i,n,o){e(this,t),this.http=i,this.roleRootService=n,this.spinService=o}return i(t,[{key:"resolve",value:function(e){var t=this;return this.spinService.showSpinner(),this.http.get(u.a.RoleDetail+e.params.roleId).toPromise().catch((function(e){t.roleRootService.roleModuleErrorHandling(e,"roleDetail")}))}}]),t}()).\u0275fac=function(e){return new(e||Ot)(v.bc(O.b),v.bc(C),v.bc(M.a))},Ot.\u0275prov=v.Jb({token:Ot,factory:Ot.\u0275fac}),Ot),It=o("mrjb"),kt=((Mt=function(){function t(i,n,o){e(this,t),this.http=i,this.roleRootService=n,this.spinService=o}return i(t,[{key:"resolve",value:function(e){var t=this;this.spinService.showSpinner();var i=Object(h.X)(e.params.roleId)?"0":e.params.roleId,n=Object(p.i)(u.a.PermissionList,"roleid",i);return this.http.get(n).toPromise().catch((function(e){t.roleRootService.roleModuleErrorHandling(e,"permissionListDetail")}))}}]),t}()).\u0275fac=function(e){return new(e||Mt)(v.bc(O.b),v.bc(C),v.bc(M.a))},Mt.\u0275prov=v.Jb({token:Mt,factory:Mt.\u0275fac}),Mt),Nt=["roleName"],Lt=["roleDescription"],At=["contentRoleForm"],Pt=["permission"];function wt(e,t){1&e&&v.Pb(0)}function jt(e,t){if(1&e&&(v.Tb(0,"div"),v.Ob(1,"span",24),v.hc(2,"safe"),v.Sb()),2&e){var i=v.gc(2);v.xb(1),v.nc("innerHTML",v.jc(2,1,i.errorMessage,"html"),v.Cc)}}function _t(e,t){1&e&&(v.Tb(0,"div"),v.Tb(1,"span",25),v.Lc(2),v.hc(3,"translate"),v.Sb(),v.Sb()),2&e&&(v.xb(2),v.Nc(" ",v.ic(3,1,"FIELDREQUIRED"),""))}function Bt(e,t){1&e&&v.Pb(0)}function qt(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,Bt,1,0,"ng-container",5),v.Sb()),2&e){v.gc(2);var i=v.yc(19);v.xb(1),v.nc("ngTemplateOutlet",i)}}function Ft(e,t){1&e&&v.Pb(0)}function Jt(e,t){if(1&e&&(v.Tb(0,"div"),v.Jc(1,Ft,1,0,"ng-container",5),v.Sb()),2&e){v.gc(2);var i=v.yc(19);v.xb(1),v.nc("ngTemplateOutlet",i)}}function Ut(e,t){if(1&e){var i=v.Ub();v.Tb(0,"div",12),v.Jc(1,jt,3,4,"div",13),v.Tb(2,"div",14),v.Tb(3,"label"),v.Lc(4),v.hc(5,"translate"),v.Tb(6,"span",15),v.Lc(7,"*"),v.Sb(),v.Sb(),v.Tb(8,"ejs-textbox",16,17),v.ec("blur",(function(){return v.Bc(i),v.gc().createRoleFocusOut()}))("change",(function(){return v.Bc(i),v.gc().createRoleChange()}))("created",(function(){return v.Bc(i),v.gc().controlCreated("roleNameField")}))("input",(function(e){return v.Bc(i),v.gc().createRoleInput(e)}))("focus",(function(){return v.Bc(i),v.gc().createRoleFocus()})),v.hc(10,"translate"),v.Sb(),v.Jc(11,_t,4,3,"div",13),v.Jc(12,qt,2,1,"div",13),v.Sb(),v.Tb(13,"div",18),v.Tb(14,"label"),v.Lc(15),v.hc(16,"translate"),v.Sb(),v.Tb(17,"ejs-textbox",19,20),v.ec("change",(function(){return v.Bc(i),v.gc().createRoleDescriptionChange()})),v.hc(19,"translate"),v.Sb(),v.Jc(20,Jt,2,1,"div",13),v.Sb(),v.Tb(21,"div",21),v.Tb(22,"h6"),v.Lc(23),v.hc(24,"translate"),v.Sb(),v.Tb(25,"div",22),v.Ob(26,"app-permisson-list",null,23),v.Sb(),v.Sb(),v.Sb()}if(2&e){var n=v.gc();v.xb(1),v.nc("ngIf",n.errorMessage),v.xb(3),v.Nc(" ",v.ic(5,11,"ROLENAME")," "),v.xb(4),v.oc("placeholder",v.ic(10,13,"TEXTBOXPLACEHOLDER")),v.nc("htmlAttributes",n.inputAttribute),v.xb(3),v.nc("ngIf",n.isRequired),v.xb(1),v.nc("ngIf",n.roleNameError),v.xb(3),v.Nc(" ",v.ic(16,15,"DESCRIPTION")," "),v.xb(2),v.oc("placeholder",v.ic(19,17,"TEXTBOXPLACEHOLDER")),v.nc("htmlAttributes",n.textAreaAttribute),v.xb(3),v.nc("ngIf",n.roleDescriptionError),v.xb(3),v.Mc(v.ic(24,19,"PERMISSIONS"))}}function Gt(e,t){if(1&e&&(v.Ob(0,"span",26),v.hc(1,"safe")),2&e){var i=v.gc();v.nc("innerHTML",v.jc(1,1,i.commonInputValidationErrorMessage,"html"),v.Cc)}}var Ht,Qt,Vt,Xt=[{path:"",component:ue},{path:"new",component:(Ht=function(){function t(i,n,o,r,c,a,l,s,d,u){var h=this;e(this,t),this.route=i,this.router=n,this.appRootService=o,this.roleService=r,this.toastService=c,this.roleRootService=a,this.authService=l,this.seoService=s,this.spinService=d,this.viewContainerRef=u,this.inputAttribute={maxlength:m.s,autocomplete:"anyrandomstring"},this.textAreaAttribute={maxlength:m.M,autocomplete:"anyrandomstring"},this.permissionListDetail=this.route.data.subscribe((function(e){h.permissionList=e.data,h.spinService.hideSpinner()}));var b=Object(g.a)("ADMIN")+" / "+Object(g.a)("ROLESPERMISSION")+" / "+Object(g.a)("CREATEROLE")+",/admin/roles-permissions",p=Object(g.a)("CREATEROLE")+" | "+Object(g.a)("ADMIN");this.appRootService.setAppTitleText(b),this.seoService.setHeaderElements({title:p}),this.appRootService.isSideBarNeeded(!0),this.appRootService.setBrandDropDownVisibility(!1),this.appRootService.getNavigateUrl("/admin/roles-permissions")}return i(t,[{key:"ngOnInit",value:function(){this.commonInputValidationErrorMessage=p.e}},{key:"createRoleFocusOut",value:function(){if(this.isRequired=!this.roleName.value,!this.isRequired){var e=Object(p.d)(this.roleName.value);this.roleNameError=!!e}}},{key:"createRoleChange",value:function(){if(null!=this.roleName.value){this.isRequired=!1,this.errorMessage=null;var e=Object(p.d)(this.roleName.value);this.roleNameError=!!e}else this.isRequired=!1,this.roleNameError=!1}},{key:"controlCreated",value:function(e){var t=this;setTimeout((function(){var i=t.addEditRoleForm.nativeElement;Object(p.h)(i.querySelector("#"+e))}))}},{key:"createRoleInput",value:function(e){var t=e.value;this.isRequired=!(!Object(h.X)(t)&&""!==t.trim());var i=Object(p.d)(t);this.roleNameError=!!i}},{key:"createRoleFocus",value:function(){this.isRequired=!1,this.roleNameError=!1}},{key:"createRoleDescriptionChange",value:function(){if(null!=this.roleDescription.value){var e=Object(p.d)(this.roleDescription.value);this.roleDescriptionError=!!e}else this.roleDescriptionError=!1}},{key:"updateCreateRole",value:function(){var e=this;if(this.errorMessage=null,null!=this.roleName.value&&""!==this.roleName.value&&this.roleName.value.length>0&&!this.roleNameError&&!this.roleDescriptionError){this.spinService.showSpinner();var t=this.permissionListRef.getPermissionLists();this.roleService.addRole({roleName:this.roleName.value,description:this.roleDescription.value,permissions:t}).then((function(t){e.spinService.hideSpinner(),t?(e.toastService.successToast(t.message),e.router.navigateByUrl("admin/roles-permissions/"+t.roleId,{state:{data:{isMembers:!0}}})):e.cancelDialog()})).catch((function(t){e.spinService.hideSpinner(),t.error&&t.error.errors.length>0&&e.toastService.failureToast(t.error.errors[0].errorMessage)}))}else this.roleNameError||this.roleDescriptionError||(this.isRequired=!0,this.errorMessage=null)}},{key:"cancelDialog",value:function(){this.router.navigateByUrl("/admin/roles-permissions")}}]),t}(),Ht.\u0275fac=function(e){return new(e||Ht)(v.Nb(l.a),v.Nb(l.g),v.Nb(S.a),v.Nb(D),v.Nb(R.a),v.Nb(C),v.Nb(x.a),v.Nb(T.a),v.Nb(M.a),v.Nb(v.O))},Ht.\u0275cmp=v.Hb({type:Ht,selectors:[["app-new-role"]],viewQuery:function(e,t){var i;1&e&&(v.Qc(Nt,!0),v.Qc(Lt,!0),v.Qc(At,!0),v.Qc(Pt,!0),v.Qc(I.e,!0),v.Qc(I.i,!0)),2&e&&(v.xc(i=v.fc())&&(t.roleName=i.first),v.xc(i=v.fc())&&(t.roleDescription=i.first),v.xc(i=v.fc())&&(t.addEditRoleForm=i.first),v.xc(i=v.fc())&&(t.permissionListRef=i.first),v.xc(i=v.fc())&&(t.checkbox=i),v.xc(i=v.fc())&&(t.radiobutton=i))},decls:20,vars:7,consts:[["contentRoleForm",""],[1,"permission-form","permission-overflow","overflow-auto-align"],[1,"row"],[1,"permission-part","col-lg-12"],[1,"pt-3","full-width"],[4,"ngTemplateOutlet"],[1,"row","action-buttons"],[1,"col-lg-8"],["data-ripple","true",1,"e-control","e-btn","e-primary","mr-3",3,"click"],["data-ripple","true",1,"e-control","e-outline","e-btn","e-secondary",3,"click"],["mainContent",""],["errorInputValidation",""],[1,"flex-vertical","control-width","pl-5","pt-4"],[4,"ngIf"],[1,"form-group","pb-3"],[1,"error"],["id","roleNameField","autocomplete","off",3,"placeholder","htmlAttributes","blur","change","created","input","focus"],["roleName",""],[1,"form-group","pb-2"],["data-id","roleDescription","autocomplete","off",3,"placeholder","htmlAttributes","change"],["roleDescription",""],[1,"form-group"],[1,"pt-2"],["permission",""],[3,"innerHTML"],[1,"required"],[1,"error",3,"innerHTML"]],template:function(e,t){if(1&e&&(v.Tb(0,"div",null,0),v.Tb(2,"div",1),v.Tb(3,"div",2),v.Tb(4,"div",3),v.Tb(5,"div",2),v.Tb(6,"div",4),v.Jc(7,wt,1,0,"ng-container",5),v.Sb(),v.Sb(),v.Tb(8,"div",6),v.Tb(9,"div",7),v.Tb(10,"button",8),v.ec("click",(function(){return t.updateCreateRole()})),v.Lc(11),v.hc(12,"translate"),v.Sb(),v.Tb(13,"button",9),v.ec("click",(function(){return t.cancelDialog()})),v.Lc(14),v.hc(15,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Jc(16,Ut,28,21,"ng-template",null,10,v.Kc),v.Jc(18,Gt,2,4,"ng-template",null,11,v.Kc)),2&e){var i=v.yc(17);v.xb(7),v.nc("ngTemplateOutlet",i),v.xb(4),v.Mc(v.ic(12,3,"CREATE")),v.xb(3),v.Mc(v.ic(15,5,"CANCEL"))}},directives:[a.r,a.n,y.i,ye],pipes:[A.a,P.a],styles:["body[_ngcontent-%COMP%]{--theme-color:#ff4800;--header-background-color:#ff4800;--header-font-color:#183247;--header-font-style:Roboto,segoe ui;--body-background-color:#f3f5f7;--primary-color:rgba(0,0,0,0.87);--secondary-color:#718096;--font-style:Roboto,segoe ui;--footer-background-color:#f1f1f1}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #e2e8f0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #e2e8f0!important}.border-right[_ngcontent-%COMP%]{border-right:1px solid #e2e8f0!important}.border-left[_ngcontent-%COMP%]{border-left:1px solid #e2e8f0!important}.border[_ngcontent-%COMP%]{border:1px solid #e2e8f0!important}.border-radius[_ngcontent-%COMP%]{border-radius:5px}.control-width[_ngcontent-%COMP%]{width:80%}.permission-form[_ngcontent-%COMP%]   .form-builder[_ngcontent-%COMP%]{margin:0 auto 0 5%}.action-buttons[_ngcontent-%COMP%]{background:#f7fafc;border-top:1px solid #e8eaed;bottom:0;height:55px;margin-left:0;padding:10px;position:fixed;width:100%}.permission-part[_ngcontent-%COMP%]{width:80%}.permission-overflow[_ngcontent-%COMP%]{height:calc(100vh - 110px);max-height:100%!important;top:0!important}.overflow-auto-align[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}"]}),Ht),resolve:{permissionData:kt}},{path:":roleId",component:Dt,resolve:{data:yt,permissionData:kt}},{path:"**",component:It.a}],zt=((Qt=function t(){e(this,t)}).\u0275mod=v.Lb({type:Qt}),Qt.\u0275inj=v.Kb({factory:function(e){return new(e||Qt)},imports:[[l.k.forChild(Xt)],l.k]}),Qt),$t=o("ltyr"),Kt=o("np3I"),Wt=o("5OZa"),Yt=((Vt=function t(i){e(this,t),this.roleRootService=i}).\u0275mod=v.Lb({type:Vt}),Vt.\u0275inj=v.Kb({factory:function(e){return new(e||Vt)(v.bc(C))},providers:[yt,k.l,k.s,k.t,D,k.g,C,k.q,kt],imports:[[a.b,$t.a,k.j,zt,I.b,d.a,y.h,Kt.AdminModule,L.b,L.d,I.d,I.f,I.l,I.h,N.l,L.g,Wt.a,N.e]]}),Vt)}}])}();