(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{hvyQ:function(t,e,i){"use strict";i.r(e),i.d(e,"FieldsModule",(function(){return tt}));var n=i("ofXK"),a=i("tyNb"),c=i("mrjb"),s=i("A4Lh"),l=i("H552"),o=i("kR0U"),r=i("M9dC"),d=i("58Y9"),b=i("dSv1"),h=i("Pk9d"),p=i("qBM0"),u=i("oRrO"),f=i("5LOs"),m=i("y5ZJ"),g=i("fXoL"),T=i("1kef"),S=i("JCZ/"),v=i("tk/3");let I=(()=>{class t{constructor(t){this.http=t,this.httpOptions={headers:new v.e({"Content-Type":"application/json"})}}deleteField(t){return this.http.delete(o.a.FieldDelete+"/"+t).toPromise()}toggleField(t,e){return this.http.post(t?o.a.FieldActiveOrDeactivate+"/"+e+"/activate":o.a.FieldActiveOrDeactivate+"/"+e+"/deactivate",this.httpOptions).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(g.bc(v.b))},t.\u0275prov=g.Jb({token:t,factory:t.\u0275fac}),t})();var E=i("X8pc"),F=i("IaKf"),x=i("QYJQ"),A=i("SRvG"),C=i("GJ+o"),O=i("hXFv"),D=i("EiDu"),L=i("AjNn");const j=["fieldListGrid"],y=["contextmenu"],k=["filedListEle"],P=["searchFields"];function w(t,e){if(1&t&&(g.Tb(0,"span"),g.Tb(1,"div"),g.Ob(2,"i",25),g.Sb(),g.Sb()),2&t){const t=e.$implicit;g.xb(1),g.yb("data-non-elliptical",!0)("data-title",t.fieldType),g.xb(1),g.oc("ngClass",null!=t.fieldTypeIconCssClass?t.fieldTypeIconCssClass:"bd-custom-default-icon")}}function N(t,e){if(1&t){const t=g.Ub();g.Tb(0,"span",33),g.ec("click",(function(){g.Bc(t);const e=g.gc().$implicit,i=g.gc();return e.canEditConfiguration||"Tags"==e.labelForAgentPortal||"Status"==e.labelForAgentPortal?i.fieldClick("/admin/"+e.labelForAgentPortal.toLowerCase().replace(" ","")):""})),g.Tb(1,"span",34),g.Lc(2),g.Sb(),g.Sb()}if(2&t){const t=g.gc().$implicit;g.xb(1),g.nc("ngClass",t.canEditConfiguration||"Tags"==t.labelForAgentPortal||"Status"==t.labelForAgentPortal?"primary-link-color-blue cursor-pointer":""),g.yb("data-title",t.labelForAgentPortal),g.xb(1),g.Mc(t.labelForAgentPortal)}}function B(t,e){if(1&t){const t=g.Ub();g.Tb(0,"span",35),g.Tb(1,"span",36),g.ec("click",(function(e){g.Bc(t);const i=g.gc().$implicit,n=g.gc();return i.canEditConfiguration?n.fieldNameClick(e,i.fieldId):""})),g.Lc(2),g.Sb(),g.Sb()}if(2&t){const t=g.gc().$implicit;g.xb(1),g.nc("ngClass",t.canEditConfiguration?"primary-link-color-blue cursor-pointer":""),g.yb("data-title",t.labelForAgentPortal),g.xb(1),g.Mc(t.labelForAgentPortal)}}function R(t,e){1&t&&(g.Tb(0,"span",37),g.hc(1,"translate"),g.Tb(2,"span"),g.Lc(3),g.hc(4,"translate"),g.Sb(),g.Sb()),2&t&&(g.yb("data-title",g.ic(1,2,"SYSTEM")),g.xb(3),g.Nc(" ",g.ic(4,4,"SYSTEM"),""))}function K(t,e){1&t&&(g.Tb(0,"span",38),g.hc(1,"translate"),g.Tb(2,"span"),g.Lc(3),g.hc(4,"translate"),g.Sb(),g.Sb()),2&t&&(g.yb("data-title",g.ic(1,2,"INACTIVE")),g.xb(3),g.Nc(" ",g.ic(4,4,"INACTIVE"),""))}function J(t,e){if(1&t&&(g.Tb(0,"div",26),g.Tb(1,"div",27),g.Tb(2,"span",28),g.Jc(3,N,3,3,"span",29),g.Jc(4,B,3,3,"span",30),g.Jc(5,R,5,6,"span",31),g.Jc(6,K,5,6,"span",32),g.Sb(),g.Sb(),g.Sb()),2&t){const t=e.$implicit;g.xb(3),g.nc("ngIf","Status"==t.labelForAgentPortal||"Priority"==t.labelForAgentPortal||"Tags"==t.labelForAgentPortal),g.xb(1),g.nc("ngIf","Status"!=t.labelForAgentPortal&&"Priority"!=t.labelForAgentPortal&&"Tags"!=t.labelForAgentPortal),g.xb(1),g.nc("ngIf",t.isDefaultSystemField),g.xb(1),g.nc("ngIf",!t.isActive)}}function M(t,e){if(1&t&&(g.Tb(0,"div"),g.Tb(1,"div",39),g.Lc(2),g.hc(3,"translate"),g.hc(4,"translate"),g.Sb(),g.Sb()),2&t){const t=e.$implicit;g.xb(2),g.Nc(" ",t.isVisibleInCustomerPortal?g.ic(3,1,"YES"):g.ic(4,3,"NO"),"")}}function U(t,e){if(1&t){const t=g.Ub();g.Tb(0,"span",42),g.ec("click",(function(){g.Bc(t);const e=g.gc().$implicit,i=g.gc();return i.moreOptionsSelect(i.editItem,e)})),g.hc(1,"translate"),g.Sb()}2&t&&g.yb("data-title",g.ic(1,1,"EDIT"))}function V(t,e){if(1&t){const t=g.Ub();g.Tb(0,"span",43),g.ec("click",(function(e){g.Bc(t);const i=g.gc().$implicit;return g.gc().bindBtnTemplate(e,i)})),g.Sb()}}function $(t,e){if(1&t&&(g.Jc(0,U,2,3,"span",40),g.Jc(1,V,1,0,"span",41)),2&t){const t=e.$implicit;g.nc("ngIf",t.canEditConfiguration&&"tags"!=t.apiName),g.xb(1),g.nc("ngIf",t.canEditConfiguration&&"tags"!=t.apiName&&!(t.isDefaultSystemField&&t.isActive))}}let Q=(()=>{class t{constructor(t,e,i,n,a,c,l){this.router=t,this.appRootService=e,this.seoService=i,this.fieldService=n,this.spinService=a,this.toastService=c,this.cd=l,this.fieldDialogPosition={X:"right"},this.listItems=[{text:"Activate",id:"2"},{text:"Deactivate",id:"3"},{text:"Delete",id:"4"}],this.defaultFieldItems=["Edit"],this.activeFieldItems=["Deactivate","Delete"],this.inActiveFieldItems=["Activate","Delete"],this.animation={effect:"none"},this.perPage=s.E.toString(),this.currentpage="1",this.fieldTypeEnum=u.a,this.editItem={item:{id:p.a.Edit}};const o=Object(b.a)("ADMIN")+" / "+Object(b.a)("TICKETFIELDS"),r=Object(b.a)("TICKETFIELDS")+" | "+Object(b.a)("ADMIN");this.appRootService.setAppTitleText(o),this.appRootService.isSideBarNeeded(!0),this.seoService.setHeaderElements({title:r})}ngOnInit(){let t=o.a.TicketFields;t=Object(d.i)(t,"Page",this.currentpage),t=Object(d.i)(t,"PerPage",this.perPage),this.fieldList=new l.a({url:t,adaptor:new r.a}),this.href=this.router.url}ngAfterViewInit(){this.filedListEle.nativeElement.addEventListener("scroll",()=>{this.contextmenu.close()})}searchNodes(){const t=this.searchFields.value.trim();this.grid.search(t)}fieldClick(t){this.router.navigateByUrl(t)}fieldNameClick(t,e){t.stopPropagation(),this.router.navigateByUrl(this.href+"/"+e)}addTicketFieldClick(){this.router.navigateByUrl("/admin/ticket-fields/add")}fieldListDataBound(){Object(d.a)(this.grid)}bindBtnTemplate(t,e){this.selectedItemData=e;const i=Object(h.f)(t.target);this.contextmenu.open(i.top+16,i.left-5,t.target)}itemBeforeEvent(){this.selectedItemData.isActive&&!this.selectedItemData.isDefaultSystemField?(this.contextmenu.hideItems(this.inActiveFieldItems),this.contextmenu.showItems(this.activeFieldItems)):(this.contextmenu.hideItems(this.activeFieldItems),this.contextmenu.showItems(this.inActiveFieldItems))}moreOptionsSelect(t,e){t.item.id===p.a.Edit?this.router.navigateByUrl(e.apiName==f.e.Status?"/admin/status":e.apiName==f.e.Priority?"/admin/priority":this.href+"/"+e.fieldId):t.item.id===p.a.Delete?Object(d.b)(this.updateDeleteField,this.cancelDialog,this,Object(b.a)("DELETE")+" "+Object(b.a)("TICKETFIELD"),Object(b.a)("TICKETFIELDDELETEALERT")):t.item.id===p.a.Activate?(this.isEnabled=!0,Object(d.b)(this.toggleField,this.cancelDialog,this,Object(b.a)("ACTIVATE")+" "+Object(b.a)("TICKETFIELD"),Object(b.a)("TICKETFIELDACTIVATEALERT"),Object(b.a)("YES")+", "+Object(b.a)("ACTIVATE"),"",!0)):(this.isEnabled=!1,Object(d.b)(this.toggleField,this.cancelDialog,this,Object(b.a)("DEACTIVATE")+" "+Object(b.a)("TICKETFIELD"),Object(b.a)("TICKETFIELDDEACTIVATEALERT"),Object(b.a)("YES")+", "+Object(b.a)("DEACTIVATE")))}loadGrid(){let t=o.a.TicketFields;t=Object(d.i)(t,"Page",this.currentpage),t=Object(d.i)(t,"PerPage",this.perPage),this.fieldList=new l.a({url:t,adaptor:new r.a}),this.cd.detectChanges()}toggleField(){this.spinService.showSpinner(),this.fieldService.toggleField(this.isEnabled,this.selectedItemData.fieldId).then(t=>{t&&(this.spinService.hideSpinner(),this.deleteDialog.hide(),this.loadGrid(),this.toastService.successToast(t.result),Object(m.c)())}).catch(t=>{const e=Object(d.q)(t.error);400===t.status&&(this.spinService.hideSpinner(),this.toastService.failureToast(e))})}cancelDialog(){this.deleteDialog.hide()}updateDeleteField(){this.spinService.showSpinner(),this.fieldService.deleteField(this.selectedItemData.fieldId).then(t=>{t&&(this.spinService.hideSpinner(),this.deleteDialog.hide(),this.loadGrid(),this.toastService.successToast(t.result),Object(m.c)())}).catch(t=>{this.spinService.hideSpinner();const e=Object(d.q)(t.error);400===t.status&&(this.spinService.hideSpinner(),this.toastService.failureToast(e))})}}return t.\u0275fac=function(e){return new(e||t)(g.Nb(a.g),g.Nb(T.a),g.Nb(S.a),g.Nb(I),g.Nb(E.a),g.Nb(F.a),g.Nb(g.h))},t.\u0275cmp=g.Hb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){var i;1&t&&(g.Qc(j,!0),g.Qc(y,!0),g.Qc(k,!0),g.Qc(P,!0)),2&t&&(g.xc(i=g.fc())&&(e.grid=i.first),g.xc(i=g.fc())&&(e.contextmenu=i.first),g.xc(i=g.fc())&&(e.filedListEle=i.first),g.xc(i=g.fc())&&(e.searchFields=i.first))},decls:41,vars:25,consts:[[1,"field-list","hd-grid-full-height"],["filedListEle",""],[1,"secondary","padding-10","information-content"],[1,"bd-icon","bd-icon-info","information-icon","information-icon-position"],[3,"innerHtml"],[1,"row","no-margin","pr-15"],[1,"grid-menu-bar"],[1,"grid-menu"],[1,"search-box","pr-1"],["showClearButton","true","autocomplete","off","maxlength","150",3,"placeholder","change"],["searchFields",""],[1,"add-button-container"],["type","button","ejs-button","",1,"e-btn","add-button","e-primary","e-outline",3,"click"],[1,"row","no-margin","pl-20","pr-20",2,"height","90%"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12","no-padding"],[3,"dataSource","allowResizing","dataBound"],["fieldListGrid",""],["minWidth","50","width","50"],["template",""],["field","labelForAgentPortal","minWidth","150","width","200","textAlign","Left",3,"headerText"],["field","labelForCustomerPortal","minWidth","120","width","120","textAlign","Left","clipMode","EllipsisWithTooltip",3,"headerText"],["field","isVisibleInCustomerPortal","minWidth","80","width","110","textAlign","Center","clipMode","EllipsisWithTooltip",3,"headerText"],["minWidth","100","width","100","textAlign","Center"],[3,"items","animationSettings","beforeOpen","select"],["contextmenu",""],[1,"bd-icon",2,"font-size","16px","position","relative","top","4px",3,"ngClass"],[1,"flex-horizontal","secondary","p-1"],[1,"flex-vertical","no-wrap","ellipsis"],[1,"flex-horizontal"],["class","e-text no-wrap ellipsis",3,"click",4,"ngIf"],["class","e-text no-wrap ellipsis",4,"ngIf"],["class","grid-label status left-spacing",4,"ngIf"],["class","grid-label inactive-label status left-spacing",4,"ngIf"],[1,"e-text","no-wrap","ellipsis",3,"click"],[3,"ngClass"],[1,"e-text","no-wrap","ellipsis"],[3,"ngClass","click"],[1,"grid-label","status","left-spacing"],[1,"grid-label","inactive-label","status","left-spacing"],[1,"grid-text-font-color"],["class","bd-icon bd-icon-edit more-option-button",3,"click",4,"ngIf"],["class","hd-icon hd-vertical-menu more-option-button",3,"click",4,"ngIf"],[1,"bd-icon","bd-icon-edit","more-option-button",3,"click"],[1,"hd-icon","hd-vertical-menu","more-option-button",3,"click"]],template:function(t,e){1&t&&(g.Tb(0,"div",0,1),g.Tb(2,"div",2),g.Ob(3,"div",3),g.Ob(4,"span",4),g.hc(5,"safe"),g.hc(6,"translate"),g.Sb(),g.Tb(7,"div",5),g.Tb(8,"div",6),g.Tb(9,"div",7),g.Tb(10,"div",8),g.Tb(11,"ejs-textbox",9,10),g.ec("change",(function(){return e.searchNodes()})),g.hc(13,"translate"),g.Sb(),g.Sb(),g.Tb(14,"div",11),g.Tb(15,"button",12),g.ec("click",(function(){return e.addTicketFieldClick()})),g.Lc(16),g.hc(17,"translate"),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Tb(18,"div",13),g.Tb(19,"div",14),g.Tb(20,"ejs-grid",15,16),g.ec("dataBound",(function(){return e.fieldListDataBound()})),g.Tb(22,"e-columns"),g.Tb(23,"e-column",17),g.Jc(24,w,3,3,"ng-template",null,18,g.Kc),g.Sb(),g.Tb(26,"e-column",19),g.hc(27,"translate"),g.Jc(28,J,7,4,"ng-template",null,18,g.Kc),g.Sb(),g.Ob(30,"e-column",20),g.hc(31,"translate"),g.Tb(32,"e-column",21),g.hc(33,"translate"),g.Jc(34,M,5,5,"ng-template",null,18,g.Kc),g.Sb(),g.Tb(36,"e-column",22),g.Jc(37,$,2,2,"ng-template",null,18,g.Kc),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Sb(),g.Tb(39,"ejs-contextmenu",23,24),g.ec("beforeOpen",(function(){return e.itemBeforeEvent()}))("select",(function(t){return e.moreOptionsSelect(t)})),g.Sb()),2&t&&(g.xb(4),g.nc("innerHtml",g.jc(5,10,g.ic(6,13,"TICKETFIELDSMODULEINFO"),"html"),g.Cc),g.xb(7),g.oc("placeholder",g.ic(13,15,"SEARCH")),g.xb(5),g.Nc(" ",g.ic(17,17,"ADDTICKETFIELD")," "),g.xb(4),g.nc("dataSource",e.fieldList)("allowResizing",!0),g.xb(6),g.oc("headerText",g.ic(27,19,"LABELFORAGENTPORATL")),g.xb(4),g.oc("headerText",g.ic(31,21,"LABELFORCUTOMERPORTAL")),g.xb(2),g.oc("headerText",g.ic(33,23,"VISIBLEINCUSTOMERPORTAL")),g.xb(7),g.nc("items",e.listItems)("animationSettings",e.animation))},directives:[x.i,A.c,C.k,C.e,C.b,C.d,C.a,O.f,n.l,n.n],pipes:[D.a,L.a],encapsulation:2,changeDetection:0}),t})();var G=i("hCAU"),W=i("CBeA"),Y=i("TSZ8");const H=[{path:"",component:Q},{path:"add",component:G.a,data:{customFieldsType:f.c.TicketFields,addCustomField:!0,module:f.b.Ticket},canDeactivate:[Y.a]},{path:":id",component:G.a,resolve:{data:W.a},data:{customFieldsType:f.c.TicketFields,addCustomField:!1,module:f.b.Ticket},canDeactivate:[Y.a]},{path:"**",component:c.a}];let z=(()=>{class t{}return t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({factory:function(e){return new(e||t)},imports:[[a.k.forChild(H)],a.k]}),t})();var X=i("ltyr"),q=i("np3I"),Z=i("jcQU"),_=i("Pl5m");let tt=(()=>{class t{}return t.\u0275mod=g.Lb({type:t}),t.\u0275inj=g.Kb({factory:function(e){return new(e||t)},providers:[I,W.a],imports:[[n.b,z,X.a,_.a,C.j,O.j,q.AdminModule,Z.d,A.b,x.h,Z.g,A.h,A.d,A.j,O.e]]}),t})()}}]);